{"version":3,"file":"extensions.js","mappings":"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","sources":[".././node_modules/@sindresorhus/is/dist/index.js",".././node_modules/@szmarczak/http-timer/dist/source/index.js",".././node_modules/bing-translate-api/src/index.js",".././node_modules/bing-translate-api/src/lang.js",".././node_modules/bing-translate-api/src/met/index.js",".././node_modules/bing-translate-api/src/met/lang.js",".././node_modules/cacheable-lookup/source/index.js",".././node_modules/cacheable-request/src/index.js",".././node_modules/clone-response/src/index.js",".././node_modules/decompress-response/index.js",".././node_modules/decompress-response/node_modules/mimic-response/index.js",".././node_modules/defer-to-connect/dist/source/index.js",".././node_modules/end-of-stream/index.js",".././node_modules/fast-xml-parser/src/fxp.js",".././node_modules/fast-xml-parser/src/util.js",".././node_modules/fast-xml-parser/src/validator.js",".././node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js",".././node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js",".././node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js",".././node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js",".././node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js",".././node_modules/fast-xml-parser/src/xmlparser/XMLParser.js",".././node_modules/fast-xml-parser/src/xmlparser/node2json.js",".././node_modules/fast-xml-parser/src/xmlparser/xmlNode.js",".././node_modules/get-stream/buffer-stream.js",".././node_modules/get-stream/index.js",".././node_modules/got/dist/source/as-promise/create-rejection.js",".././node_modules/got/dist/source/as-promise/index.js",".././node_modules/got/dist/source/as-promise/normalize-arguments.js",".././node_modules/got/dist/source/as-promise/parse-body.js",".././node_modules/got/dist/source/as-promise/types.js",".././node_modules/got/dist/source/core/calculate-retry-delay.js",".././node_modules/got/dist/source/core/index.js",".././node_modules/got/dist/source/core/utils/dns-ip-version.js",".././node_modules/got/dist/source/core/utils/get-body-size.js",".././node_modules/got/dist/source/core/utils/get-buffer.js",".././node_modules/got/dist/source/core/utils/is-form-data.js",".././node_modules/got/dist/source/core/utils/is-response-ok.js",".././node_modules/got/dist/source/core/utils/options-to-url.js",".././node_modules/got/dist/source/core/utils/proxy-events.js",".././node_modules/got/dist/source/core/utils/timed-out.js",".././node_modules/got/dist/source/core/utils/unhandle.js",".././node_modules/got/dist/source/core/utils/url-to-options.js",".././node_modules/got/dist/source/core/utils/weakable-map.js",".././node_modules/got/dist/source/create.js",".././node_modules/got/dist/source/index.js",".././node_modules/got/dist/source/types.js",".././node_modules/got/dist/source/utils/deep-freeze.js",".././node_modules/got/dist/source/utils/deprecation-warning.js",".././node_modules/http-cache-semantics/index.js",".././node_modules/http2-wrapper/source/agent.js",".././node_modules/http2-wrapper/source/auto.js",".././node_modules/http2-wrapper/source/client-request.js",".././node_modules/http2-wrapper/source/incoming-message.js",".././node_modules/http2-wrapper/source/index.js",".././node_modules/http2-wrapper/source/utils/calculate-server-name.js",".././node_modules/http2-wrapper/source/utils/errors.js",".././node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js",".././node_modules/http2-wrapper/source/utils/proxy-events.js",".././node_modules/http2-wrapper/source/utils/url-to-options.js",".././node_modules/json-buffer/index.js",".././node_modules/keyv/src/index.js",".././node_modules/keyv/src/ sync",".././node_modules/lowercase-keys/index.js",".././node_modules/mimic-response/index.js",".././node_modules/normalize-url/index.js",".././node_modules/once/once.js",".././node_modules/p-cancelable/index.js",".././node_modules/pump/index.js",".././node_modules/quick-lru/index.js",".././node_modules/resolve-alpn/index.js",".././node_modules/responselike/src/index.js",".././node_modules/strnum/strnum.js",".././Component/modOp.ts",".././files/ioxml.ts",".././lang/config/AnnoLanguages.ts",".././lang/scripts/Bing/bingConfig.ts",".././lang/scripts/Bing/bingProvider.ts",".././lang/scripts/Libre/LibreProvider.ts",".././lang/scripts/Libre/libreConfig.ts",".././lang/scripts/handleProvider.ts",".././message/messageHandler.ts",".././src/Action/index.ts",".././src/Action/modinfo.ts",".././src/Action/multiFile.ts",".././src/Action/singleFile.ts",".././src/extensions.ts",".././node_modules/wrappy/wrappy.js","../external commonjs \"vscode\"","../external node-commonjs \"buffer\"","../external node-commonjs \"dns\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"http2\"","../external node-commonjs \"https\"","../external node-commonjs \"net\"","../external node-commonjs \"node:fs\"","../external node-commonjs \"os\"","../external node-commonjs \"stream\"","../external node-commonjs \"tls\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"zlib\"","../webpack/bootstrap","../webpack/runtime/hasOwnProperty shorthand","../webpack/startup"],"sourcesContent":["\"use strict\";\n/// <reference lib=\"es2018\"/>\n/// <reference lib=\"dom\"/>\n/// <reference types=\"node\"/>\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst typedArrayTypeNames = [\n    'Int8Array',\n    'Uint8Array',\n    'Uint8ClampedArray',\n    'Int16Array',\n    'Uint16Array',\n    'Int32Array',\n    'Uint32Array',\n    'Float32Array',\n    'Float64Array',\n    'BigInt64Array',\n    'BigUint64Array'\n];\nfunction isTypedArrayName(name) {\n    return typedArrayTypeNames.includes(name);\n}\nconst objectTypeNames = [\n    'Function',\n    'Generator',\n    'AsyncGenerator',\n    'GeneratorFunction',\n    'AsyncGeneratorFunction',\n    'AsyncFunction',\n    'Observable',\n    'Array',\n    'Buffer',\n    'Blob',\n    'Object',\n    'RegExp',\n    'Date',\n    'Error',\n    'Map',\n    'Set',\n    'WeakMap',\n    'WeakSet',\n    'ArrayBuffer',\n    'SharedArrayBuffer',\n    'DataView',\n    'Promise',\n    'URL',\n    'FormData',\n    'URLSearchParams',\n    'HTMLElement',\n    ...typedArrayTypeNames\n];\nfunction isObjectTypeName(name) {\n    return objectTypeNames.includes(name);\n}\nconst primitiveTypeNames = [\n    'null',\n    'undefined',\n    'string',\n    'number',\n    'bigint',\n    'boolean',\n    'symbol'\n];\nfunction isPrimitiveTypeName(name) {\n    return primitiveTypeNames.includes(name);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isOfType(type) {\n    return (value) => typeof value === type;\n}\nconst { toString } = Object.prototype;\nconst getObjectType = (value) => {\n    const objectTypeName = toString.call(value).slice(8, -1);\n    if (/HTML\\w+Element/.test(objectTypeName) && is.domElement(value)) {\n        return 'HTMLElement';\n    }\n    if (isObjectTypeName(objectTypeName)) {\n        return objectTypeName;\n    }\n    return undefined;\n};\nconst isObjectOfType = (type) => (value) => getObjectType(value) === type;\nfunction is(value) {\n    if (value === null) {\n        return 'null';\n    }\n    switch (typeof value) {\n        case 'undefined':\n            return 'undefined';\n        case 'string':\n            return 'string';\n        case 'number':\n            return 'number';\n        case 'boolean':\n            return 'boolean';\n        case 'function':\n            return 'Function';\n        case 'bigint':\n            return 'bigint';\n        case 'symbol':\n            return 'symbol';\n        default:\n    }\n    if (is.observable(value)) {\n        return 'Observable';\n    }\n    if (is.array(value)) {\n        return 'Array';\n    }\n    if (is.buffer(value)) {\n        return 'Buffer';\n    }\n    const tagType = getObjectType(value);\n    if (tagType) {\n        return tagType;\n    }\n    if (value instanceof String || value instanceof Boolean || value instanceof Number) {\n        throw new TypeError('Please don\\'t use object wrappers for primitive types');\n    }\n    return 'Object';\n}\nis.undefined = isOfType('undefined');\nis.string = isOfType('string');\nconst isNumberType = isOfType('number');\nis.number = (value) => isNumberType(value) && !is.nan(value);\nis.bigint = isOfType('bigint');\n// eslint-disable-next-line @typescript-eslint/ban-types\nis.function_ = isOfType('function');\nis.null_ = (value) => value === null;\nis.class_ = (value) => is.function_(value) && value.toString().startsWith('class ');\nis.boolean = (value) => value === true || value === false;\nis.symbol = isOfType('symbol');\nis.numericString = (value) => is.string(value) && !is.emptyStringOrWhitespace(value) && !Number.isNaN(Number(value));\nis.array = (value, assertion) => {\n    if (!Array.isArray(value)) {\n        return false;\n    }\n    if (!is.function_(assertion)) {\n        return true;\n    }\n    return value.every(assertion);\n};\nis.buffer = (value) => { var _a, _b, _c, _d; return (_d = (_c = (_b = (_a = value) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.isBuffer) === null || _c === void 0 ? void 0 : _c.call(_b, value)) !== null && _d !== void 0 ? _d : false; };\nis.blob = (value) => isObjectOfType('Blob')(value);\nis.nullOrUndefined = (value) => is.null_(value) || is.undefined(value);\nis.object = (value) => !is.null_(value) && (typeof value === 'object' || is.function_(value));\nis.iterable = (value) => { var _a; return is.function_((_a = value) === null || _a === void 0 ? void 0 : _a[Symbol.iterator]); };\nis.asyncIterable = (value) => { var _a; return is.function_((_a = value) === null || _a === void 0 ? void 0 : _a[Symbol.asyncIterator]); };\nis.generator = (value) => { var _a, _b; return is.iterable(value) && is.function_((_a = value) === null || _a === void 0 ? void 0 : _a.next) && is.function_((_b = value) === null || _b === void 0 ? void 0 : _b.throw); };\nis.asyncGenerator = (value) => is.asyncIterable(value) && is.function_(value.next) && is.function_(value.throw);\nis.nativePromise = (value) => isObjectOfType('Promise')(value);\nconst hasPromiseAPI = (value) => {\n    var _a, _b;\n    return is.function_((_a = value) === null || _a === void 0 ? void 0 : _a.then) &&\n        is.function_((_b = value) === null || _b === void 0 ? void 0 : _b.catch);\n};\nis.promise = (value) => is.nativePromise(value) || hasPromiseAPI(value);\nis.generatorFunction = isObjectOfType('GeneratorFunction');\nis.asyncGeneratorFunction = (value) => getObjectType(value) === 'AsyncGeneratorFunction';\nis.asyncFunction = (value) => getObjectType(value) === 'AsyncFunction';\n// eslint-disable-next-line no-prototype-builtins, @typescript-eslint/ban-types\nis.boundFunction = (value) => is.function_(value) && !value.hasOwnProperty('prototype');\nis.regExp = isObjectOfType('RegExp');\nis.date = isObjectOfType('Date');\nis.error = isObjectOfType('Error');\nis.map = (value) => isObjectOfType('Map')(value);\nis.set = (value) => isObjectOfType('Set')(value);\nis.weakMap = (value) => isObjectOfType('WeakMap')(value);\nis.weakSet = (value) => isObjectOfType('WeakSet')(value);\nis.int8Array = isObjectOfType('Int8Array');\nis.uint8Array = isObjectOfType('Uint8Array');\nis.uint8ClampedArray = isObjectOfType('Uint8ClampedArray');\nis.int16Array = isObjectOfType('Int16Array');\nis.uint16Array = isObjectOfType('Uint16Array');\nis.int32Array = isObjectOfType('Int32Array');\nis.uint32Array = isObjectOfType('Uint32Array');\nis.float32Array = isObjectOfType('Float32Array');\nis.float64Array = isObjectOfType('Float64Array');\nis.bigInt64Array = isObjectOfType('BigInt64Array');\nis.bigUint64Array = isObjectOfType('BigUint64Array');\nis.arrayBuffer = isObjectOfType('ArrayBuffer');\nis.sharedArrayBuffer = isObjectOfType('SharedArrayBuffer');\nis.dataView = isObjectOfType('DataView');\nis.enumCase = (value, targetEnum) => Object.values(targetEnum).includes(value);\nis.directInstanceOf = (instance, class_) => Object.getPrototypeOf(instance) === class_.prototype;\nis.urlInstance = (value) => isObjectOfType('URL')(value);\nis.urlString = (value) => {\n    if (!is.string(value)) {\n        return false;\n    }\n    try {\n        new URL(value); // eslint-disable-line no-new\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n};\n// Example: `is.truthy = (value: unknown): value is (not false | not 0 | not '' | not undefined | not null) => Boolean(value);`\nis.truthy = (value) => Boolean(value);\n// Example: `is.falsy = (value: unknown): value is (not true | 0 | '' | undefined | null) => Boolean(value);`\nis.falsy = (value) => !value;\nis.nan = (value) => Number.isNaN(value);\nis.primitive = (value) => is.null_(value) || isPrimitiveTypeName(typeof value);\nis.integer = (value) => Number.isInteger(value);\nis.safeInteger = (value) => Number.isSafeInteger(value);\nis.plainObject = (value) => {\n    // From: https://github.com/sindresorhus/is-plain-obj/blob/main/index.js\n    if (toString.call(value) !== '[object Object]') {\n        return false;\n    }\n    const prototype = Object.getPrototypeOf(value);\n    return prototype === null || prototype === Object.getPrototypeOf({});\n};\nis.typedArray = (value) => isTypedArrayName(getObjectType(value));\nconst isValidLength = (value) => is.safeInteger(value) && value >= 0;\nis.arrayLike = (value) => !is.nullOrUndefined(value) && !is.function_(value) && isValidLength(value.length);\nis.inRange = (value, range) => {\n    if (is.number(range)) {\n        return value >= Math.min(0, range) && value <= Math.max(range, 0);\n    }\n    if (is.array(range) && range.length === 2) {\n        return value >= Math.min(...range) && value <= Math.max(...range);\n    }\n    throw new TypeError(`Invalid range: ${JSON.stringify(range)}`);\n};\nconst NODE_TYPE_ELEMENT = 1;\nconst DOM_PROPERTIES_TO_CHECK = [\n    'innerHTML',\n    'ownerDocument',\n    'style',\n    'attributes',\n    'nodeValue'\n];\nis.domElement = (value) => {\n    return is.object(value) &&\n        value.nodeType === NODE_TYPE_ELEMENT &&\n        is.string(value.nodeName) &&\n        !is.plainObject(value) &&\n        DOM_PROPERTIES_TO_CHECK.every(property => property in value);\n};\nis.observable = (value) => {\n    var _a, _b, _c, _d;\n    if (!value) {\n        return false;\n    }\n    // eslint-disable-next-line no-use-extend-native/no-use-extend-native\n    if (value === ((_b = (_a = value)[Symbol.observable]) === null || _b === void 0 ? void 0 : _b.call(_a))) {\n        return true;\n    }\n    if (value === ((_d = (_c = value)['@@observable']) === null || _d === void 0 ? void 0 : _d.call(_c))) {\n        return true;\n    }\n    return false;\n};\nis.nodeStream = (value) => is.object(value) && is.function_(value.pipe) && !is.observable(value);\nis.infinite = (value) => value === Infinity || value === -Infinity;\nconst isAbsoluteMod2 = (remainder) => (value) => is.integer(value) && Math.abs(value % 2) === remainder;\nis.evenInteger = isAbsoluteMod2(0);\nis.oddInteger = isAbsoluteMod2(1);\nis.emptyArray = (value) => is.array(value) && value.length === 0;\nis.nonEmptyArray = (value) => is.array(value) && value.length > 0;\nis.emptyString = (value) => is.string(value) && value.length === 0;\nconst isWhiteSpaceString = (value) => is.string(value) && !/\\S/.test(value);\nis.emptyStringOrWhitespace = (value) => is.emptyString(value) || isWhiteSpaceString(value);\n// TODO: Use `not ''` when the `not` operator is available.\nis.nonEmptyString = (value) => is.string(value) && value.length > 0;\n// TODO: Use `not ''` when the `not` operator is available.\nis.nonEmptyStringAndNotWhitespace = (value) => is.string(value) && !is.emptyStringOrWhitespace(value);\nis.emptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length === 0;\n// TODO: Use `not` operator here to remove `Map` and `Set` from type guard:\n// - https://github.com/Microsoft/TypeScript/pull/29317\nis.nonEmptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length > 0;\nis.emptySet = (value) => is.set(value) && value.size === 0;\nis.nonEmptySet = (value) => is.set(value) && value.size > 0;\nis.emptyMap = (value) => is.map(value) && value.size === 0;\nis.nonEmptyMap = (value) => is.map(value) && value.size > 0;\n// `PropertyKey` is any value that can be used as an object key (string, number, or symbol)\nis.propertyKey = (value) => is.any([is.string, is.number, is.symbol], value);\nis.formData = (value) => isObjectOfType('FormData')(value);\nis.urlSearchParams = (value) => isObjectOfType('URLSearchParams')(value);\nconst predicateOnArray = (method, predicate, values) => {\n    if (!is.function_(predicate)) {\n        throw new TypeError(`Invalid predicate: ${JSON.stringify(predicate)}`);\n    }\n    if (values.length === 0) {\n        throw new TypeError('Invalid number of values');\n    }\n    return method.call(values, predicate);\n};\nis.any = (predicate, ...values) => {\n    const predicates = is.array(predicate) ? predicate : [predicate];\n    return predicates.some(singlePredicate => predicateOnArray(Array.prototype.some, singlePredicate, values));\n};\nis.all = (predicate, ...values) => predicateOnArray(Array.prototype.every, predicate, values);\nconst assertType = (condition, description, value, options = {}) => {\n    if (!condition) {\n        const { multipleValues } = options;\n        const valuesMessage = multipleValues ?\n            `received values of types ${[\n                ...new Set(value.map(singleValue => `\\`${is(singleValue)}\\``))\n            ].join(', ')}` :\n            `received value of type \\`${is(value)}\\``;\n        throw new TypeError(`Expected value which is \\`${description}\\`, ${valuesMessage}.`);\n    }\n};\nexports.assert = {\n    // Unknowns.\n    undefined: (value) => assertType(is.undefined(value), 'undefined', value),\n    string: (value) => assertType(is.string(value), 'string', value),\n    number: (value) => assertType(is.number(value), 'number', value),\n    bigint: (value) => assertType(is.bigint(value), 'bigint', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    function_: (value) => assertType(is.function_(value), 'Function', value),\n    null_: (value) => assertType(is.null_(value), 'null', value),\n    class_: (value) => assertType(is.class_(value), \"Class\" /* class_ */, value),\n    boolean: (value) => assertType(is.boolean(value), 'boolean', value),\n    symbol: (value) => assertType(is.symbol(value), 'symbol', value),\n    numericString: (value) => assertType(is.numericString(value), \"string with a number\" /* numericString */, value),\n    array: (value, assertion) => {\n        const assert = assertType;\n        assert(is.array(value), 'Array', value);\n        if (assertion) {\n            value.forEach(assertion);\n        }\n    },\n    buffer: (value) => assertType(is.buffer(value), 'Buffer', value),\n    blob: (value) => assertType(is.blob(value), 'Blob', value),\n    nullOrUndefined: (value) => assertType(is.nullOrUndefined(value), \"null or undefined\" /* nullOrUndefined */, value),\n    object: (value) => assertType(is.object(value), 'Object', value),\n    iterable: (value) => assertType(is.iterable(value), \"Iterable\" /* iterable */, value),\n    asyncIterable: (value) => assertType(is.asyncIterable(value), \"AsyncIterable\" /* asyncIterable */, value),\n    generator: (value) => assertType(is.generator(value), 'Generator', value),\n    asyncGenerator: (value) => assertType(is.asyncGenerator(value), 'AsyncGenerator', value),\n    nativePromise: (value) => assertType(is.nativePromise(value), \"native Promise\" /* nativePromise */, value),\n    promise: (value) => assertType(is.promise(value), 'Promise', value),\n    generatorFunction: (value) => assertType(is.generatorFunction(value), 'GeneratorFunction', value),\n    asyncGeneratorFunction: (value) => assertType(is.asyncGeneratorFunction(value), 'AsyncGeneratorFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    asyncFunction: (value) => assertType(is.asyncFunction(value), 'AsyncFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    boundFunction: (value) => assertType(is.boundFunction(value), 'Function', value),\n    regExp: (value) => assertType(is.regExp(value), 'RegExp', value),\n    date: (value) => assertType(is.date(value), 'Date', value),\n    error: (value) => assertType(is.error(value), 'Error', value),\n    map: (value) => assertType(is.map(value), 'Map', value),\n    set: (value) => assertType(is.set(value), 'Set', value),\n    weakMap: (value) => assertType(is.weakMap(value), 'WeakMap', value),\n    weakSet: (value) => assertType(is.weakSet(value), 'WeakSet', value),\n    int8Array: (value) => assertType(is.int8Array(value), 'Int8Array', value),\n    uint8Array: (value) => assertType(is.uint8Array(value), 'Uint8Array', value),\n    uint8ClampedArray: (value) => assertType(is.uint8ClampedArray(value), 'Uint8ClampedArray', value),\n    int16Array: (value) => assertType(is.int16Array(value), 'Int16Array', value),\n    uint16Array: (value) => assertType(is.uint16Array(value), 'Uint16Array', value),\n    int32Array: (value) => assertType(is.int32Array(value), 'Int32Array', value),\n    uint32Array: (value) => assertType(is.uint32Array(value), 'Uint32Array', value),\n    float32Array: (value) => assertType(is.float32Array(value), 'Float32Array', value),\n    float64Array: (value) => assertType(is.float64Array(value), 'Float64Array', value),\n    bigInt64Array: (value) => assertType(is.bigInt64Array(value), 'BigInt64Array', value),\n    bigUint64Array: (value) => assertType(is.bigUint64Array(value), 'BigUint64Array', value),\n    arrayBuffer: (value) => assertType(is.arrayBuffer(value), 'ArrayBuffer', value),\n    sharedArrayBuffer: (value) => assertType(is.sharedArrayBuffer(value), 'SharedArrayBuffer', value),\n    dataView: (value) => assertType(is.dataView(value), 'DataView', value),\n    enumCase: (value, targetEnum) => assertType(is.enumCase(value, targetEnum), 'EnumCase', value),\n    urlInstance: (value) => assertType(is.urlInstance(value), 'URL', value),\n    urlString: (value) => assertType(is.urlString(value), \"string with a URL\" /* urlString */, value),\n    truthy: (value) => assertType(is.truthy(value), \"truthy\" /* truthy */, value),\n    falsy: (value) => assertType(is.falsy(value), \"falsy\" /* falsy */, value),\n    nan: (value) => assertType(is.nan(value), \"NaN\" /* nan */, value),\n    primitive: (value) => assertType(is.primitive(value), \"primitive\" /* primitive */, value),\n    integer: (value) => assertType(is.integer(value), \"integer\" /* integer */, value),\n    safeInteger: (value) => assertType(is.safeInteger(value), \"integer\" /* safeInteger */, value),\n    plainObject: (value) => assertType(is.plainObject(value), \"plain object\" /* plainObject */, value),\n    typedArray: (value) => assertType(is.typedArray(value), \"TypedArray\" /* typedArray */, value),\n    arrayLike: (value) => assertType(is.arrayLike(value), \"array-like\" /* arrayLike */, value),\n    domElement: (value) => assertType(is.domElement(value), \"HTMLElement\" /* domElement */, value),\n    observable: (value) => assertType(is.observable(value), 'Observable', value),\n    nodeStream: (value) => assertType(is.nodeStream(value), \"Node.js Stream\" /* nodeStream */, value),\n    infinite: (value) => assertType(is.infinite(value), \"infinite number\" /* infinite */, value),\n    emptyArray: (value) => assertType(is.emptyArray(value), \"empty array\" /* emptyArray */, value),\n    nonEmptyArray: (value) => assertType(is.nonEmptyArray(value), \"non-empty array\" /* nonEmptyArray */, value),\n    emptyString: (value) => assertType(is.emptyString(value), \"empty string\" /* emptyString */, value),\n    emptyStringOrWhitespace: (value) => assertType(is.emptyStringOrWhitespace(value), \"empty string or whitespace\" /* emptyStringOrWhitespace */, value),\n    nonEmptyString: (value) => assertType(is.nonEmptyString(value), \"non-empty string\" /* nonEmptyString */, value),\n    nonEmptyStringAndNotWhitespace: (value) => assertType(is.nonEmptyStringAndNotWhitespace(value), \"non-empty string and not whitespace\" /* nonEmptyStringAndNotWhitespace */, value),\n    emptyObject: (value) => assertType(is.emptyObject(value), \"empty object\" /* emptyObject */, value),\n    nonEmptyObject: (value) => assertType(is.nonEmptyObject(value), \"non-empty object\" /* nonEmptyObject */, value),\n    emptySet: (value) => assertType(is.emptySet(value), \"empty set\" /* emptySet */, value),\n    nonEmptySet: (value) => assertType(is.nonEmptySet(value), \"non-empty set\" /* nonEmptySet */, value),\n    emptyMap: (value) => assertType(is.emptyMap(value), \"empty map\" /* emptyMap */, value),\n    nonEmptyMap: (value) => assertType(is.nonEmptyMap(value), \"non-empty map\" /* nonEmptyMap */, value),\n    propertyKey: (value) => assertType(is.propertyKey(value), 'PropertyKey', value),\n    formData: (value) => assertType(is.formData(value), 'FormData', value),\n    urlSearchParams: (value) => assertType(is.urlSearchParams(value), 'URLSearchParams', value),\n    // Numbers.\n    evenInteger: (value) => assertType(is.evenInteger(value), \"even integer\" /* evenInteger */, value),\n    oddInteger: (value) => assertType(is.oddInteger(value), \"odd integer\" /* oddInteger */, value),\n    // Two arguments.\n    directInstanceOf: (instance, class_) => assertType(is.directInstanceOf(instance, class_), \"T\" /* directInstanceOf */, instance),\n    inRange: (value, range) => assertType(is.inRange(value, range), \"in range\" /* inRange */, value),\n    // Variadic functions.\n    any: (predicate, ...values) => {\n        return assertType(is.any(predicate, ...values), \"predicate returns truthy for any value\" /* any */, values, { multipleValues: true });\n    },\n    all: (predicate, ...values) => assertType(is.all(predicate, ...values), \"predicate returns truthy for all values\" /* all */, values, { multipleValues: true })\n};\n// Some few keywords are reserved, but we'll populate them for Node.js users\n// See https://github.com/Microsoft/TypeScript/issues/2536\nObject.defineProperties(is, {\n    class: {\n        value: is.class_\n    },\n    function: {\n        value: is.function_\n    },\n    null: {\n        value: is.null_\n    }\n});\nObject.defineProperties(exports.assert, {\n    class: {\n        value: exports.assert.class_\n    },\n    function: {\n        value: exports.assert.function_\n    },\n    null: {\n        value: exports.assert.null_\n    }\n});\nexports.default = is;\n// For CommonJS default export support\nmodule.exports = is;\nmodule.exports.default = is;\nmodule.exports.assert = exports.assert;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst defer_to_connect_1 = require(\"defer-to-connect\");\nconst util_1 = require(\"util\");\nconst nodejsMajorVersion = Number(process.versions.node.split('.')[0]);\nconst timer = (request) => {\n    if (request.timings) {\n        return request.timings;\n    }\n    const timings = {\n        start: Date.now(),\n        socket: undefined,\n        lookup: undefined,\n        connect: undefined,\n        secureConnect: undefined,\n        upload: undefined,\n        response: undefined,\n        end: undefined,\n        error: undefined,\n        abort: undefined,\n        phases: {\n            wait: undefined,\n            dns: undefined,\n            tcp: undefined,\n            tls: undefined,\n            request: undefined,\n            firstByte: undefined,\n            download: undefined,\n            total: undefined\n        }\n    };\n    request.timings = timings;\n    const handleError = (origin) => {\n        const emit = origin.emit.bind(origin);\n        origin.emit = (event, ...args) => {\n            // Catches the `error` event\n            if (event === 'error') {\n                timings.error = Date.now();\n                timings.phases.total = timings.error - timings.start;\n                origin.emit = emit;\n            }\n            // Saves the original behavior\n            return emit(event, ...args);\n        };\n    };\n    handleError(request);\n    const onAbort = () => {\n        timings.abort = Date.now();\n        // Let the `end` response event be responsible for setting the total phase,\n        // unless the Node.js major version is >= 13.\n        if (!timings.response || nodejsMajorVersion >= 13) {\n            timings.phases.total = Date.now() - timings.start;\n        }\n    };\n    request.prependOnceListener('abort', onAbort);\n    const onSocket = (socket) => {\n        timings.socket = Date.now();\n        timings.phases.wait = timings.socket - timings.start;\n        if (util_1.types.isProxy(socket)) {\n            return;\n        }\n        const lookupListener = () => {\n            timings.lookup = Date.now();\n            timings.phases.dns = timings.lookup - timings.socket;\n        };\n        socket.prependOnceListener('lookup', lookupListener);\n        defer_to_connect_1.default(socket, {\n            connect: () => {\n                timings.connect = Date.now();\n                if (timings.lookup === undefined) {\n                    socket.removeListener('lookup', lookupListener);\n                    timings.lookup = timings.connect;\n                    timings.phases.dns = timings.lookup - timings.socket;\n                }\n                timings.phases.tcp = timings.connect - timings.lookup;\n                // This callback is called before flushing any data,\n                // so we don't need to set `timings.phases.request` here.\n            },\n            secureConnect: () => {\n                timings.secureConnect = Date.now();\n                timings.phases.tls = timings.secureConnect - timings.connect;\n            }\n        });\n    };\n    if (request.socket) {\n        onSocket(request.socket);\n    }\n    else {\n        request.prependOnceListener('socket', onSocket);\n    }\n    const onUpload = () => {\n        var _a;\n        timings.upload = Date.now();\n        timings.phases.request = timings.upload - ((_a = timings.secureConnect) !== null && _a !== void 0 ? _a : timings.connect);\n    };\n    const writableFinished = () => {\n        if (typeof request.writableFinished === 'boolean') {\n            return request.writableFinished;\n        }\n        // Node.js doesn't have `request.writableFinished` property\n        return request.finished && request.outputSize === 0 && (!request.socket || request.socket.writableLength === 0);\n    };\n    if (writableFinished()) {\n        onUpload();\n    }\n    else {\n        request.prependOnceListener('finish', onUpload);\n    }\n    request.prependOnceListener('response', (response) => {\n        timings.response = Date.now();\n        timings.phases.firstByte = timings.response - timings.upload;\n        response.timings = timings;\n        handleError(response);\n        response.prependOnceListener('end', () => {\n            timings.end = Date.now();\n            timings.phases.download = timings.end - timings.response;\n            timings.phases.total = timings.end - timings.start;\n        });\n        response.prependOnceListener('aborted', onAbort);\n    });\n    return timings;\n};\nexports.default = timer;\n// For CommonJS default export support\nmodule.exports = timer;\nmodule.exports.default = timer;\n","/**\n * @typedef {{\n *  IG: string,\n *  IID: string,\n *  subdomain?: string,\n *  key: number,\n *  token: string,\n *  tokenTs: number,\n *  tokenExpiryInterval: number,\n *  count: number\n * }} GlobalConfig\n *\n * @typedef {import('../index').TranslationResult} TranslationResult\n *\n * @typedef {import('got').Got} Got\n * @typedef {import('got').Options} GotOptions\n * @typedef {import('got').Agents} GotAgents\n * @typedef {import('got').CancelableRequest} GotCancelableRequest\n * @typedef {import('got').Response} GotResponse\n * @typedef {import('got').RequestError} GotRequestError\n */\n\n/**\n * @type {Got}\n */\nconst got = require('got')\n\nconst lang = require('./lang')\nconst config = require('./config.json')\n\nconst TRANSLATE_API_ROOT = 'https://{s}bing.com'\nconst TRANSLATE_WEBSITE = TRANSLATE_API_ROOT + config.websiteEndpoint\nconst TRANSLATE_API = TRANSLATE_API_ROOT + config.translateEndpoint\nconst TRANSLATE_API_SPELL_CHECK = TRANSLATE_API_ROOT + config.spellCheckEndpoint\n\n// PENDING: make it configurable?\nconst MAX_RETRY_COUNT = 3\n\n/**\n * @type {GlobalConfig | undefined}\n */\nlet globalConfig\n/**\n * @type {Promise<GlobalConfig> | undefined}\n */\nlet globalConfigPromise\n\nfunction replaceSubdomain(url, subdomain) {\n  return url.replace('{s}', subdomain ? subdomain + '.' : '')\n}\n\n/**\n * refetch global config if token is expired\n * @return {boolean} whether token is expired or not\n */\nfunction isTokenExpired() {\n  if (!globalConfig) {\n    return true\n  }\n  const { tokenTs, tokenExpiryInterval } = globalConfig\n  return Date.now() - tokenTs > tokenExpiryInterval\n}\n\n/**\n * fetch global config\n *\n * @param {string?} [userAgent]\n * @param {GotAgents?} [proxyAgents]\n *\n * @returns {Promise<GlobalConfig>}\n */\nasync function fetchGlobalConfig(userAgent, proxyAgents) {\n  // use last subdomain if exists\n  let subdomain = globalConfig && globalConfig.subdomain\n\n  try {\n    const { body, request: { redirects: [redirectUrl] } } = await got(\n      replaceSubdomain(TRANSLATE_WEBSITE, subdomain),\n      {\n        headers: {\n          'user-agent': userAgent || config.userAgent\n        },\n        agent: proxyAgents,\n        retry: {\n          limit: MAX_RETRY_COUNT,\n          methods: ['GET']\n        }\n      }\n    )\n\n    // when fetching for the second time, the subdomain may be unchanged\n    if (redirectUrl) {\n      subdomain = redirectUrl.match(/^https?:\\/\\/(\\w+)\\.bing\\.com/)[1]\n    }\n\n    const IG = body.match(/IG:\"([^\"]+)\"/)[1]\n    const IID = body.match(/data-iid=\"([^\"]+)\"/)[1]\n\n    const [key, token, tokenExpiryInterval] = JSON.parse(\n      body.match(/params_AbusePreventionHelper\\s?=\\s?([^\\]]+\\])/)[1]\n    )\n\n    const requiredFields = {\n      IG,\n      IID,\n      key,\n      token,\n      tokenTs: key,\n      tokenExpiryInterval\n    }\n    // check required fields\n    Object.entries(requiredFields).forEach(([field, value]) => {\n      if (!value) {\n        throw new Error(`failed to fetch required field: \\`${field}\\``)\n      }\n    })\n\n    return globalConfig = {\n      ...requiredFields,\n      subdomain,\n      // PENDING: reset count when value is large?\n      count: 0\n    }\n  } catch (e) {\n    console.error('failed to fetch global config')\n    throw e\n  }\n}\n\n/**\n * @param {boolean} isSpellCheck\n * @param {boolean} useEPT\n */\nfunction makeRequestURL(isSpellCheck, useEPT) {\n  const { IG, IID, subdomain } = globalConfig\n  return replaceSubdomain(isSpellCheck ? TRANSLATE_API_SPELL_CHECK : TRANSLATE_API, subdomain)\n    + '&IG=' + IG\n    + '&IID=' + (IID + (isSpellCheck || useEPT ? '.' + (++globalConfig.count) : ''))\n    + (\n      isSpellCheck || !useEPT\n        ? ''\n        // PENDING: might no rate limit but some languages are not supported for now\n        // (See also the `eptLangs` field in src/config.json)\n        : '&ref=TThis' +\n          '&edgepdftranslator=1'\n    )\n}\n\n/**\n * @param {boolean} isSpellCheck\n * @param {string} text\n * @param {string} fromLang\n * @param {string} toLang\n * @returns {{\n *   fromLang: string,\n *   to?: string,\n *   text: string,\n *   token: string,\n *   key: number,\n *   tryFetchingGenderDebiasedTranslations?: true\n * }}\n */\nfunction makeRequestBody(isSpellCheck, text, fromLang, toLang) {\n  const { token, key } = globalConfig\n  const body = {\n    fromLang,\n    text,\n    token,\n    key\n  }\n  if (!isSpellCheck) {\n    toLang && (body.to = toLang)\n\n    body.tryFetchingGenderDebiasedTranslations = true\n  }\n  return body\n}\n\n/**\n * @param {GotCancelableRequest} request\n */\nasync function wrapRequest(request) {\n  /**\n   * @type {GotResponse}\n   */\n  let response\n  /**\n   * @type {GotRequestError}\n   */\n  let err\n\n  try {\n    response = await request\n  } catch (e) {\n    response = (err = e).response\n  }\n\n  /**\n   * @type {string}\n   */\n  let readableErrMsg\n\n  const body = response.body\n\n  if (body.ShowCaptcha) {\n    readableErrMsg = `Sorry that bing translator seems to be asking for the captcha, please take care not to request too frequently.`\n  }\n  else if (body.StatusCode === 401 || response.statusCode === 401) {\n    readableErrMsg = `Translation limit exceeded. Please try it again later.`\n  }\n  else if (body.statusCode) {\n    readableErrMsg = `Something went wrong!`\n  }\n\n  if (readableErrMsg) {\n    const responseMsg = `Response status: ${response.statusCode} (${response.statusMessage})\\nResponse body  : ${JSON.stringify(body)}`\n    throw new Error(readableErrMsg + '\\n' + responseMsg)\n  }\n\n  if (err) {\n    const wrappedErr = new Error(`Failed to request translation service`)\n    wrappedErr.stack += '\\n' + err.stack\n    throw wrappedErr\n  }\n\n  return body\n}\n\n/**\n * To translate\n *\n * @param {string} text content to be translated\n * @param {string} from source language code. `auto-detect` by default.\n * @param {string} to target language code. `en` by default.\n * @param {boolean} [correct] <optional> whether to correct the input text. `false` by default.\n * @param {boolean} [raw] <optional> the result contains raw response if `true`\n * @param {string} [userAgent] <optional> the expected user agent header\n * @param {GotAgents} [proxyAgents] <optional> set agents of `got` for proxy\n *\n * @returns {Promise<TranslationResult | undefined>}\n */\nasync function translate(text, from, to, correct, raw, userAgent, proxyAgents) {\n  if (!text || !(text = text.trim())) {\n    return\n  }\n\n  if (!globalConfigPromise) {\n    globalConfigPromise = fetchGlobalConfig(userAgent, proxyAgents)\n  }\n\n  await globalConfigPromise\n\n  if (isTokenExpired()) {\n    globalConfigPromise = fetchGlobalConfig(userAgent, proxyAgents)\n\n    await globalConfigPromise\n  }\n\n  from = from || 'auto-detect'\n  to = to || 'en'\n\n  const fromSupported = lang.isSupported(from)\n  const toSupported = lang.isSupported(to)\n\n  if (!fromSupported || !toSupported) {\n    throw new Error(`The language '${!fromSupported ? from : !toSupported ? to : ''}' is not supported!`)\n  }\n\n  from = lang.getLangCode(from)\n  to = lang.getLangCode(to)\n\n  to === 'auto-detect' && (to = 'en')\n\n  const canUseEPT = text.length <= config.maxEPTTextLen\n    && ([from, to].every(lang => lang === 'auto-detect' || config.eptLangs.includes(lang)))\n\n  if (!canUseEPT) {\n    // Currently 5000 is supported only in China\n    // PENDING: dynamically re-generate local config.json when initializing?\n    const maxTextLen = globalConfig.subdomain === 'cn'\n      ? config.maxTextLenCN\n      : config.maxTextLen\n\n    if (text.length > maxTextLen) {\n      throw new Error(`The supported maximum text length is ${maxTextLen}. Please shorten the text.`)\n    }\n  }\n\n  const requestURL = makeRequestURL(false, canUseEPT)\n  const requestBody = makeRequestBody(false, text, from, to)\n\n  const requestHeaders = {\n    'user-agent': userAgent || config.userAgent,\n    referer: replaceSubdomain(TRANSLATE_WEBSITE, globalConfig.subdomain)\n  }\n\n  /**\n   * @type {GotOptions['retry']}\n   */\n  const retryConfig = {\n    limit: MAX_RETRY_COUNT,\n    methods: ['POST']\n  }\n\n  const body = await wrapRequest(\n    got.post(requestURL, {\n      headers: requestHeaders,\n      // got will set CONTENT_TYPE as `application/x-www-form-urlencoded`\n      form: requestBody,\n      responseType: 'json',\n      agent: proxyAgents,\n      retry: canUseEPT ? 0 : retryConfig\n    })\n  )\n\n  const translation = body[0].translations[0]\n  const detectedLang = body[0].detectedLanguage || {}\n\n  /**\n   * @type {TranslationResult}\n   */\n  const res = {\n    text,\n    userLang: from,\n    translation: translation.text,\n    language: {\n      from: detectedLang.language,\n      to: translation.to,\n      score: detectedLang.score\n    }\n  }\n\n  if (correct) {\n    const correctLang = detectedLang.language\n    const matcher = text.match(/\"/g)\n    const len = text.length + (matcher && matcher.length || 0)\n    // currently, there is a limit of 50 characters for correction service\n    // and only parts of languages are supported\n    // otherwise, it will return status code 400\n    if (len <= config.maxCorrectableTextLen && lang.isCorrectable(correctLang)) {\n      const requestURL = makeRequestURL(true)\n      const requestBody = makeRequestBody(true, text, correctLang)\n\n      const body = await wrapRequest(\n        got.post(requestURL, {\n          headers: requestHeaders,\n          form: requestBody,\n          responseType: 'json',\n          agent: proxyAgents,\n          retry: retryConfig\n        })\n      )\n\n      res.correctedText = body && body.correctedText\n    }\n    else {\n      console.warn(`The detected language '${correctLang}' is not supported to be corrected or the length of text is more than ${config.maxCorrectableTextLen}.`)\n    }\n  }\n\n  if (raw) {\n    res.raw = body\n  }\n\n  return res\n}\n\nmodule.exports = {\n  translate,\n  lang,\n  // mount the MET module on the index entry\n  // PENDING: isolate bing module and Microsoft module?\n  MET: require('./met')\n}\n","/**\n * Generated from https://bing.com/translator\n */\nconst LANGS = {\n  'auto-detect': 'Auto-detect',\n  ...require('./lang.json')\n}\n\nconst { correctableLangs: LANGS_CORRECTABLE } = require('./config.json')\n\n/**\n * @param {string} lang\n */\nfunction getLangCode(lang) {\n  if (!lang || typeof lang !== 'string') {\n    return\n  }\n\n  if (LANGS[lang]) {\n    return lang\n  }\n\n  lang = lang.toLowerCase()\n\n  const supportedLangCodes = Object.keys(LANGS)\n\n  for (let i = 0, len = supportedLangCodes.length, code; i < len; i++) {\n    code = supportedLangCodes[i]\n    if (code.toLowerCase() === lang || LANGS[code].toLowerCase() === lang) {\n      return code\n    }\n  }\n}\n\n/**\n * @param {string} lang\n */\nfunction isSupported(lang) {\n  return !!getLangCode(lang)\n}\n\n/**\n * @param {string} lang\n */\nfunction isCorrectable(lang) {\n  return LANGS_CORRECTABLE.includes(getLangCode(lang))\n}\n\nmodule.exports = {\n  LANGS,\n  getLangCode,\n  isSupported,\n  isCorrectable\n}\n","/**\n * @typedef {{\n *  token: string,\n *  tokenExpiresAt: number\n * }} GlobalConfig\n *\n * @typedef {import('got').Got} Got\n * @typedef {import('got').Options} GotOptions\n *\n * @typedef {import('../../index').MET.MetTranslateOptions} TranslateOptions\n * @typedef {import('../../index').MET.MetTranslationResult} TranslationResult\n */\n\n/** @type {Got} */\nconst got = require('got')\n\nconst lang = require('./lang')\nconst { userAgent: DEFAULT_USER_AGENT } = require('../config.json')\n\nconst API_AUTH = 'https://edge.microsoft.com/translate/auth'\nconst API_TRANSLATE = 'https://api.cognitive.microsofttranslator.com/translate'\n\n/**\n * @type {GlobalConfig | undefined}\n */\nlet globalConfig\n/**\n * @type {Promise<GlobalConfig> | undefined}\n */\nlet globalConfigPromise\n\n/**\n * @param {string} [userAgent]\n */\nasync function fetchGlobalConfig(userAgent) {\n  try {\n    const authJWT = await got(API_AUTH, {\n      headers: {\n        'User-Agent': userAgent || DEFAULT_USER_AGENT\n      }\n    }).text()\n    const jwtPayload = JSON.parse(Buffer.from(authJWT.split('.')[1], 'base64').toString('utf-8'))\n    globalConfig = {\n      token: authJWT,\n      // valid in 10 minutes\n      tokenExpiresAt: jwtPayload.exp * 1e3\n    }\n  } catch (e) {\n    console.error('failed to fetch auth token')\n    throw e\n  }\n}\n\nfunction isTokenExpired() {\n  // consider the token as expired if the rest time is less than 1 minute\n  return !globalConfig || (globalConfig.tokenExpiresAt || 0) - Date.now() < 6e4\n}\n\n/**\n * To translate\n *\n * @param {string | string[]} text content to be translated\n * @param {string} [from] source language code\n * @param {string | string[]} to target language code(s). `en` by default.\n * @param {TranslateOptions} [options] optional translate options\n *\n * @returns {Promise<TranslationResult | undefined>}\n */\nasync function translate(text, from, to, options) {\n  if (!text || !text.length) {\n    return\n  }\n\n  // compatible with the bing translator\n  from && from.toLocaleLowerCase() === 'auto-detect' && (from = void 0)\n  from = lang.getLangCode(from)\n\n  // target language fallbacks to `en`\n  Array.isArray(to) || (to = [to])\n  to = to.map(toLang => lang.getLangCode(toLang) || 'en')\n  to.length || (to = ['en'])\n\n  // check if the source and target languages are supported\n  const fromSupported = !from || lang.isSupported(from)\n  const toSupported = to.every(lang.isSupported)\n\n  if (!fromSupported || !toSupported) {\n    throw new Error(`Unsupported language(s): ${!fromSupported\n      ? `'${from}'`\n      : !toSupported ? to.map(t => `'${t}'`).join(', ') : ''\n    }`)\n  }\n\n  // The MET mode no longer pre-checks the text length for simplicity\n  Array.isArray(text) || (text = [text])\n\n  options ||= {}\n\n  // Skip to fetch the free authorization if the `authenticationHeaders` is provided\n  // You will have to check if the authorization is expired by yourself\n  // See https://learn.microsoft.com/azure/ai-services/translator/reference/v3-0-reference#authentication\n  const authenticationHeaders = options.authenticationHeaders\n  if (!authenticationHeaders) {\n    if (!globalConfigPromise) {\n      globalConfigPromise = fetchGlobalConfig(options.userAgent)\n    }\n\n    await globalConfigPromise\n\n    if (isTokenExpired()) {\n      globalConfigPromise = fetchGlobalConfig(options.userAgent)\n\n      await globalConfigPromise\n    }\n  }\n\n  const gotOptions = Object.assign({}, options.gotOptions)\n\n  // for customized headers\n  const gotHeaders = gotOptions.headers || {}\n  delete gotOptions.headers\n\n  const requestPayload = text.map(txt => ({ Text: txt }))\n\n  try {\n    const { body } = await got.post(API_TRANSLATE, {\n      searchParams: new URLSearchParams([\n        ...to.map(toLang => ['to', toLang]),\n        ...Object.entries({\n          'api-version': '3.0',\n          from,\n          // See https://learn.microsoft.com/azure/ai-services/translator/reference/v3-0-translate#optional-parameters\n          ...(options.translateOptions || {})\n        }).filter(([_, val]) => val != null && val !== '')\n      ]),\n      json: requestPayload,\n      headers: {\n        'User-Agent': DEFAULT_USER_AGENT,\n        Authorization: authenticationHeaders ? void 0 : 'Bearer ' + globalConfig.token,\n        ...(authenticationHeaders || {}),\n        ...gotHeaders\n      },\n      responseType: 'json',\n      // the customized `got` options\n      ...gotOptions\n    })\n    return body\n  } catch (e) {\n    let errMsg\n    if (e instanceof got.RequestError) {\n      const response = e.response\n      const responseBody = JSON.stringify(response.body, null, 2)\n      errMsg = ` with a status code: ${response.statusCode} (${response.statusMessage})\\n${responseBody}\\n`\n    } else {\n      errMsg = `: ${e.message}`\n    }\n    throw new Error(`failed to translate${errMsg}`)\n  }\n}\n\nmodule.exports = {\n  translate,\n  lang\n}\n","/**\n * Generated from https://api.cognitive.microsofttranslator.com/languages\n */\nconst LANGS = require('./lang.json')\n\n/**\n * @param {string} lang\n */\nfunction getLangCode(lang) {\n  if (!lang || typeof lang !== 'string') {\n    return\n  }\n\n  if (LANGS[lang]) {\n    return lang\n  }\n\n  lang = lang.toLowerCase()\n\n  const supportedLangCodes = Object.keys(LANGS)\n\n  for (let i = 0, len = supportedLangCodes.length, code; i < len; i++) {\n    code = supportedLangCodes[i]\n    if (code.toLowerCase() === lang || LANGS[code].toLowerCase() === lang) {\n      return code\n    }\n  }\n}\n\n/**\n * @param {string} lang\n */\nfunction isSupported(lang) {\n  return !!getLangCode(lang)\n}\n\nmodule.exports = {\n  LANGS,\n  getLangCode,\n  isSupported\n}\n","'use strict';\nconst {\n\tV4MAPPED,\n\tADDRCONFIG,\n\tALL,\n\tpromises: {\n\t\tResolver: AsyncResolver\n\t},\n\tlookup: dnsLookup\n} = require('dns');\nconst {promisify} = require('util');\nconst os = require('os');\n\nconst kCacheableLookupCreateConnection = Symbol('cacheableLookupCreateConnection');\nconst kCacheableLookupInstance = Symbol('cacheableLookupInstance');\nconst kExpires = Symbol('expires');\n\nconst supportsALL = typeof ALL === 'number';\n\nconst verifyAgent = agent => {\n\tif (!(agent && typeof agent.createConnection === 'function')) {\n\t\tthrow new Error('Expected an Agent instance as the first argument');\n\t}\n};\n\nconst map4to6 = entries => {\n\tfor (const entry of entries) {\n\t\tif (entry.family === 6) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tentry.address = `::ffff:${entry.address}`;\n\t\tentry.family = 6;\n\t}\n};\n\nconst getIfaceInfo = () => {\n\tlet has4 = false;\n\tlet has6 = false;\n\n\tfor (const device of Object.values(os.networkInterfaces())) {\n\t\tfor (const iface of device) {\n\t\t\tif (iface.internal) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (iface.family === 'IPv6') {\n\t\t\t\thas6 = true;\n\t\t\t} else {\n\t\t\t\thas4 = true;\n\t\t\t}\n\n\t\t\tif (has4 && has6) {\n\t\t\t\treturn {has4, has6};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {has4, has6};\n};\n\nconst isIterable = map => {\n\treturn Symbol.iterator in map;\n};\n\nconst ttl = {ttl: true};\nconst all = {all: true};\n\nclass CacheableLookup {\n\tconstructor({\n\t\tcache = new Map(),\n\t\tmaxTtl = Infinity,\n\t\tfallbackDuration = 3600,\n\t\terrorTtl = 0.15,\n\t\tresolver = new AsyncResolver(),\n\t\tlookup = dnsLookup\n\t} = {}) {\n\t\tthis.maxTtl = maxTtl;\n\t\tthis.errorTtl = errorTtl;\n\n\t\tthis._cache = cache;\n\t\tthis._resolver = resolver;\n\t\tthis._dnsLookup = promisify(lookup);\n\n\t\tif (this._resolver instanceof AsyncResolver) {\n\t\t\tthis._resolve4 = this._resolver.resolve4.bind(this._resolver);\n\t\t\tthis._resolve6 = this._resolver.resolve6.bind(this._resolver);\n\t\t} else {\n\t\t\tthis._resolve4 = promisify(this._resolver.resolve4.bind(this._resolver));\n\t\t\tthis._resolve6 = promisify(this._resolver.resolve6.bind(this._resolver));\n\t\t}\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tthis._pending = {};\n\t\tthis._nextRemovalTime = false;\n\t\tthis._hostnamesToFallback = new Set();\n\n\t\tif (fallbackDuration < 1) {\n\t\t\tthis._fallback = false;\n\t\t} else {\n\t\t\tthis._fallback = true;\n\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tthis._hostnamesToFallback.clear();\n\t\t\t}, fallbackDuration * 1000);\n\n\t\t\t/* istanbul ignore next: There is no `interval.unref()` when running inside an Electron renderer */\n\t\t\tif (interval.unref) {\n\t\t\t\tinterval.unref();\n\t\t\t}\n\t\t}\n\n\t\tthis.lookup = this.lookup.bind(this);\n\t\tthis.lookupAsync = this.lookupAsync.bind(this);\n\t}\n\n\tset servers(servers) {\n\t\tthis.clear();\n\n\t\tthis._resolver.setServers(servers);\n\t}\n\n\tget servers() {\n\t\treturn this._resolver.getServers();\n\t}\n\n\tlookup(hostname, options, callback) {\n\t\tif (typeof options === 'function') {\n\t\t\tcallback = options;\n\t\t\toptions = {};\n\t\t} else if (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tthrow new Error('Callback must be a function.');\n\t\t}\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tthis.lookupAsync(hostname, options).then(result => {\n\t\t\tif (options.all) {\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(null, result.address, result.family, result.expires, result.ttl);\n\t\t\t}\n\t\t}, callback);\n\t}\n\n\tasync lookupAsync(hostname, options = {}) {\n\t\tif (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tlet cached = await this.query(hostname);\n\n\t\tif (options.family === 6) {\n\t\t\tconst filtered = cached.filter(entry => entry.family === 6);\n\n\t\t\tif (options.hints & V4MAPPED) {\n\t\t\t\tif ((supportsALL && options.hints & ALL) || filtered.length === 0) {\n\t\t\t\t\tmap4to6(cached);\n\t\t\t\t} else {\n\t\t\t\t\tcached = filtered;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcached = filtered;\n\t\t\t}\n\t\t} else if (options.family === 4) {\n\t\t\tcached = cached.filter(entry => entry.family === 4);\n\t\t}\n\n\t\tif (options.hints & ADDRCONFIG) {\n\t\t\tconst {_iface} = this;\n\t\t\tcached = cached.filter(entry => entry.family === 6 ? _iface.has6 : _iface.has4);\n\t\t}\n\n\t\tif (cached.length === 0) {\n\t\t\tconst error = new Error(`cacheableLookup ENOTFOUND ${hostname}`);\n\t\t\terror.code = 'ENOTFOUND';\n\t\t\terror.hostname = hostname;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (options.all) {\n\t\t\treturn cached;\n\t\t}\n\n\t\treturn cached[0];\n\t}\n\n\tasync query(hostname) {\n\t\tlet cached = await this._cache.get(hostname);\n\n\t\tif (!cached) {\n\t\t\tconst pending = this._pending[hostname];\n\n\t\t\tif (pending) {\n\t\t\t\tcached = await pending;\n\t\t\t} else {\n\t\t\t\tconst newPromise = this.queryAndCache(hostname);\n\t\t\t\tthis._pending[hostname] = newPromise;\n\n\t\t\t\ttry {\n\t\t\t\t\tcached = await newPromise;\n\t\t\t\t} finally {\n\t\t\t\t\tdelete this._pending[hostname];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcached = cached.map(entry => {\n\t\t\treturn {...entry};\n\t\t});\n\n\t\treturn cached;\n\t}\n\n\tasync _resolve(hostname) {\n\t\tconst wrap = async promise => {\n\t\t\ttry {\n\t\t\t\treturn await promise;\n\t\t\t} catch (error) {\n\t\t\t\tif (error.code === 'ENODATA' || error.code === 'ENOTFOUND') {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t};\n\n\t\t// ANY is unsafe as it doesn't trigger new queries in the underlying server.\n\t\tconst [A, AAAA] = await Promise.all([\n\t\t\tthis._resolve4(hostname, ttl),\n\t\t\tthis._resolve6(hostname, ttl)\n\t\t].map(promise => wrap(promise)));\n\n\t\tlet aTtl = 0;\n\t\tlet aaaaTtl = 0;\n\t\tlet cacheTtl = 0;\n\n\t\tconst now = Date.now();\n\n\t\tfor (const entry of A) {\n\t\t\tentry.family = 4;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taTtl = Math.max(aTtl, entry.ttl);\n\t\t}\n\n\t\tfor (const entry of AAAA) {\n\t\t\tentry.family = 6;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taaaaTtl = Math.max(aaaaTtl, entry.ttl);\n\t\t}\n\n\t\tif (A.length > 0) {\n\t\t\tif (AAAA.length > 0) {\n\t\t\t\tcacheTtl = Math.min(aTtl, aaaaTtl);\n\t\t\t} else {\n\t\t\t\tcacheTtl = aTtl;\n\t\t\t}\n\t\t} else {\n\t\t\tcacheTtl = aaaaTtl;\n\t\t}\n\n\t\treturn {\n\t\t\tentries: [\n\t\t\t\t...A,\n\t\t\t\t...AAAA\n\t\t\t],\n\t\t\tcacheTtl\n\t\t};\n\t}\n\n\tasync _lookup(hostname) {\n\t\ttry {\n\t\t\tconst entries = await this._dnsLookup(hostname, {\n\t\t\t\tall: true\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tentries,\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t} catch (_) {\n\t\t\treturn {\n\t\t\t\tentries: [],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t}\n\t}\n\n\tasync _set(hostname, data, cacheTtl) {\n\t\tif (this.maxTtl > 0 && cacheTtl > 0) {\n\t\t\tcacheTtl = Math.min(cacheTtl, this.maxTtl) * 1000;\n\t\t\tdata[kExpires] = Date.now() + cacheTtl;\n\n\t\t\ttry {\n\t\t\t\tawait this._cache.set(hostname, data, cacheTtl);\n\t\t\t} catch (error) {\n\t\t\t\tthis.lookupAsync = async () => {\n\t\t\t\t\tconst cacheError = new Error('Cache Error. Please recreate the CacheableLookup instance.');\n\t\t\t\t\tcacheError.cause = error;\n\n\t\t\t\t\tthrow cacheError;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isIterable(this._cache)) {\n\t\t\t\tthis._tick(cacheTtl);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync queryAndCache(hostname) {\n\t\tif (this._hostnamesToFallback.has(hostname)) {\n\t\t\treturn this._dnsLookup(hostname, all);\n\t\t}\n\n\t\tlet query = await this._resolve(hostname);\n\n\t\tif (query.entries.length === 0 && this._fallback) {\n\t\t\tquery = await this._lookup(hostname);\n\n\t\t\tif (query.entries.length !== 0) {\n\t\t\t\t// Use `dns.lookup(...)` for that particular hostname\n\t\t\t\tthis._hostnamesToFallback.add(hostname);\n\t\t\t}\n\t\t}\n\n\t\tconst cacheTtl = query.entries.length === 0 ? this.errorTtl : query.cacheTtl;\n\t\tawait this._set(hostname, query.entries, cacheTtl);\n\n\t\treturn query.entries;\n\t}\n\n\t_tick(ms) {\n\t\tconst nextRemovalTime = this._nextRemovalTime;\n\n\t\tif (!nextRemovalTime || ms < nextRemovalTime) {\n\t\t\tclearTimeout(this._removalTimeout);\n\n\t\t\tthis._nextRemovalTime = ms;\n\n\t\t\tthis._removalTimeout = setTimeout(() => {\n\t\t\t\tthis._nextRemovalTime = false;\n\n\t\t\t\tlet nextExpiry = Infinity;\n\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tfor (const [hostname, entries] of this._cache) {\n\t\t\t\t\tconst expires = entries[kExpires];\n\n\t\t\t\t\tif (now >= expires) {\n\t\t\t\t\t\tthis._cache.delete(hostname);\n\t\t\t\t\t} else if (expires < nextExpiry) {\n\t\t\t\t\t\tnextExpiry = expires;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (nextExpiry !== Infinity) {\n\t\t\t\t\tthis._tick(nextExpiry - now);\n\t\t\t\t}\n\t\t\t}, ms);\n\n\t\t\t/* istanbul ignore next: There is no `timeout.unref()` when running inside an Electron renderer */\n\t\t\tif (this._removalTimeout.unref) {\n\t\t\t\tthis._removalTimeout.unref();\n\t\t\t}\n\t\t}\n\t}\n\n\tinstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (kCacheableLookupCreateConnection in agent) {\n\t\t\tthrow new Error('CacheableLookup has been already installed');\n\t\t}\n\n\t\tagent[kCacheableLookupCreateConnection] = agent.createConnection;\n\t\tagent[kCacheableLookupInstance] = this;\n\n\t\tagent.createConnection = (options, callback) => {\n\t\t\tif (!('lookup' in options)) {\n\t\t\t\toptions.lookup = this.lookup;\n\t\t\t}\n\n\t\t\treturn agent[kCacheableLookupCreateConnection](options, callback);\n\t\t};\n\t}\n\n\tuninstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (agent[kCacheableLookupCreateConnection]) {\n\t\t\tif (agent[kCacheableLookupInstance] !== this) {\n\t\t\t\tthrow new Error('The agent is not owned by this CacheableLookup instance');\n\t\t\t}\n\n\t\t\tagent.createConnection = agent[kCacheableLookupCreateConnection];\n\n\t\t\tdelete agent[kCacheableLookupCreateConnection];\n\t\t\tdelete agent[kCacheableLookupInstance];\n\t\t}\n\t}\n\n\tupdateInterfaceInfo() {\n\t\tconst {_iface} = this;\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tif ((_iface.has4 && !this._iface.has4) || (_iface.has6 && !this._iface.has6)) {\n\t\t\tthis._cache.clear();\n\t\t}\n\t}\n\n\tclear(hostname) {\n\t\tif (hostname) {\n\t\t\tthis._cache.delete(hostname);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cache.clear();\n\t}\n}\n\nmodule.exports = CacheableLookup;\nmodule.exports.default = CacheableLookup;\n","'use strict';\n\nconst EventEmitter = require('events');\nconst urlLib = require('url');\nconst normalizeUrl = require('normalize-url');\nconst getStream = require('get-stream');\nconst CachePolicy = require('http-cache-semantics');\nconst Response = require('responselike');\nconst lowercaseKeys = require('lowercase-keys');\nconst cloneResponse = require('clone-response');\nconst Keyv = require('keyv');\n\nclass CacheableRequest {\n\tconstructor(request, cacheAdapter) {\n\t\tif (typeof request !== 'function') {\n\t\t\tthrow new TypeError('Parameter `request` must be a function');\n\t\t}\n\n\t\tthis.cache = new Keyv({\n\t\t\turi: typeof cacheAdapter === 'string' && cacheAdapter,\n\t\t\tstore: typeof cacheAdapter !== 'string' && cacheAdapter,\n\t\t\tnamespace: 'cacheable-request'\n\t\t});\n\n\t\treturn this.createCacheableRequest(request);\n\t}\n\n\tcreateCacheableRequest(request) {\n\t\treturn (opts, cb) => {\n\t\t\tlet url;\n\t\t\tif (typeof opts === 'string') {\n\t\t\t\turl = normalizeUrlObject(urlLib.parse(opts));\n\t\t\t\topts = {};\n\t\t\t} else if (opts instanceof urlLib.URL) {\n\t\t\t\turl = normalizeUrlObject(urlLib.parse(opts.toString()));\n\t\t\t\topts = {};\n\t\t\t} else {\n\t\t\t\tconst [pathname, ...searchParts] = (opts.path || '').split('?');\n\t\t\t\tconst search = searchParts.length > 0 ?\n\t\t\t\t\t`?${searchParts.join('?')}` :\n\t\t\t\t\t'';\n\t\t\t\turl = normalizeUrlObject({ ...opts, pathname, search });\n\t\t\t}\n\n\t\t\topts = {\n\t\t\t\theaders: {},\n\t\t\t\tmethod: 'GET',\n\t\t\t\tcache: true,\n\t\t\t\tstrictTtl: false,\n\t\t\t\tautomaticFailover: false,\n\t\t\t\t...opts,\n\t\t\t\t...urlObjectToRequestOptions(url)\n\t\t\t};\n\t\t\topts.headers = lowercaseKeys(opts.headers);\n\n\t\t\tconst ee = new EventEmitter();\n\t\t\tconst normalizedUrlString = normalizeUrl(\n\t\t\t\turlLib.format(url),\n\t\t\t\t{\n\t\t\t\t\tstripWWW: false,\n\t\t\t\t\tremoveTrailingSlash: false,\n\t\t\t\t\tstripAuthentication: false\n\t\t\t\t}\n\t\t\t);\n\t\t\tconst key = `${opts.method}:${normalizedUrlString}`;\n\t\t\tlet revalidate = false;\n\t\t\tlet madeRequest = false;\n\n\t\t\tconst makeRequest = opts => {\n\t\t\t\tmadeRequest = true;\n\t\t\t\tlet requestErrored = false;\n\t\t\t\tlet requestErrorCallback;\n\n\t\t\t\tconst requestErrorPromise = new Promise(resolve => {\n\t\t\t\t\trequestErrorCallback = () => {\n\t\t\t\t\t\tif (!requestErrored) {\n\t\t\t\t\t\t\trequestErrored = true;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tconst handler = response => {\n\t\t\t\t\tif (revalidate && !opts.forceRefresh) {\n\t\t\t\t\t\tresponse.status = response.statusCode;\n\t\t\t\t\t\tconst revalidatedPolicy = CachePolicy.fromObject(revalidate.cachePolicy).revalidatedPolicy(opts, response);\n\t\t\t\t\t\tif (!revalidatedPolicy.modified) {\n\t\t\t\t\t\t\tconst headers = revalidatedPolicy.policy.responseHeaders();\n\t\t\t\t\t\t\tresponse = new Response(revalidate.statusCode, headers, revalidate.body, revalidate.url);\n\t\t\t\t\t\t\tresponse.cachePolicy = revalidatedPolicy.policy;\n\t\t\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!response.fromCache) {\n\t\t\t\t\t\tresponse.cachePolicy = new CachePolicy(opts, response, opts);\n\t\t\t\t\t\tresponse.fromCache = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet clonedResponse;\n\t\t\t\t\tif (opts.cache && response.cachePolicy.storable()) {\n\t\t\t\t\t\tclonedResponse = cloneResponse(response);\n\n\t\t\t\t\t\t(async () => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tconst bodyPromise = getStream.buffer(response);\n\n\t\t\t\t\t\t\t\tawait Promise.race([\n\t\t\t\t\t\t\t\t\trequestErrorPromise,\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => response.once('end', resolve))\n\t\t\t\t\t\t\t\t]);\n\n\t\t\t\t\t\t\t\tif (requestErrored) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst body = await bodyPromise;\n\n\t\t\t\t\t\t\t\tconst value = {\n\t\t\t\t\t\t\t\t\tcachePolicy: response.cachePolicy.toObject(),\n\t\t\t\t\t\t\t\t\turl: response.url,\n\t\t\t\t\t\t\t\t\tstatusCode: response.fromCache ? revalidate.statusCode : response.statusCode,\n\t\t\t\t\t\t\t\t\tbody\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tlet ttl = opts.strictTtl ? response.cachePolicy.timeToLive() : undefined;\n\t\t\t\t\t\t\t\tif (opts.maxTtl) {\n\t\t\t\t\t\t\t\t\tttl = ttl ? Math.min(ttl, opts.maxTtl) : opts.maxTtl;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tawait this.cache.set(key, value, ttl);\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})();\n\t\t\t\t\t} else if (opts.cache && revalidate) {\n\t\t\t\t\t\t(async () => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})();\n\t\t\t\t\t}\n\n\t\t\t\t\tee.emit('response', clonedResponse || response);\n\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\tcb(clonedResponse || response);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst req = request(opts, handler);\n\t\t\t\t\treq.once('error', requestErrorCallback);\n\t\t\t\t\treq.once('abort', requestErrorCallback);\n\t\t\t\t\tee.emit('request', req);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tee.emit('error', new CacheableRequest.RequestError(error));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t(async () => {\n\t\t\t\tconst get = async opts => {\n\t\t\t\t\tawait Promise.resolve();\n\n\t\t\t\t\tconst cacheEntry = opts.cache ? await this.cache.get(key) : undefined;\n\t\t\t\t\tif (typeof cacheEntry === 'undefined') {\n\t\t\t\t\t\treturn makeRequest(opts);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst policy = CachePolicy.fromObject(cacheEntry.cachePolicy);\n\t\t\t\t\tif (policy.satisfiesWithoutRevalidation(opts) && !opts.forceRefresh) {\n\t\t\t\t\t\tconst headers = policy.responseHeaders();\n\t\t\t\t\t\tconst response = new Response(cacheEntry.statusCode, headers, cacheEntry.body, cacheEntry.url);\n\t\t\t\t\t\tresponse.cachePolicy = policy;\n\t\t\t\t\t\tresponse.fromCache = true;\n\n\t\t\t\t\t\tee.emit('response', response);\n\t\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\t\tcb(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\trevalidate = cacheEntry;\n\t\t\t\t\t\topts.headers = policy.revalidationHeaders(opts);\n\t\t\t\t\t\tmakeRequest(opts);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tconst errorHandler = error => ee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\tthis.cache.once('error', errorHandler);\n\t\t\t\tee.on('response', () => this.cache.removeListener('error', errorHandler));\n\n\t\t\t\ttry {\n\t\t\t\t\tawait get(opts);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (opts.automaticFailover && !madeRequest) {\n\t\t\t\t\t\tmakeRequest(opts);\n\t\t\t\t\t}\n\n\t\t\t\t\tee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\t}\n\t\t\t})();\n\n\t\t\treturn ee;\n\t\t};\n\t}\n}\n\nfunction urlObjectToRequestOptions(url) {\n\tconst options = { ...url };\n\toptions.path = `${url.pathname || '/'}${url.search || ''}`;\n\tdelete options.pathname;\n\tdelete options.search;\n\treturn options;\n}\n\nfunction normalizeUrlObject(url) {\n\t// If url was parsed by url.parse or new URL:\n\t// - hostname will be set\n\t// - host will be hostname[:port]\n\t// - port will be set if it was explicit in the parsed string\n\t// Otherwise, url was from request options:\n\t// - hostname or host may be set\n\t// - host shall not have port encoded\n\treturn {\n\t\tprotocol: url.protocol,\n\t\tauth: url.auth,\n\t\thostname: url.hostname || url.host || 'localhost',\n\t\tport: url.port,\n\t\tpathname: url.pathname,\n\t\tsearch: url.search\n\t};\n}\n\nCacheableRequest.RequestError = class extends Error {\n\tconstructor(error) {\n\t\tsuper(error.message);\n\t\tthis.name = 'RequestError';\n\t\tObject.assign(this, error);\n\t}\n};\n\nCacheableRequest.CacheError = class extends Error {\n\tconstructor(error) {\n\t\tsuper(error.message);\n\t\tthis.name = 'CacheError';\n\t\tObject.assign(this, error);\n\t}\n};\n\nmodule.exports = CacheableRequest;\n","'use strict';\n\nconst PassThrough = require('stream').PassThrough;\nconst mimicResponse = require('mimic-response');\n\nconst cloneResponse = response => {\n\tif (!(response && response.pipe)) {\n\t\tthrow new TypeError('Parameter `response` must be a response stream.');\n\t}\n\n\tconst clone = new PassThrough();\n\tmimicResponse(response, clone);\n\n\treturn response.pipe(clone);\n};\n\nmodule.exports = cloneResponse;\n","'use strict';\nconst {Transform, PassThrough} = require('stream');\nconst zlib = require('zlib');\nconst mimicResponse = require('mimic-response');\n\nmodule.exports = response => {\n\tconst contentEncoding = (response.headers['content-encoding'] || '').toLowerCase();\n\n\tif (!['gzip', 'deflate', 'br'].includes(contentEncoding)) {\n\t\treturn response;\n\t}\n\n\t// TODO: Remove this when targeting Node.js 12.\n\tconst isBrotli = contentEncoding === 'br';\n\tif (isBrotli && typeof zlib.createBrotliDecompress !== 'function') {\n\t\tresponse.destroy(new Error('Brotli is not supported on Node.js < 12'));\n\t\treturn response;\n\t}\n\n\tlet isEmpty = true;\n\n\tconst checker = new Transform({\n\t\ttransform(data, _encoding, callback) {\n\t\t\tisEmpty = false;\n\n\t\t\tcallback(null, data);\n\t\t},\n\n\t\tflush(callback) {\n\t\t\tcallback();\n\t\t}\n\t});\n\n\tconst finalStream = new PassThrough({\n\t\tautoDestroy: false,\n\t\tdestroy(error, callback) {\n\t\t\tresponse.destroy();\n\n\t\t\tcallback(error);\n\t\t}\n\t});\n\n\tconst decompressStream = isBrotli ? zlib.createBrotliDecompress() : zlib.createUnzip();\n\n\tdecompressStream.once('error', error => {\n\t\tif (isEmpty && !response.readable) {\n\t\t\tfinalStream.end();\n\t\t\treturn;\n\t\t}\n\n\t\tfinalStream.destroy(error);\n\t});\n\n\tmimicResponse(response, finalStream);\n\tresponse.pipe(checker).pipe(decompressStream).pipe(finalStream);\n\n\treturn finalStream;\n};\n","'use strict';\n\n// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProperties = [\n\t'aborted',\n\t'complete',\n\t'headers',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'method',\n\t'rawHeaders',\n\t'rawTrailers',\n\t'setTimeout',\n\t'socket',\n\t'statusCode',\n\t'statusMessage',\n\t'trailers',\n\t'url'\n];\n\nmodule.exports = (fromStream, toStream) => {\n\tif (toStream._readableState.autoDestroy) {\n\t\tthrow new Error('The second stream must have the `autoDestroy` option set to `false`');\n\t}\n\n\tconst fromProperties = new Set(Object.keys(fromStream).concat(knownProperties));\n\n\tconst properties = {};\n\n\tfor (const property of fromProperties) {\n\t\t// Don't overwrite existing properties.\n\t\tif (property in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tproperties[property] = {\n\t\t\tget() {\n\t\t\t\tconst value = fromStream[property];\n\t\t\t\tconst isFunction = typeof value === 'function';\n\n\t\t\t\treturn isFunction ? value.bind(fromStream) : value;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tfromStream[property] = value;\n\t\t\t},\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false\n\t\t};\n\t}\n\n\tObject.defineProperties(toStream, properties);\n\n\tfromStream.once('aborted', () => {\n\t\ttoStream.destroy();\n\n\t\ttoStream.emit('aborted');\n\t});\n\n\tfromStream.once('close', () => {\n\t\tif (fromStream.complete) {\n\t\t\tif (toStream.readable) {\n\t\t\t\ttoStream.once('end', () => {\n\t\t\t\t\ttoStream.emit('close');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoStream.emit('close');\n\t\t\t}\n\t\t} else {\n\t\t\ttoStream.emit('close');\n\t\t}\n\t});\n\n\treturn toStream;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isTLSSocket(socket) {\n    return socket.encrypted;\n}\nconst deferToConnect = (socket, fn) => {\n    let listeners;\n    if (typeof fn === 'function') {\n        const connect = fn;\n        listeners = { connect };\n    }\n    else {\n        listeners = fn;\n    }\n    const hasConnectListener = typeof listeners.connect === 'function';\n    const hasSecureConnectListener = typeof listeners.secureConnect === 'function';\n    const hasCloseListener = typeof listeners.close === 'function';\n    const onConnect = () => {\n        if (hasConnectListener) {\n            listeners.connect();\n        }\n        if (isTLSSocket(socket) && hasSecureConnectListener) {\n            if (socket.authorized) {\n                listeners.secureConnect();\n            }\n            else if (!socket.authorizationError) {\n                socket.once('secureConnect', listeners.secureConnect);\n            }\n        }\n        if (hasCloseListener) {\n            socket.once('close', listeners.close);\n        }\n    };\n    if (socket.writable && !socket.connecting) {\n        onConnect();\n    }\n    else if (socket.connecting) {\n        socket.once('connect', onConnect);\n    }\n    else if (socket.destroyed && hasCloseListener) {\n        listeners.close(socket._hadError);\n    }\n};\nexports.default = deferToConnect;\n// For CommonJS default export support\nmodule.exports = deferToConnect;\nmodule.exports.default = deferToConnect;\n","var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tprocess.nextTick(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n","'use strict';\n\nconst validator = require('./validator');\nconst XMLParser = require('./xmlparser/XMLParser');\nconst XMLBuilder = require('./xmlbuilder/json2xml');\n\nmodule.exports = {\n  XMLParser: XMLParser,\n  XMLValidator: validator,\n  XMLBuilder: XMLBuilder\n}","'use strict';\n\nconst nameStartChar = ':A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\nconst nameChar = nameStartChar + '\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\nconst nameRegexp = '[' + nameStartChar + '][' + nameChar + ']*'\nconst regexName = new RegExp('^' + nameRegexp + '$');\n\nconst getAllMatches = function(string, regex) {\n  const matches = [];\n  let match = regex.exec(string);\n  while (match) {\n    const allmatches = [];\n    allmatches.startIndex = regex.lastIndex - match[0].length;\n    const len = match.length;\n    for (let index = 0; index < len; index++) {\n      allmatches.push(match[index]);\n    }\n    matches.push(allmatches);\n    match = regex.exec(string);\n  }\n  return matches;\n};\n\nconst isName = function(string) {\n  const match = regexName.exec(string);\n  return !(match === null || typeof match === 'undefined');\n};\n\nexports.isExist = function(v) {\n  return typeof v !== 'undefined';\n};\n\nexports.isEmptyObject = function(obj) {\n  return Object.keys(obj).length === 0;\n};\n\n/**\n * Copy all the properties of a into b.\n * @param {*} target\n * @param {*} a\n */\nexports.merge = function(target, a, arrayMode) {\n  if (a) {\n    const keys = Object.keys(a); // will return an array of own properties\n    const len = keys.length; //don't make it inline\n    for (let i = 0; i < len; i++) {\n      if (arrayMode === 'strict') {\n        target[keys[i]] = [ a[keys[i]] ];\n      } else {\n        target[keys[i]] = a[keys[i]];\n      }\n    }\n  }\n};\n/* exports.merge =function (b,a){\n  return Object.assign(b,a);\n} */\n\nexports.getValue = function(v) {\n  if (exports.isExist(v)) {\n    return v;\n  } else {\n    return '';\n  }\n};\n\n// const fakeCall = function(a) {return a;};\n// const fakeCallNoReturn = function() {};\n\nexports.isName = isName;\nexports.getAllMatches = getAllMatches;\nexports.nameRegexp = nameRegexp;\n","'use strict';\n\nconst util = require('./util');\n\nconst defaultOptions = {\n  allowBooleanAttributes: false, //A tag can have attributes without any value\n  unpairedTags: []\n};\n\n//const tagsPattern = new RegExp(\"<\\\\/?([\\\\w:\\\\-_\\.]+)\\\\s*\\/?>\",\"g\");\nexports.validate = function (xmlData, options) {\n  options = Object.assign({}, defaultOptions, options);\n\n  //xmlData = xmlData.replace(/(\\r\\n|\\n|\\r)/gm,\"\");//make it single line\n  //xmlData = xmlData.replace(/(^\\s*<\\?xml.*?\\?>)/g,\"\");//Remove XML starting tag\n  //xmlData = xmlData.replace(/(<!DOCTYPE[\\s\\w\\\"\\.\\/\\-\\:]+(\\[.*\\])*\\s*>)/g,\"\");//Remove DOCTYPE\n  const tags = [];\n  let tagFound = false;\n\n  //indicates that the root tag has been closed (aka. depth 0 has been reached)\n  let reachedRoot = false;\n\n  if (xmlData[0] === '\\ufeff') {\n    // check for byte order mark (BOM)\n    xmlData = xmlData.substr(1);\n  }\n  \n  for (let i = 0; i < xmlData.length; i++) {\n\n    if (xmlData[i] === '<' && xmlData[i+1] === '?') {\n      i+=2;\n      i = readPI(xmlData,i);\n      if (i.err) return i;\n    }else if (xmlData[i] === '<') {\n      //starting of tag\n      //read until you reach to '>' avoiding any '>' in attribute value\n      let tagStartPos = i;\n      i++;\n      \n      if (xmlData[i] === '!') {\n        i = readCommentAndCDATA(xmlData, i);\n        continue;\n      } else {\n        let closingTag = false;\n        if (xmlData[i] === '/') {\n          //closing tag\n          closingTag = true;\n          i++;\n        }\n        //read tagname\n        let tagName = '';\n        for (; i < xmlData.length &&\n          xmlData[i] !== '>' &&\n          xmlData[i] !== ' ' &&\n          xmlData[i] !== '\\t' &&\n          xmlData[i] !== '\\n' &&\n          xmlData[i] !== '\\r'; i++\n        ) {\n          tagName += xmlData[i];\n        }\n        tagName = tagName.trim();\n        //console.log(tagName);\n\n        if (tagName[tagName.length - 1] === '/') {\n          //self closing tag without attributes\n          tagName = tagName.substring(0, tagName.length - 1);\n          //continue;\n          i--;\n        }\n        if (!validateTagName(tagName)) {\n          let msg;\n          if (tagName.trim().length === 0) {\n            msg = \"Invalid space after '<'.\";\n          } else {\n            msg = \"Tag '\"+tagName+\"' is an invalid name.\";\n          }\n          return getErrorObject('InvalidTag', msg, getLineNumberForPosition(xmlData, i));\n        }\n\n        const result = readAttributeStr(xmlData, i);\n        if (result === false) {\n          return getErrorObject('InvalidAttr', \"Attributes for '\"+tagName+\"' have open quote.\", getLineNumberForPosition(xmlData, i));\n        }\n        let attrStr = result.value;\n        i = result.index;\n\n        if (attrStr[attrStr.length - 1] === '/') {\n          //self closing tag\n          const attrStrStart = i - attrStr.length;\n          attrStr = attrStr.substring(0, attrStr.length - 1);\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid === true) {\n            tagFound = true;\n            //continue; //text may presents after self closing tag\n          } else {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, attrStrStart + isValid.err.line));\n          }\n        } else if (closingTag) {\n          if (!result.tagClosed) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' doesn't have proper closing.\", getLineNumberForPosition(xmlData, i));\n          } else if (attrStr.trim().length > 0) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' can't have attributes or invalid starting.\", getLineNumberForPosition(xmlData, tagStartPos));\n          } else if (tags.length === 0) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' has not been opened.\", getLineNumberForPosition(xmlData, tagStartPos));\n          } else {\n            const otg = tags.pop();\n            if (tagName !== otg.tagName) {\n              let openPos = getLineNumberForPosition(xmlData, otg.tagStartPos);\n              return getErrorObject('InvalidTag',\n                \"Expected closing tag '\"+otg.tagName+\"' (opened in line \"+openPos.line+\", col \"+openPos.col+\") instead of closing tag '\"+tagName+\"'.\",\n                getLineNumberForPosition(xmlData, tagStartPos));\n            }\n\n            //when there are no more tags, we reached the root level.\n            if (tags.length == 0) {\n              reachedRoot = true;\n            }\n          }\n        } else {\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid !== true) {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, i - attrStr.length + isValid.err.line));\n          }\n\n          //if the root level has been reached before ...\n          if (reachedRoot === true) {\n            return getErrorObject('InvalidXml', 'Multiple possible root nodes found.', getLineNumberForPosition(xmlData, i));\n          } else if(options.unpairedTags.indexOf(tagName) !== -1){\n            //don't push into stack\n          } else {\n            tags.push({tagName, tagStartPos});\n          }\n          tagFound = true;\n        }\n\n        //skip tag text value\n        //It may include comments and CDATA value\n        for (i++; i < xmlData.length; i++) {\n          if (xmlData[i] === '<') {\n            if (xmlData[i + 1] === '!') {\n              //comment or CADATA\n              i++;\n              i = readCommentAndCDATA(xmlData, i);\n              continue;\n            } else if (xmlData[i+1] === '?') {\n              i = readPI(xmlData, ++i);\n              if (i.err) return i;\n            } else{\n              break;\n            }\n          } else if (xmlData[i] === '&') {\n            const afterAmp = validateAmpersand(xmlData, i);\n            if (afterAmp == -1)\n              return getErrorObject('InvalidChar', \"char '&' is not expected.\", getLineNumberForPosition(xmlData, i));\n            i = afterAmp;\n          }else{\n            if (reachedRoot === true && !isWhiteSpace(xmlData[i])) {\n              return getErrorObject('InvalidXml', \"Extra text at the end\", getLineNumberForPosition(xmlData, i));\n            }\n          }\n        } //end of reading tag text value\n        if (xmlData[i] === '<') {\n          i--;\n        }\n      }\n    } else {\n      if ( isWhiteSpace(xmlData[i])) {\n        continue;\n      }\n      return getErrorObject('InvalidChar', \"char '\"+xmlData[i]+\"' is not expected.\", getLineNumberForPosition(xmlData, i));\n    }\n  }\n\n  if (!tagFound) {\n    return getErrorObject('InvalidXml', 'Start tag expected.', 1);\n  }else if (tags.length == 1) {\n      return getErrorObject('InvalidTag', \"Unclosed tag '\"+tags[0].tagName+\"'.\", getLineNumberForPosition(xmlData, tags[0].tagStartPos));\n  }else if (tags.length > 0) {\n      return getErrorObject('InvalidXml', \"Invalid '\"+\n          JSON.stringify(tags.map(t => t.tagName), null, 4).replace(/\\r?\\n/g, '')+\n          \"' found.\", {line: 1, col: 1});\n  }\n\n  return true;\n};\n\nfunction isWhiteSpace(char){\n  return char === ' ' || char === '\\t' || char === '\\n'  || char === '\\r';\n}\n/**\n * Read Processing insstructions and skip\n * @param {*} xmlData\n * @param {*} i\n */\nfunction readPI(xmlData, i) {\n  const start = i;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] == '?' || xmlData[i] == ' ') {\n      //tagname\n      const tagname = xmlData.substr(start, i - start);\n      if (i > 5 && tagname === 'xml') {\n        return getErrorObject('InvalidXml', 'XML declaration allowed only at the start of the document.', getLineNumberForPosition(xmlData, i));\n      } else if (xmlData[i] == '?' && xmlData[i + 1] == '>') {\n        //check if valid attribut string\n        i++;\n        break;\n      } else {\n        continue;\n      }\n    }\n  }\n  return i;\n}\n\nfunction readCommentAndCDATA(xmlData, i) {\n  if (xmlData.length > i + 5 && xmlData[i + 1] === '-' && xmlData[i + 2] === '-') {\n    //comment\n    for (i += 3; i < xmlData.length; i++) {\n      if (xmlData[i] === '-' && xmlData[i + 1] === '-' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  } else if (\n    xmlData.length > i + 8 &&\n    xmlData[i + 1] === 'D' &&\n    xmlData[i + 2] === 'O' &&\n    xmlData[i + 3] === 'C' &&\n    xmlData[i + 4] === 'T' &&\n    xmlData[i + 5] === 'Y' &&\n    xmlData[i + 6] === 'P' &&\n    xmlData[i + 7] === 'E'\n  ) {\n    let angleBracketsCount = 1;\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === '<') {\n        angleBracketsCount++;\n      } else if (xmlData[i] === '>') {\n        angleBracketsCount--;\n        if (angleBracketsCount === 0) {\n          break;\n        }\n      }\n    }\n  } else if (\n    xmlData.length > i + 9 &&\n    xmlData[i + 1] === '[' &&\n    xmlData[i + 2] === 'C' &&\n    xmlData[i + 3] === 'D' &&\n    xmlData[i + 4] === 'A' &&\n    xmlData[i + 5] === 'T' &&\n    xmlData[i + 6] === 'A' &&\n    xmlData[i + 7] === '['\n  ) {\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === ']' && xmlData[i + 1] === ']' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  }\n\n  return i;\n}\n\nconst doubleQuote = '\"';\nconst singleQuote = \"'\";\n\n/**\n * Keep reading xmlData until '<' is found outside the attribute value.\n * @param {string} xmlData\n * @param {number} i\n */\nfunction readAttributeStr(xmlData, i) {\n  let attrStr = '';\n  let startChar = '';\n  let tagClosed = false;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === doubleQuote || xmlData[i] === singleQuote) {\n      if (startChar === '') {\n        startChar = xmlData[i];\n      } else if (startChar !== xmlData[i]) {\n        //if vaue is enclosed with double quote then single quotes are allowed inside the value and vice versa\n      } else {\n        startChar = '';\n      }\n    } else if (xmlData[i] === '>') {\n      if (startChar === '') {\n        tagClosed = true;\n        break;\n      }\n    }\n    attrStr += xmlData[i];\n  }\n  if (startChar !== '') {\n    return false;\n  }\n\n  return {\n    value: attrStr,\n    index: i,\n    tagClosed: tagClosed\n  };\n}\n\n/**\n * Select all the attributes whether valid or invalid.\n */\nconst validAttrStrRegxp = new RegExp('(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*([\\'\"])(([\\\\s\\\\S])*?)\\\\5)?', 'g');\n\n//attr, =\"sd\", a=\"amit's\", a=\"sd\"b=\"saf\", ab  cd=\"\"\n\nfunction validateAttributeString(attrStr, options) {\n  //console.log(\"start:\"+attrStr+\":end\");\n\n  //if(attrStr.trim().length === 0) return true; //empty string\n\n  const matches = util.getAllMatches(attrStr, validAttrStrRegxp);\n  const attrNames = {};\n\n  for (let i = 0; i < matches.length; i++) {\n    if (matches[i][1].length === 0) {\n      //nospace before attribute name: a=\"sd\"b=\"saf\"\n      return getErrorObject('InvalidAttr', \"Attribute '\"+matches[i][2]+\"' has no space in starting.\", getPositionFromMatch(matches[i]))\n    } else if (matches[i][3] !== undefined && matches[i][4] === undefined) {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+matches[i][2]+\"' is without value.\", getPositionFromMatch(matches[i]));\n    } else if (matches[i][3] === undefined && !options.allowBooleanAttributes) {\n      //independent attribute: ab\n      return getErrorObject('InvalidAttr', \"boolean attribute '\"+matches[i][2]+\"' is not allowed.\", getPositionFromMatch(matches[i]));\n    }\n    /* else if(matches[i][6] === undefined){//attribute without value: ab=\n                    return { err: { code:\"InvalidAttr\",msg:\"attribute \" + matches[i][2] + \" has no value assigned.\"}};\n                } */\n    const attrName = matches[i][2];\n    if (!validateAttrName(attrName)) {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+attrName+\"' is an invalid name.\", getPositionFromMatch(matches[i]));\n    }\n    if (!attrNames.hasOwnProperty(attrName)) {\n      //check for duplicate attribute.\n      attrNames[attrName] = 1;\n    } else {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+attrName+\"' is repeated.\", getPositionFromMatch(matches[i]));\n    }\n  }\n\n  return true;\n}\n\nfunction validateNumberAmpersand(xmlData, i) {\n  let re = /\\d/;\n  if (xmlData[i] === 'x') {\n    i++;\n    re = /[\\da-fA-F]/;\n  }\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === ';')\n      return i;\n    if (!xmlData[i].match(re))\n      break;\n  }\n  return -1;\n}\n\nfunction validateAmpersand(xmlData, i) {\n  // https://www.w3.org/TR/xml/#dt-charref\n  i++;\n  if (xmlData[i] === ';')\n    return -1;\n  if (xmlData[i] === '#') {\n    i++;\n    return validateNumberAmpersand(xmlData, i);\n  }\n  let count = 0;\n  for (; i < xmlData.length; i++, count++) {\n    if (xmlData[i].match(/\\w/) && count < 20)\n      continue;\n    if (xmlData[i] === ';')\n      break;\n    return -1;\n  }\n  return i;\n}\n\nfunction getErrorObject(code, message, lineNumber) {\n  return {\n    err: {\n      code: code,\n      msg: message,\n      line: lineNumber.line || lineNumber,\n      col: lineNumber.col,\n    },\n  };\n}\n\nfunction validateAttrName(attrName) {\n  return util.isName(attrName);\n}\n\n// const startsWithXML = /^xml/i;\n\nfunction validateTagName(tagname) {\n  return util.isName(tagname) /* && !tagname.match(startsWithXML) */;\n}\n\n//this function returns the line number for the character at the given index\nfunction getLineNumberForPosition(xmlData, index) {\n  const lines = xmlData.substring(0, index).split(/\\r?\\n/);\n  return {\n    line: lines.length,\n\n    // column number is last line's length + 1, because column numbering starts at 1:\n    col: lines[lines.length - 1].length + 1\n  };\n}\n\n//this function returns the position of the first character of match within attrStr\nfunction getPositionFromMatch(match) {\n  return match.startIndex + match[1].length;\n}\n","'use strict';\n//parse Empty Node as self closing node\nconst buildFromOrderedJs = require('./orderedJs2Xml');\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attributesGroupName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  cdataPropName: false,\n  format: false,\n  indentBy: '  ',\n  suppressEmptyNode: false,\n  suppressUnpairedNode: true,\n  suppressBooleanAttributes: true,\n  tagValueProcessor: function(key, a) {\n    return a;\n  },\n  attributeValueProcessor: function(attrName, a) {\n    return a;\n  },\n  preserveOrder: false,\n  commentPropName: false,\n  unpairedTags: [],\n  entities: [\n    { regex: new RegExp(\"&\", \"g\"), val: \"&amp;\" },//it must be on top\n    { regex: new RegExp(\">\", \"g\"), val: \"&gt;\" },\n    { regex: new RegExp(\"<\", \"g\"), val: \"&lt;\" },\n    { regex: new RegExp(\"\\'\", \"g\"), val: \"&apos;\" },\n    { regex: new RegExp(\"\\\"\", \"g\"), val: \"&quot;\" }\n  ],\n  processEntities: true,\n  stopNodes: [],\n  // transformTagName: false,\n  // transformAttributeName: false,\n  oneListGroup: false\n};\n\nfunction Builder(options) {\n  this.options = Object.assign({}, defaultOptions, options);\n  if (this.options.ignoreAttributes || this.options.attributesGroupName) {\n    this.isAttribute = function(/*a*/) {\n      return false;\n    };\n  } else {\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n\n  this.processTextOrObjNode = processTextOrObjNode\n\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = '>\\n';\n    this.newLine = '\\n';\n  } else {\n    this.indentate = function() {\n      return '';\n    };\n    this.tagEndChar = '>';\n    this.newLine = '';\n  }\n}\n\nBuilder.prototype.build = function(jObj) {\n  if(this.options.preserveOrder){\n    return buildFromOrderedJs(jObj, this.options);\n  }else {\n    if(Array.isArray(jObj) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1){\n      jObj = {\n        [this.options.arrayNodeName] : jObj\n      }\n    }\n    return this.j2x(jObj, 0).val;\n  }\n};\n\nBuilder.prototype.j2x = function(jObj, level) {\n  let attrStr = '';\n  let val = '';\n  for (let key in jObj) {\n    if(!Object.prototype.hasOwnProperty.call(jObj, key)) continue;\n    if (typeof jObj[key] === 'undefined') {\n      // supress undefined node only if it is not an attribute\n      if (this.isAttribute(key)) {\n        val += '';\n      }\n    } else if (jObj[key] === null) {\n      // null attribute should be ignored by the attribute list, but should not cause the tag closing\n      if (this.isAttribute(key)) {\n        val += '';\n      } else if (key[0] === '?') {\n        val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n      } else {\n        val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n      }\n      // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n    } else if (jObj[key] instanceof Date) {\n      val += this.buildTextValNode(jObj[key], key, '', level);\n    } else if (typeof jObj[key] !== 'object') {\n      //premitive type\n      const attr = this.isAttribute(key);\n      if (attr) {\n        attrStr += this.buildAttrPairStr(attr, '' + jObj[key]);\n      }else {\n        //tag value\n        if (key === this.options.textNodeName) {\n          let newval = this.options.tagValueProcessor(key, '' + jObj[key]);\n          val += this.replaceEntitiesValue(newval);\n        } else {\n          val += this.buildTextValNode(jObj[key], key, '', level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      //repeated nodes\n      const arrLen = jObj[key].length;\n      let listTagVal = \"\";\n      for (let j = 0; j < arrLen; j++) {\n        const item = jObj[key][j];\n        if (typeof item === 'undefined') {\n          // supress undefined node\n        } else if (item === null) {\n          if(key[0] === \"?\") val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n          else val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n          // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n        } else if (typeof item === 'object') {\n          if(this.options.oneListGroup ){\n            listTagVal += this.j2x(item, level + 1).val;\n          }else{\n            listTagVal += this.processTextOrObjNode(item, key, level)\n          }\n        } else {\n          listTagVal += this.buildTextValNode(item, key, '', level);\n        }\n      }\n      if(this.options.oneListGroup){\n        listTagVal = this.buildObjectNode(listTagVal, key, '', level);\n      }\n      val += listTagVal;\n    } else {\n      //nested node\n      if (this.options.attributesGroupName && key === this.options.attributesGroupName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n        for (let j = 0; j < L; j++) {\n          attrStr += this.buildAttrPairStr(Ks[j], '' + jObj[key][Ks[j]]);\n        }\n      } else {\n        val += this.processTextOrObjNode(jObj[key], key, level)\n      }\n    }\n  }\n  return {attrStr: attrStr, val: val};\n};\n\nBuilder.prototype.buildAttrPairStr = function(attrName, val){\n  val = this.options.attributeValueProcessor(attrName, '' + val);\n  val = this.replaceEntitiesValue(val);\n  if (this.options.suppressBooleanAttributes && val === \"true\") {\n    return ' ' + attrName;\n  } else return ' ' + attrName + '=\"' + val + '\"';\n}\n\nfunction processTextOrObjNode (object, key, level) {\n  const result = this.j2x(object, level + 1);\n  if (object[this.options.textNodeName] !== undefined && Object.keys(object).length === 1) {\n    return this.buildTextValNode(object[this.options.textNodeName], key, result.attrStr, level);\n  } else {\n    return this.buildObjectNode(result.val, key, result.attrStr, level);\n  }\n}\n\nBuilder.prototype.buildObjectNode = function(val, key, attrStr, level) {\n  if(val === \"\"){\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }\n  }else{\n\n    let tagEndExp = '</' + key + this.tagEndChar;\n    let piClosingChar = \"\";\n    \n    if(key[0] === \"?\") {\n      piClosingChar = \"?\";\n      tagEndExp = \"\";\n    }\n  \n    // attrStr is an empty string in case the attribute came as undefined or null\n    if ((attrStr || attrStr === '') && val.indexOf('<') === -1) {\n      return ( this.indentate(level) + '<' +  key + attrStr + piClosingChar + '>' + val + tagEndExp );\n    } else if (this.options.commentPropName !== false && key === this.options.commentPropName && piClosingChar.length === 0) {\n      return this.indentate(level) + `<!--${val}-->` + this.newLine;\n    }else {\n      return (\n        this.indentate(level) + '<' + key + attrStr + piClosingChar + this.tagEndChar +\n        val +\n        this.indentate(level) + tagEndExp    );\n    }\n  }\n}\n\nBuilder.prototype.closeTag = function(key){\n  let closeTag = \"\";\n  if(this.options.unpairedTags.indexOf(key) !== -1){ //unpaired\n    if(!this.options.suppressUnpairedNode) closeTag = \"/\"\n  }else if(this.options.suppressEmptyNode){ //empty\n    closeTag = \"/\";\n  }else{\n    closeTag = `></${key}`\n  }\n  return closeTag;\n}\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildObjectNode(val, key, attrStr, level);\n  } else {\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return  this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n      // return this.buildTagStr(level,key, attrStr);\n    }\n  }\n}\n\nBuilder.prototype.buildTextValNode = function(val, key, attrStr, level) {\n  if (this.options.cdataPropName !== false && key === this.options.cdataPropName) {\n    return this.indentate(level) + `<![CDATA[${val}]]>` +  this.newLine;\n  }else if (this.options.commentPropName !== false && key === this.options.commentPropName) {\n    return this.indentate(level) + `<!--${val}-->` +  this.newLine;\n  }else if(key[0] === \"?\") {//PI tag\n    return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar; \n  }else{\n    let textValue = this.options.tagValueProcessor(key, val);\n    textValue = this.replaceEntitiesValue(textValue);\n  \n    if( textValue === ''){\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }else{\n      return this.indentate(level) + '<' + key + attrStr + '>' +\n         textValue +\n        '</' + key + this.tagEndChar;\n    }\n  }\n}\n\nBuilder.prototype.replaceEntitiesValue = function(textValue){\n  if(textValue && textValue.length > 0 && this.options.processEntities){\n    for (let i=0; i<this.options.entities.length; i++) {\n      const entity = this.options.entities[i];\n      textValue = textValue.replace(entity.regex, entity.val);\n    }\n  }\n  return textValue;\n}\n\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name /*, options*/) {\n  if (name.startsWith(this.options.attributeNamePrefix) && name !== this.options.textNodeName) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = Builder;\n","const EOL = \"\\n\";\n\n/**\n * \n * @param {array} jArray \n * @param {any} options \n * @returns \n */\nfunction toXml(jArray, options) {\n    let indentation = \"\";\n    if (options.format && options.indentBy.length > 0) {\n        indentation = EOL;\n    }\n    return arrToStr(jArray, options, \"\", indentation);\n}\n\nfunction arrToStr(arr, options, jPath, indentation) {\n    let xmlStr = \"\";\n    let isPreviousElementTag = false;\n\n    for (let i = 0; i < arr.length; i++) {\n        const tagObj = arr[i];\n        const tagName = propName(tagObj);\n        if(tagName === undefined) continue;\n\n        let newJPath = \"\";\n        if (jPath.length === 0) newJPath = tagName\n        else newJPath = `${jPath}.${tagName}`;\n\n        if (tagName === options.textNodeName) {\n            let tagText = tagObj[tagName];\n            if (!isStopNode(newJPath, options)) {\n                tagText = options.tagValueProcessor(tagName, tagText);\n                tagText = replaceEntitiesValue(tagText, options);\n            }\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += tagText;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.cdataPropName) {\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += `<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.commentPropName) {\n            xmlStr += indentation + `<!--${tagObj[tagName][0][options.textNodeName]}-->`;\n            isPreviousElementTag = true;\n            continue;\n        } else if (tagName[0] === \"?\") {\n            const attStr = attr_to_str(tagObj[\":@\"], options);\n            const tempInd = tagName === \"?xml\" ? \"\" : indentation;\n            let piTextNodeName = tagObj[tagName][0][options.textNodeName];\n            piTextNodeName = piTextNodeName.length !== 0 ? \" \" + piTextNodeName : \"\"; //remove extra spacing\n            xmlStr += tempInd + `<${tagName}${piTextNodeName}${attStr}?>`;\n            isPreviousElementTag = true;\n            continue;\n        }\n        let newIdentation = indentation;\n        if (newIdentation !== \"\") {\n            newIdentation += options.indentBy;\n        }\n        const attStr = attr_to_str(tagObj[\":@\"], options);\n        const tagStart = indentation + `<${tagName}${attStr}`;\n        const tagValue = arrToStr(tagObj[tagName], options, newJPath, newIdentation);\n        if (options.unpairedTags.indexOf(tagName) !== -1) {\n            if (options.suppressUnpairedNode) xmlStr += tagStart + \">\";\n            else xmlStr += tagStart + \"/>\";\n        } else if ((!tagValue || tagValue.length === 0) && options.suppressEmptyNode) {\n            xmlStr += tagStart + \"/>\";\n        } else if (tagValue && tagValue.endsWith(\">\")) {\n            xmlStr += tagStart + `>${tagValue}${indentation}</${tagName}>`;\n        } else {\n            xmlStr += tagStart + \">\";\n            if (tagValue && indentation !== \"\" && (tagValue.includes(\"/>\") || tagValue.includes(\"</\"))) {\n                xmlStr += indentation + options.indentBy + tagValue + indentation;\n            } else {\n                xmlStr += tagValue;\n            }\n            xmlStr += `</${tagName}>`;\n        }\n        isPreviousElementTag = true;\n    }\n\n    return xmlStr;\n}\n\nfunction propName(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if(!obj.hasOwnProperty(key)) continue;\n        if (key !== \":@\") return key;\n    }\n}\n\nfunction attr_to_str(attrMap, options) {\n    let attrStr = \"\";\n    if (attrMap && !options.ignoreAttributes) {\n        for (let attr in attrMap) {\n            if(!attrMap.hasOwnProperty(attr)) continue;\n            let attrVal = options.attributeValueProcessor(attr, attrMap[attr]);\n            attrVal = replaceEntitiesValue(attrVal, options);\n            if (attrVal === true && options.suppressBooleanAttributes) {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}`;\n            } else {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}=\"${attrVal}\"`;\n            }\n        }\n    }\n    return attrStr;\n}\n\nfunction isStopNode(jPath, options) {\n    jPath = jPath.substr(0, jPath.length - options.textNodeName.length - 1);\n    let tagName = jPath.substr(jPath.lastIndexOf(\".\") + 1);\n    for (let index in options.stopNodes) {\n        if (options.stopNodes[index] === jPath || options.stopNodes[index] === \"*.\" + tagName) return true;\n    }\n    return false;\n}\n\nfunction replaceEntitiesValue(textValue, options) {\n    if (textValue && textValue.length > 0 && options.processEntities) {\n        for (let i = 0; i < options.entities.length; i++) {\n            const entity = options.entities[i];\n            textValue = textValue.replace(entity.regex, entity.val);\n        }\n    }\n    return textValue;\n}\nmodule.exports = toXml;\n","const util = require('../util');\n\n//TODO: handle comments\nfunction readDocType(xmlData, i){\n    \n    const entities = {};\n    if( xmlData[i + 3] === 'O' &&\n         xmlData[i + 4] === 'C' &&\n         xmlData[i + 5] === 'T' &&\n         xmlData[i + 6] === 'Y' &&\n         xmlData[i + 7] === 'P' &&\n         xmlData[i + 8] === 'E')\n    {    \n        i = i+9;\n        let angleBracketsCount = 1;\n        let hasBody = false, comment = false;\n        let exp = \"\";\n        for(;i<xmlData.length;i++){\n            if (xmlData[i] === '<' && !comment) { //Determine the tag type\n                if( hasBody && isEntity(xmlData, i)){\n                    i += 7; \n                    [entityName, val,i] = readEntityExp(xmlData,i+1);\n                    if(val.indexOf(\"&\") === -1) //Parameter entities are not supported\n                        entities[ validateEntityName(entityName) ] = {\n                            regx : RegExp( `&${entityName};`,\"g\"),\n                            val: val\n                        };\n                }\n                else if( hasBody && isElement(xmlData, i))  i += 8;//Not supported\n                else if( hasBody && isAttlist(xmlData, i))  i += 8;//Not supported\n                else if( hasBody && isNotation(xmlData, i)) i += 9;//Not supported\n                else if( isComment)                         comment = true;\n                else                                        throw new Error(\"Invalid DOCTYPE\");\n\n                angleBracketsCount++;\n                exp = \"\";\n            } else if (xmlData[i] === '>') { //Read tag content\n                if(comment){\n                    if( xmlData[i - 1] === \"-\" && xmlData[i - 2] === \"-\"){\n                        comment = false;\n                        angleBracketsCount--;\n                    }\n                }else{\n                    angleBracketsCount--;\n                }\n                if (angleBracketsCount === 0) {\n                  break;\n                }\n            }else if( xmlData[i] === '['){\n                hasBody = true;\n            }else{\n                exp += xmlData[i];\n            }\n        }\n        if(angleBracketsCount !== 0){\n            throw new Error(`Unclosed DOCTYPE`);\n        }\n    }else{\n        throw new Error(`Invalid Tag instead of DOCTYPE`);\n    }\n    return {entities, i};\n}\n\nfunction readEntityExp(xmlData,i){\n    //External entities are not supported\n    //    <!ENTITY ext SYSTEM \"http://normal-website.com\" >\n\n    //Parameter entities are not supported\n    //    <!ENTITY entityname \"&anotherElement;\">\n\n    //Internal entities are supported\n    //    <!ENTITY entityname \"replacement text\">\n    \n    //read EntityName\n    let entityName = \"\";\n    for (; i < xmlData.length && (xmlData[i] !== \"'\" && xmlData[i] !== '\"' ); i++) {\n        // if(xmlData[i] === \" \") continue;\n        // else \n        entityName += xmlData[i];\n    }\n    entityName = entityName.trim();\n    if(entityName.indexOf(\" \") !== -1) throw new Error(\"External entites are not supported\");\n\n    //read Entity Value\n    const startChar = xmlData[i++];\n    let val = \"\"\n    for (; i < xmlData.length && xmlData[i] !== startChar ; i++) {\n        val += xmlData[i];\n    }\n    return [entityName, val, i];\n}\n\nfunction isComment(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === '-' &&\n    xmlData[i+3] === '-') return true\n    return false\n}\nfunction isEntity(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'E' &&\n    xmlData[i+3] === 'N' &&\n    xmlData[i+4] === 'T' &&\n    xmlData[i+5] === 'I' &&\n    xmlData[i+6] === 'T' &&\n    xmlData[i+7] === 'Y') return true\n    return false\n}\nfunction isElement(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'E' &&\n    xmlData[i+3] === 'L' &&\n    xmlData[i+4] === 'E' &&\n    xmlData[i+5] === 'M' &&\n    xmlData[i+6] === 'E' &&\n    xmlData[i+7] === 'N' &&\n    xmlData[i+8] === 'T') return true\n    return false\n}\n\nfunction isAttlist(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'A' &&\n    xmlData[i+3] === 'T' &&\n    xmlData[i+4] === 'T' &&\n    xmlData[i+5] === 'L' &&\n    xmlData[i+6] === 'I' &&\n    xmlData[i+7] === 'S' &&\n    xmlData[i+8] === 'T') return true\n    return false\n}\nfunction isNotation(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'N' &&\n    xmlData[i+3] === 'O' &&\n    xmlData[i+4] === 'T' &&\n    xmlData[i+5] === 'A' &&\n    xmlData[i+6] === 'T' &&\n    xmlData[i+7] === 'I' &&\n    xmlData[i+8] === 'O' &&\n    xmlData[i+9] === 'N') return true\n    return false\n}\n\nfunction validateEntityName(name){\n    if (util.isName(name))\n\treturn name;\n    else\n        throw new Error(`Invalid entity name ${name}`);\n}\n\nmodule.exports = readDocType;\n","\nconst defaultOptions = {\n    preserveOrder: false,\n    attributeNamePrefix: '@_',\n    attributesGroupName: false,\n    textNodeName: '#text',\n    ignoreAttributes: true,\n    removeNSPrefix: false, // remove NS from tag name or attribute name if true\n    allowBooleanAttributes: false, //a tag can have attributes without any value\n    //ignoreRootElement : false,\n    parseTagValue: true,\n    parseAttributeValue: false,\n    trimValues: true, //Trim string values of tag and attributes\n    cdataPropName: false,\n    numberParseOptions: {\n      hex: true,\n      leadingZeros: true,\n      eNotation: true\n    },\n    tagValueProcessor: function(tagName, val) {\n      return val;\n    },\n    attributeValueProcessor: function(attrName, val) {\n      return val;\n    },\n    stopNodes: [], //nested tags will not be parsed even for errors\n    alwaysCreateTextNode: false,\n    isArray: () => false,\n    commentPropName: false,\n    unpairedTags: [],\n    processEntities: true,\n    htmlEntities: false,\n    ignoreDeclaration: false,\n    ignorePiTags: false,\n    transformTagName: false,\n    transformAttributeName: false,\n    updateTag: function(tagName, jPath, attrs){\n      return tagName\n    },\n    // skipEmptyListItem: false\n};\n   \nconst buildOptions = function(options) {\n    return Object.assign({}, defaultOptions, options);\n};\n\nexports.buildOptions = buildOptions;\nexports.defaultOptions = defaultOptions;","'use strict';\n///@ts-check\n\nconst util = require('../util');\nconst xmlNode = require('./xmlNode');\nconst readDocType = require(\"./DocTypeReader\");\nconst toNumber = require(\"strnum\");\n\n// const regx =\n//   '<((!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\\\/)(NAME)\\\\s*>))([^<]*)'\n//   .replace(/NAME/g, util.nameRegexp);\n\n//const tagsRegx = new RegExp(\"<(\\\\/?[\\\\w:\\\\-\\._]+)([^>]*)>(\\\\s*\"+cdataRegx+\")*([^<]+)?\",\"g\");\n//const tagsRegx = new RegExp(\"<(\\\\/?)((\\\\w*:)?([\\\\w:\\\\-\\._]+))([^>]*)>([^<]*)(\"+cdataRegx+\"([^<]*))*([^<]+)?\",\"g\");\n\nclass OrderedObjParser{\n  constructor(options){\n    this.options = options;\n    this.currentNode = null;\n    this.tagsNodeStack = [];\n    this.docTypeEntities = {};\n    this.lastEntities = {\n      \"apos\" : { regex: /&(apos|#39|#x27);/g, val : \"'\"},\n      \"gt\" : { regex: /&(gt|#62|#x3E);/g, val : \">\"},\n      \"lt\" : { regex: /&(lt|#60|#x3C);/g, val : \"<\"},\n      \"quot\" : { regex: /&(quot|#34|#x22);/g, val : \"\\\"\"},\n    };\n    this.ampEntity = { regex: /&(amp|#38|#x26);/g, val : \"&\"};\n    this.htmlEntities = {\n      \"space\": { regex: /&(nbsp|#160);/g, val: \" \" },\n      // \"lt\" : { regex: /&(lt|#60);/g, val: \"<\" },\n      // \"gt\" : { regex: /&(gt|#62);/g, val: \">\" },\n      // \"amp\" : { regex: /&(amp|#38);/g, val: \"&\" },\n      // \"quot\" : { regex: /&(quot|#34);/g, val: \"\\\"\" },\n      // \"apos\" : { regex: /&(apos|#39);/g, val: \"'\" },\n      \"cent\" : { regex: /&(cent|#162);/g, val: \"\" },\n      \"pound\" : { regex: /&(pound|#163);/g, val: \"\" },\n      \"yen\" : { regex: /&(yen|#165);/g, val: \"\" },\n      \"euro\" : { regex: /&(euro|#8364);/g, val: \"\" },\n      \"copyright\" : { regex: /&(copy|#169);/g, val: \"\" },\n      \"reg\" : { regex: /&(reg|#174);/g, val: \"\" },\n      \"inr\" : { regex: /&(inr|#8377);/g, val: \"\" },\n      \"num_dec\": { regex: /&#([0-9]{1,7});/g, val : (_, str) => String.fromCharCode(Number.parseInt(str, 10)) },\n      \"num_hex\": { regex: /&#x([0-9a-fA-F]{1,6});/g, val : (_, str) => String.fromCharCode(Number.parseInt(str, 16)) },\n    };\n    this.addExternalEntities = addExternalEntities;\n    this.parseXml = parseXml;\n    this.parseTextData = parseTextData;\n    this.resolveNameSpace = resolveNameSpace;\n    this.buildAttributesMap = buildAttributesMap;\n    this.isItStopNode = isItStopNode;\n    this.replaceEntitiesValue = replaceEntitiesValue;\n    this.readStopNodeData = readStopNodeData;\n    this.saveTextToParentTag = saveTextToParentTag;\n    this.addChild = addChild;\n  }\n\n}\n\nfunction addExternalEntities(externalEntities){\n  const entKeys = Object.keys(externalEntities);\n  for (let i = 0; i < entKeys.length; i++) {\n    const ent = entKeys[i];\n    this.lastEntities[ent] = {\n       regex: new RegExp(\"&\"+ent+\";\",\"g\"),\n       val : externalEntities[ent]\n    }\n  }\n}\n\n/**\n * @param {string} val\n * @param {string} tagName\n * @param {string} jPath\n * @param {boolean} dontTrim\n * @param {boolean} hasAttributes\n * @param {boolean} isLeafNode\n * @param {boolean} escapeEntities\n */\nfunction parseTextData(val, tagName, jPath, dontTrim, hasAttributes, isLeafNode, escapeEntities) {\n  if (val !== undefined) {\n    if (this.options.trimValues && !dontTrim) {\n      val = val.trim();\n    }\n    if(val.length > 0){\n      if(!escapeEntities) val = this.replaceEntitiesValue(val);\n      \n      const newval = this.options.tagValueProcessor(tagName, val, jPath, hasAttributes, isLeafNode);\n      if(newval === null || newval === undefined){\n        //don't parse\n        return val;\n      }else if(typeof newval !== typeof val || newval !== val){\n        //overwrite\n        return newval;\n      }else if(this.options.trimValues){\n        return parseValue(val, this.options.parseTagValue, this.options.numberParseOptions);\n      }else{\n        const trimmedVal = val.trim();\n        if(trimmedVal === val){\n          return parseValue(val, this.options.parseTagValue, this.options.numberParseOptions);\n        }else{\n          return val;\n        }\n      }\n    }\n  }\n}\n\nfunction resolveNameSpace(tagname) {\n  if (this.options.removeNSPrefix) {\n    const tags = tagname.split(':');\n    const prefix = tagname.charAt(0) === '/' ? '/' : '';\n    if (tags[0] === 'xmlns') {\n      return '';\n    }\n    if (tags.length === 2) {\n      tagname = prefix + tags[1];\n    }\n  }\n  return tagname;\n}\n\n//TODO: change regex to capture NS\n//const attrsRegx = new RegExp(\"([\\\\w\\\\-\\\\.\\\\:]+)\\\\s*=\\\\s*(['\\\"])((.|\\n)*?)\\\\2\",\"gm\");\nconst attrsRegx = new RegExp('([^\\\\s=]+)\\\\s*(=\\\\s*([\\'\"])([\\\\s\\\\S]*?)\\\\3)?', 'gm');\n\nfunction buildAttributesMap(attrStr, jPath, tagName) {\n  if (!this.options.ignoreAttributes && typeof attrStr === 'string') {\n    // attrStr = attrStr.replace(/\\r?\\n/g, ' ');\n    //attrStr = attrStr || attrStr.trim();\n\n    const matches = util.getAllMatches(attrStr, attrsRegx);\n    const len = matches.length; //don't make it inline\n    const attrs = {};\n    for (let i = 0; i < len; i++) {\n      const attrName = this.resolveNameSpace(matches[i][1]);\n      let oldVal = matches[i][4];\n      let aName = this.options.attributeNamePrefix + attrName;\n      if (attrName.length) {\n        if (this.options.transformAttributeName) {\n          aName = this.options.transformAttributeName(aName);\n        }\n        if(aName === \"__proto__\") aName  = \"#__proto__\";\n        if (oldVal !== undefined) {\n          if (this.options.trimValues) {\n            oldVal = oldVal.trim();\n          }\n          oldVal = this.replaceEntitiesValue(oldVal);\n          const newVal = this.options.attributeValueProcessor(attrName, oldVal, jPath);\n          if(newVal === null || newVal === undefined){\n            //don't parse\n            attrs[aName] = oldVal;\n          }else if(typeof newVal !== typeof oldVal || newVal !== oldVal){\n            //overwrite\n            attrs[aName] = newVal;\n          }else{\n            //parse\n            attrs[aName] = parseValue(\n              oldVal,\n              this.options.parseAttributeValue,\n              this.options.numberParseOptions\n            );\n          }\n        } else if (this.options.allowBooleanAttributes) {\n          attrs[aName] = true;\n        }\n      }\n    }\n    if (!Object.keys(attrs).length) {\n      return;\n    }\n    if (this.options.attributesGroupName) {\n      const attrCollection = {};\n      attrCollection[this.options.attributesGroupName] = attrs;\n      return attrCollection;\n    }\n    return attrs\n  }\n}\n\nconst parseXml = function(xmlData) {\n  xmlData = xmlData.replace(/\\r\\n?/g, \"\\n\"); //TODO: remove this line\n  const xmlObj = new xmlNode('!xml');\n  let currentNode = xmlObj;\n  let textData = \"\";\n  let jPath = \"\";\n  for(let i=0; i< xmlData.length; i++){//for each char in XML data\n    const ch = xmlData[i];\n    if(ch === '<'){\n      // const nextIndex = i+1;\n      // const _2ndChar = xmlData[nextIndex];\n      if( xmlData[i+1] === '/') {//Closing Tag\n        const closeIndex = findClosingIndex(xmlData, \">\", i, \"Closing Tag is not closed.\")\n        let tagName = xmlData.substring(i+2,closeIndex).trim();\n\n        if(this.options.removeNSPrefix){\n          const colonIndex = tagName.indexOf(\":\");\n          if(colonIndex !== -1){\n            tagName = tagName.substr(colonIndex+1);\n          }\n        }\n\n        if(this.options.transformTagName) {\n          tagName = this.options.transformTagName(tagName);\n        }\n\n        if(currentNode){\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n        }\n\n        //check if last tag of nested tag was unpaired tag\n        const lastTagName = jPath.substring(jPath.lastIndexOf(\".\")+1);\n        if(tagName && this.options.unpairedTags.indexOf(tagName) !== -1 ){\n          throw new Error(`Unpaired tag can not be used as closing tag: </${tagName}>`);\n        }\n        let propIndex = 0\n        if(lastTagName && this.options.unpairedTags.indexOf(lastTagName) !== -1 ){\n          propIndex = jPath.lastIndexOf('.', jPath.lastIndexOf('.')-1)\n          this.tagsNodeStack.pop();\n        }else{\n          propIndex = jPath.lastIndexOf(\".\");\n        }\n        jPath = jPath.substring(0, propIndex);\n\n        currentNode = this.tagsNodeStack.pop();//avoid recursion, set the parent tag scope\n        textData = \"\";\n        i = closeIndex;\n      } else if( xmlData[i+1] === '?') {\n\n        let tagData = readTagExp(xmlData,i, false, \"?>\");\n        if(!tagData) throw new Error(\"Pi Tag is not closed.\");\n\n        textData = this.saveTextToParentTag(textData, currentNode, jPath);\n        if( (this.options.ignoreDeclaration && tagData.tagName === \"?xml\") || this.options.ignorePiTags){\n\n        }else{\n  \n          const childNode = new xmlNode(tagData.tagName);\n          childNode.add(this.options.textNodeName, \"\");\n          \n          if(tagData.tagName !== tagData.tagExp && tagData.attrExpPresent){\n            childNode[\":@\"] = this.buildAttributesMap(tagData.tagExp, jPath, tagData.tagName);\n          }\n          this.addChild(currentNode, childNode, jPath)\n\n        }\n\n\n        i = tagData.closeIndex + 1;\n      } else if(xmlData.substr(i + 1, 3) === '!--') {\n        const endIndex = findClosingIndex(xmlData, \"-->\", i+4, \"Comment is not closed.\")\n        if(this.options.commentPropName){\n          const comment = xmlData.substring(i + 4, endIndex - 2);\n\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n\n          currentNode.add(this.options.commentPropName, [ { [this.options.textNodeName] : comment } ]);\n        }\n        i = endIndex;\n      } else if( xmlData.substr(i + 1, 2) === '!D') {\n        const result = readDocType(xmlData, i);\n        this.docTypeEntities = result.entities;\n        i = result.i;\n      }else if(xmlData.substr(i + 1, 2) === '![') {\n        const closeIndex = findClosingIndex(xmlData, \"]]>\", i, \"CDATA is not closed.\") - 2;\n        const tagExp = xmlData.substring(i + 9,closeIndex);\n\n        textData = this.saveTextToParentTag(textData, currentNode, jPath);\n\n        let val = this.parseTextData(tagExp, currentNode.tagname, jPath, true, false, true, true);\n        if(val == undefined) val = \"\";\n\n        //cdata should be set even if it is 0 length string\n        if(this.options.cdataPropName){\n          currentNode.add(this.options.cdataPropName, [ { [this.options.textNodeName] : tagExp } ]);\n        }else{\n          currentNode.add(this.options.textNodeName, val);\n        }\n        \n        i = closeIndex + 2;\n      }else {//Opening tag\n        let result = readTagExp(xmlData,i, this.options.removeNSPrefix);\n        let tagName= result.tagName;\n        const rawTagName = result.rawTagName;\n        let tagExp = result.tagExp;\n        let attrExpPresent = result.attrExpPresent;\n        let closeIndex = result.closeIndex;\n\n        if (this.options.transformTagName) {\n          tagName = this.options.transformTagName(tagName);\n        }\n        \n        //save text as child node\n        if (currentNode && textData) {\n          if(currentNode.tagname !== '!xml'){\n            //when nested tag is found\n            textData = this.saveTextToParentTag(textData, currentNode, jPath, false);\n          }\n        }\n\n        //check if last tag was unpaired tag\n        const lastTag = currentNode;\n        if(lastTag && this.options.unpairedTags.indexOf(lastTag.tagname) !== -1 ){\n          currentNode = this.tagsNodeStack.pop();\n          jPath = jPath.substring(0, jPath.lastIndexOf(\".\"));\n        }\n        if(tagName !== xmlObj.tagname){\n          jPath += jPath ? \".\" + tagName : tagName;\n        }\n        if (this.isItStopNode(this.options.stopNodes, jPath, tagName)) {\n          let tagContent = \"\";\n          //self-closing tag\n          if(tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1){\n            if(tagName[tagName.length - 1] === \"/\"){ //remove trailing '/'\n              tagName = tagName.substr(0, tagName.length - 1);\n              jPath = jPath.substr(0, jPath.length - 1);\n              tagExp = tagName;\n            }else{\n              tagExp = tagExp.substr(0, tagExp.length - 1);\n            }\n            i = result.closeIndex;\n          }\n          //unpaired tag\n          else if(this.options.unpairedTags.indexOf(tagName) !== -1){\n            \n            i = result.closeIndex;\n          }\n          //normal tag\n          else{\n            //read until closing tag is found\n            const result = this.readStopNodeData(xmlData, rawTagName, closeIndex + 1);\n            if(!result) throw new Error(`Unexpected end of ${rawTagName}`);\n            i = result.i;\n            tagContent = result.tagContent;\n          }\n\n          const childNode = new xmlNode(tagName);\n          if(tagName !== tagExp && attrExpPresent){\n            childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n          }\n          if(tagContent) {\n            tagContent = this.parseTextData(tagContent, tagName, jPath, true, attrExpPresent, true, true);\n          }\n          \n          jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n          childNode.add(this.options.textNodeName, tagContent);\n          \n          this.addChild(currentNode, childNode, jPath)\n        }else{\n  //selfClosing tag\n          if(tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1){\n            if(tagName[tagName.length - 1] === \"/\"){ //remove trailing '/'\n              tagName = tagName.substr(0, tagName.length - 1);\n              jPath = jPath.substr(0, jPath.length - 1);\n              tagExp = tagName;\n            }else{\n              tagExp = tagExp.substr(0, tagExp.length - 1);\n            }\n            \n            if(this.options.transformTagName) {\n              tagName = this.options.transformTagName(tagName);\n            }\n\n            const childNode = new xmlNode(tagName);\n            if(tagName !== tagExp && attrExpPresent){\n              childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n            }\n            this.addChild(currentNode, childNode, jPath)\n            jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n          }\n    //opening tag\n          else{\n            const childNode = new xmlNode( tagName);\n            this.tagsNodeStack.push(currentNode);\n            \n            if(tagName !== tagExp && attrExpPresent){\n              childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n            }\n            this.addChild(currentNode, childNode, jPath)\n            currentNode = childNode;\n          }\n          textData = \"\";\n          i = closeIndex;\n        }\n      }\n    }else{\n      textData += xmlData[i];\n    }\n  }\n  return xmlObj.child;\n}\n\nfunction addChild(currentNode, childNode, jPath){\n  const result = this.options.updateTag(childNode.tagname, jPath, childNode[\":@\"])\n  if(result === false){\n  }else if(typeof result === \"string\"){\n    childNode.tagname = result\n    currentNode.addChild(childNode);\n  }else{\n    currentNode.addChild(childNode);\n  }\n}\n\nconst replaceEntitiesValue = function(val){\n\n  if(this.options.processEntities){\n    for(let entityName in this.docTypeEntities){\n      const entity = this.docTypeEntities[entityName];\n      val = val.replace( entity.regx, entity.val);\n    }\n    for(let entityName in this.lastEntities){\n      const entity = this.lastEntities[entityName];\n      val = val.replace( entity.regex, entity.val);\n    }\n    if(this.options.htmlEntities){\n      for(let entityName in this.htmlEntities){\n        const entity = this.htmlEntities[entityName];\n        val = val.replace( entity.regex, entity.val);\n      }\n    }\n    val = val.replace( this.ampEntity.regex, this.ampEntity.val);\n  }\n  return val;\n}\nfunction saveTextToParentTag(textData, currentNode, jPath, isLeafNode) {\n  if (textData) { //store previously collected data as textNode\n    if(isLeafNode === undefined) isLeafNode = Object.keys(currentNode.child).length === 0\n    \n    textData = this.parseTextData(textData,\n      currentNode.tagname,\n      jPath,\n      false,\n      currentNode[\":@\"] ? Object.keys(currentNode[\":@\"]).length !== 0 : false,\n      isLeafNode);\n\n    if (textData !== undefined && textData !== \"\")\n      currentNode.add(this.options.textNodeName, textData);\n    textData = \"\";\n  }\n  return textData;\n}\n\n//TODO: use jPath to simplify the logic\n/**\n * \n * @param {string[]} stopNodes \n * @param {string} jPath\n * @param {string} currentTagName \n */\nfunction isItStopNode(stopNodes, jPath, currentTagName){\n  const allNodesExp = \"*.\" + currentTagName;\n  for (const stopNodePath in stopNodes) {\n    const stopNodeExp = stopNodes[stopNodePath];\n    if( allNodesExp === stopNodeExp || jPath === stopNodeExp  ) return true;\n  }\n  return false;\n}\n\n/**\n * Returns the tag Expression and where it is ending handling single-double quotes situation\n * @param {string} xmlData \n * @param {number} i starting index\n * @returns \n */\nfunction tagExpWithClosingIndex(xmlData, i, closingChar = \">\"){\n  let attrBoundary;\n  let tagExp = \"\";\n  for (let index = i; index < xmlData.length; index++) {\n    let ch = xmlData[index];\n    if (attrBoundary) {\n        if (ch === attrBoundary) attrBoundary = \"\";//reset\n    } else if (ch === '\"' || ch === \"'\") {\n        attrBoundary = ch;\n    } else if (ch === closingChar[0]) {\n      if(closingChar[1]){\n        if(xmlData[index + 1] === closingChar[1]){\n          return {\n            data: tagExp,\n            index: index\n          }\n        }\n      }else{\n        return {\n          data: tagExp,\n          index: index\n        }\n      }\n    } else if (ch === '\\t') {\n      ch = \" \"\n    }\n    tagExp += ch;\n  }\n}\n\nfunction findClosingIndex(xmlData, str, i, errMsg){\n  const closingIndex = xmlData.indexOf(str, i);\n  if(closingIndex === -1){\n    throw new Error(errMsg)\n  }else{\n    return closingIndex + str.length - 1;\n  }\n}\n\nfunction readTagExp(xmlData,i, removeNSPrefix, closingChar = \">\"){\n  const result = tagExpWithClosingIndex(xmlData, i+1, closingChar);\n  if(!result) return;\n  let tagExp = result.data;\n  const closeIndex = result.index;\n  const separatorIndex = tagExp.search(/\\s/);\n  let tagName = tagExp;\n  let attrExpPresent = true;\n  if(separatorIndex !== -1){//separate tag name and attributes expression\n    tagName = tagExp.substring(0, separatorIndex);\n    tagExp = tagExp.substring(separatorIndex + 1).trimStart();\n  }\n\n  const rawTagName = tagName;\n  if(removeNSPrefix){\n    const colonIndex = tagName.indexOf(\":\");\n    if(colonIndex !== -1){\n      tagName = tagName.substr(colonIndex+1);\n      attrExpPresent = tagName !== result.data.substr(colonIndex + 1);\n    }\n  }\n\n  return {\n    tagName: tagName,\n    tagExp: tagExp,\n    closeIndex: closeIndex,\n    attrExpPresent: attrExpPresent,\n    rawTagName: rawTagName,\n  }\n}\n/**\n * find paired tag for a stop node\n * @param {string} xmlData \n * @param {string} tagName \n * @param {number} i \n */\nfunction readStopNodeData(xmlData, tagName, i){\n  const startIndex = i;\n  // Starting at 1 since we already have an open tag\n  let openTagCount = 1;\n\n  for (; i < xmlData.length; i++) {\n    if( xmlData[i] === \"<\"){ \n      if (xmlData[i+1] === \"/\") {//close tag\n          const closeIndex = findClosingIndex(xmlData, \">\", i, `${tagName} is not closed`);\n          let closeTagName = xmlData.substring(i+2,closeIndex).trim();\n          if(closeTagName === tagName){\n            openTagCount--;\n            if (openTagCount === 0) {\n              return {\n                tagContent: xmlData.substring(startIndex, i),\n                i : closeIndex\n              }\n            }\n          }\n          i=closeIndex;\n        } else if(xmlData[i+1] === '?') { \n          const closeIndex = findClosingIndex(xmlData, \"?>\", i+1, \"StopNode is not closed.\")\n          i=closeIndex;\n        } else if(xmlData.substr(i + 1, 3) === '!--') { \n          const closeIndex = findClosingIndex(xmlData, \"-->\", i+3, \"StopNode is not closed.\")\n          i=closeIndex;\n        } else if(xmlData.substr(i + 1, 2) === '![') { \n          const closeIndex = findClosingIndex(xmlData, \"]]>\", i, \"StopNode is not closed.\") - 2;\n          i=closeIndex;\n        } else {\n          const tagData = readTagExp(xmlData, i, '>')\n\n          if (tagData) {\n            const openTagName = tagData && tagData.tagName;\n            if (openTagName === tagName && tagData.tagExp[tagData.tagExp.length-1] !== \"/\") {\n              openTagCount++;\n            }\n            i=tagData.closeIndex;\n          }\n        }\n      }\n  }//end for loop\n}\n\nfunction parseValue(val, shouldParse, options) {\n  if (shouldParse && typeof val === 'string') {\n    //console.log(options)\n    const newval = val.trim();\n    if(newval === 'true' ) return true;\n    else if(newval === 'false' ) return false;\n    else return toNumber(val, options);\n  } else {\n    if (util.isExist(val)) {\n      return val;\n    } else {\n      return '';\n    }\n  }\n}\n\n\nmodule.exports = OrderedObjParser;\n","const { buildOptions} = require(\"./OptionsBuilder\");\nconst OrderedObjParser = require(\"./OrderedObjParser\");\nconst { prettify} = require(\"./node2json\");\nconst validator = require('../validator');\n\nclass XMLParser{\n    \n    constructor(options){\n        this.externalEntities = {};\n        this.options = buildOptions(options);\n        \n    }\n    /**\n     * Parse XML dats to JS object \n     * @param {string|Buffer} xmlData \n     * @param {boolean|Object} validationOption \n     */\n    parse(xmlData,validationOption){\n        if(typeof xmlData === \"string\"){\n        }else if( xmlData.toString){\n            xmlData = xmlData.toString();\n        }else{\n            throw new Error(\"XML data is accepted in String or Bytes[] form.\")\n        }\n        if( validationOption){\n            if(validationOption === true) validationOption = {}; //validate with default options\n            \n            const result = validator.validate(xmlData, validationOption);\n            if (result !== true) {\n              throw Error( `${result.err.msg}:${result.err.line}:${result.err.col}` )\n            }\n          }\n        const orderedObjParser = new OrderedObjParser(this.options);\n        orderedObjParser.addExternalEntities(this.externalEntities);\n        const orderedResult = orderedObjParser.parseXml(xmlData);\n        if(this.options.preserveOrder || orderedResult === undefined) return orderedResult;\n        else return prettify(orderedResult, this.options);\n    }\n\n    /**\n     * Add Entity which is not by default supported by this library\n     * @param {string} key \n     * @param {string} value \n     */\n    addEntity(key, value){\n        if(value.indexOf(\"&\") !== -1){\n            throw new Error(\"Entity value can't have '&'\")\n        }else if(key.indexOf(\"&\") !== -1 || key.indexOf(\";\") !== -1){\n            throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\")\n        }else if(value === \"&\"){\n            throw new Error(\"An entity with value '&' is not permitted\");\n        }else{\n            this.externalEntities[key] = value;\n        }\n    }\n}\n\nmodule.exports = XMLParser;","'use strict';\n\n/**\n * \n * @param {array} node \n * @param {any} options \n * @returns \n */\nfunction prettify(node, options){\n  return compress( node, options);\n}\n\n/**\n * \n * @param {array} arr \n * @param {object} options \n * @param {string} jPath \n * @returns object\n */\nfunction compress(arr, options, jPath){\n  let text;\n  const compressedObj = {};\n  for (let i = 0; i < arr.length; i++) {\n    const tagObj = arr[i];\n    const property = propName(tagObj);\n    let newJpath = \"\";\n    if(jPath === undefined) newJpath = property;\n    else newJpath = jPath + \".\" + property;\n\n    if(property === options.textNodeName){\n      if(text === undefined) text = tagObj[property];\n      else text += \"\" + tagObj[property];\n    }else if(property === undefined){\n      continue;\n    }else if(tagObj[property]){\n      \n      let val = compress(tagObj[property], options, newJpath);\n      const isLeaf = isLeafTag(val, options);\n\n      if(tagObj[\":@\"]){\n        assignAttributes( val, tagObj[\":@\"], newJpath, options);\n      }else if(Object.keys(val).length === 1 && val[options.textNodeName] !== undefined && !options.alwaysCreateTextNode){\n        val = val[options.textNodeName];\n      }else if(Object.keys(val).length === 0){\n        if(options.alwaysCreateTextNode) val[options.textNodeName] = \"\";\n        else val = \"\";\n      }\n\n      if(compressedObj[property] !== undefined && compressedObj.hasOwnProperty(property)) {\n        if(!Array.isArray(compressedObj[property])) {\n            compressedObj[property] = [ compressedObj[property] ];\n        }\n        compressedObj[property].push(val);\n      }else{\n        //TODO: if a node is not an array, then check if it should be an array\n        //also determine if it is a leaf node\n        if (options.isArray(property, newJpath, isLeaf )) {\n          compressedObj[property] = [val];\n        }else{\n          compressedObj[property] = val;\n        }\n      }\n    }\n    \n  }\n  // if(text && text.length > 0) compressedObj[options.textNodeName] = text;\n  if(typeof text === \"string\"){\n    if(text.length > 0) compressedObj[options.textNodeName] = text;\n  }else if(text !== undefined) compressedObj[options.textNodeName] = text;\n  return compressedObj;\n}\n\nfunction propName(obj){\n  const keys = Object.keys(obj);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if(key !== \":@\") return key;\n  }\n}\n\nfunction assignAttributes(obj, attrMap, jpath, options){\n  if (attrMap) {\n    const keys = Object.keys(attrMap);\n    const len = keys.length; //don't make it inline\n    for (let i = 0; i < len; i++) {\n      const atrrName = keys[i];\n      if (options.isArray(atrrName, jpath + \".\" + atrrName, true, true)) {\n        obj[atrrName] = [ attrMap[atrrName] ];\n      } else {\n        obj[atrrName] = attrMap[atrrName];\n      }\n    }\n  }\n}\n\nfunction isLeafTag(obj, options){\n  const { textNodeName } = options;\n  const propCount = Object.keys(obj).length;\n  \n  if (propCount === 0) {\n    return true;\n  }\n\n  if (\n    propCount === 1 &&\n    (obj[textNodeName] || typeof obj[textNodeName] === \"boolean\" || obj[textNodeName] === 0)\n  ) {\n    return true;\n  }\n\n  return false;\n}\nexports.prettify = prettify;\n","'use strict';\n\nclass XmlNode{\n  constructor(tagname) {\n    this.tagname = tagname;\n    this.child = []; //nested tags, text, cdata, comments in order\n    this[\":@\"] = {}; //attributes map\n  }\n  add(key,val){\n    // this.child.push( {name : key, val: val, isCdata: isCdata });\n    if(key === \"__proto__\") key = \"#__proto__\";\n    this.child.push( {[key]: val });\n  }\n  addChild(node) {\n    if(node.tagname === \"__proto__\") node.tagname = \"#__proto__\";\n    if(node[\":@\"] && Object.keys(node[\":@\"]).length > 0){\n      this.child.push( { [node.tagname]: node.child, [\":@\"]: node[\":@\"] });\n    }else{\n      this.child.push( { [node.tagname]: node.child });\n    }\n  };\n};\n\n\nmodule.exports = XmlNode;","'use strict';\nconst {PassThrough: PassThroughStream} = require('stream');\n\nmodule.exports = options => {\n\toptions = {...options};\n\n\tconst {array} = options;\n\tlet {encoding} = options;\n\tconst isBuffer = encoding === 'buffer';\n\tlet objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || isBuffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (isBuffer) {\n\t\tencoding = null;\n\t}\n\n\tconst stream = new PassThroughStream({objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tlet length = 0;\n\tconst chunks = [];\n\n\tstream.on('data', chunk => {\n\t\tchunks.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlength = chunks.length;\n\t\t} else {\n\t\t\tlength += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = () => {\n\t\tif (array) {\n\t\t\treturn chunks;\n\t\t}\n\n\t\treturn isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n\t};\n\n\tstream.getBufferedLength = () => length;\n\n\treturn stream;\n};\n","'use strict';\nconst {constants: BufferConstants} = require('buffer');\nconst pump = require('pump');\nconst bufferStream = require('./buffer-stream');\n\nclass MaxBufferError extends Error {\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t\tthis.name = 'MaxBufferError';\n\t}\n}\n\nasync function getStream(inputStream, options) {\n\tif (!inputStream) {\n\t\treturn Promise.reject(new Error('Expected a stream'));\n\t}\n\n\toptions = {\n\t\tmaxBuffer: Infinity,\n\t\t...options\n\t};\n\n\tconst {maxBuffer} = options;\n\n\tlet stream;\n\tawait new Promise((resolve, reject) => {\n\t\tconst rejectPromise = error => {\n\t\t\t// Don't retrieve an oversized buffer.\n\t\t\tif (error && stream.getBufferedLength() <= BufferConstants.MAX_LENGTH) {\n\t\t\t\terror.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\n\t\t\treject(error);\n\t\t};\n\n\t\tstream = pump(inputStream, bufferStream(options), error => {\n\t\t\tif (error) {\n\t\t\t\trejectPromise(error);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolve();\n\t\t});\n\n\t\tstream.on('data', () => {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\trejectPromise(new MaxBufferError());\n\t\t\t}\n\t\t});\n\t});\n\n\treturn stream.getBufferedValue();\n}\n\nmodule.exports = getStream;\n// TODO: Remove this for the next major release\nmodule.exports.default = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, {...options, encoding: 'buffer'});\nmodule.exports.array = (stream, options) => getStream(stream, {...options, array: true});\nmodule.exports.MaxBufferError = MaxBufferError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = require(\"./types\");\nfunction createRejection(error, ...beforeErrorGroups) {\n    const promise = (async () => {\n        if (error instanceof types_1.RequestError) {\n            try {\n                for (const hooks of beforeErrorGroups) {\n                    if (hooks) {\n                        for (const hook of hooks) {\n                            // eslint-disable-next-line no-await-in-loop\n                            error = await hook(error);\n                        }\n                    }\n                }\n            }\n            catch (error_) {\n                error = error_;\n            }\n        }\n        throw error;\n    })();\n    const returnPromise = () => promise;\n    promise.json = returnPromise;\n    promise.text = returnPromise;\n    promise.buffer = returnPromise;\n    promise.on = returnPromise;\n    return promise;\n}\nexports.default = createRejection;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nconst is_1 = require(\"@sindresorhus/is\");\nconst PCancelable = require(\"p-cancelable\");\nconst types_1 = require(\"./types\");\nconst parse_body_1 = require(\"./parse-body\");\nconst core_1 = require(\"../core\");\nconst proxy_events_1 = require(\"../core/utils/proxy-events\");\nconst get_buffer_1 = require(\"../core/utils/get-buffer\");\nconst is_response_ok_1 = require(\"../core/utils/is-response-ok\");\nconst proxiedRequestEvents = [\n    'request',\n    'response',\n    'redirect',\n    'uploadProgress',\n    'downloadProgress'\n];\nfunction asPromise(normalizedOptions) {\n    let globalRequest;\n    let globalResponse;\n    const emitter = new events_1.EventEmitter();\n    const promise = new PCancelable((resolve, reject, onCancel) => {\n        const makeRequest = (retryCount) => {\n            const request = new core_1.default(undefined, normalizedOptions);\n            request.retryCount = retryCount;\n            request._noPipe = true;\n            onCancel(() => request.destroy());\n            onCancel.shouldReject = false;\n            onCancel(() => reject(new types_1.CancelError(request)));\n            globalRequest = request;\n            request.once('response', async (response) => {\n                var _a;\n                response.retryCount = retryCount;\n                if (response.request.aborted) {\n                    // Canceled while downloading - will throw a `CancelError` or `TimeoutError` error\n                    return;\n                }\n                // Download body\n                let rawBody;\n                try {\n                    rawBody = await get_buffer_1.default(request);\n                    response.rawBody = rawBody;\n                }\n                catch (_b) {\n                    // The same error is caught below.\n                    // See request.once('error')\n                    return;\n                }\n                if (request._isAboutToError) {\n                    return;\n                }\n                // Parse body\n                const contentEncoding = ((_a = response.headers['content-encoding']) !== null && _a !== void 0 ? _a : '').toLowerCase();\n                const isCompressed = ['gzip', 'deflate', 'br'].includes(contentEncoding);\n                const { options } = request;\n                if (isCompressed && !options.decompress) {\n                    response.body = rawBody;\n                }\n                else {\n                    try {\n                        response.body = parse_body_1.default(response, options.responseType, options.parseJson, options.encoding);\n                    }\n                    catch (error) {\n                        // Fallback to `utf8`\n                        response.body = rawBody.toString();\n                        if (is_response_ok_1.isResponseOk(response)) {\n                            request._beforeError(error);\n                            return;\n                        }\n                    }\n                }\n                try {\n                    for (const [index, hook] of options.hooks.afterResponse.entries()) {\n                        // @ts-expect-error TS doesn't notice that CancelableRequest is a Promise\n                        // eslint-disable-next-line no-await-in-loop\n                        response = await hook(response, async (updatedOptions) => {\n                            const typedOptions = core_1.default.normalizeArguments(undefined, {\n                                ...updatedOptions,\n                                retry: {\n                                    calculateDelay: () => 0\n                                },\n                                throwHttpErrors: false,\n                                resolveBodyOnly: false\n                            }, options);\n                            // Remove any further hooks for that request, because we'll call them anyway.\n                            // The loop continues. We don't want duplicates (asPromise recursion).\n                            typedOptions.hooks.afterResponse = typedOptions.hooks.afterResponse.slice(0, index);\n                            for (const hook of typedOptions.hooks.beforeRetry) {\n                                // eslint-disable-next-line no-await-in-loop\n                                await hook(typedOptions);\n                            }\n                            const promise = asPromise(typedOptions);\n                            onCancel(() => {\n                                promise.catch(() => { });\n                                promise.cancel();\n                            });\n                            return promise;\n                        });\n                    }\n                }\n                catch (error) {\n                    request._beforeError(new types_1.RequestError(error.message, error, request));\n                    return;\n                }\n                globalResponse = response;\n                if (!is_response_ok_1.isResponseOk(response)) {\n                    request._beforeError(new types_1.HTTPError(response));\n                    return;\n                }\n                request.destroy();\n                resolve(request.options.resolveBodyOnly ? response.body : response);\n            });\n            const onError = (error) => {\n                if (promise.isCanceled) {\n                    return;\n                }\n                const { options } = request;\n                if (error instanceof types_1.HTTPError && !options.throwHttpErrors) {\n                    const { response } = error;\n                    resolve(request.options.resolveBodyOnly ? response.body : response);\n                    return;\n                }\n                reject(error);\n            };\n            request.once('error', onError);\n            const previousBody = request.options.body;\n            request.once('retry', (newRetryCount, error) => {\n                var _a, _b;\n                if (previousBody === ((_a = error.request) === null || _a === void 0 ? void 0 : _a.options.body) && is_1.default.nodeStream((_b = error.request) === null || _b === void 0 ? void 0 : _b.options.body)) {\n                    onError(error);\n                    return;\n                }\n                makeRequest(newRetryCount);\n            });\n            proxy_events_1.default(request, emitter, proxiedRequestEvents);\n        };\n        makeRequest(0);\n    });\n    promise.on = (event, fn) => {\n        emitter.on(event, fn);\n        return promise;\n    };\n    const shortcut = (responseType) => {\n        const newPromise = (async () => {\n            // Wait until downloading has ended\n            await promise;\n            const { options } = globalResponse.request;\n            return parse_body_1.default(globalResponse, responseType, options.parseJson, options.encoding);\n        })();\n        Object.defineProperties(newPromise, Object.getOwnPropertyDescriptors(promise));\n        return newPromise;\n    };\n    promise.json = () => {\n        const { headers } = globalRequest.options;\n        if (!globalRequest.writableFinished && headers.accept === undefined) {\n            headers.accept = 'application/json';\n        }\n        return shortcut('json');\n    };\n    promise.buffer = () => shortcut('buffer');\n    promise.text = () => shortcut('text');\n    return promise;\n}\nexports.default = asPromise;\n__exportStar(require(\"./types\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = require(\"@sindresorhus/is\");\nconst normalizeArguments = (options, defaults) => {\n    if (is_1.default.null_(options.encoding)) {\n        throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n    }\n    is_1.assert.any([is_1.default.string, is_1.default.undefined], options.encoding);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.resolveBodyOnly);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.methodRewriting);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.isStream);\n    is_1.assert.any([is_1.default.string, is_1.default.undefined], options.responseType);\n    // `options.responseType`\n    if (options.responseType === undefined) {\n        options.responseType = 'text';\n    }\n    // `options.retry`\n    const { retry } = options;\n    if (defaults) {\n        options.retry = { ...defaults.retry };\n    }\n    else {\n        options.retry = {\n            calculateDelay: retryObject => retryObject.computedValue,\n            limit: 0,\n            methods: [],\n            statusCodes: [],\n            errorCodes: [],\n            maxRetryAfter: undefined\n        };\n    }\n    if (is_1.default.object(retry)) {\n        options.retry = {\n            ...options.retry,\n            ...retry\n        };\n        options.retry.methods = [...new Set(options.retry.methods.map(method => method.toUpperCase()))];\n        options.retry.statusCodes = [...new Set(options.retry.statusCodes)];\n        options.retry.errorCodes = [...new Set(options.retry.errorCodes)];\n    }\n    else if (is_1.default.number(retry)) {\n        options.retry.limit = retry;\n    }\n    if (is_1.default.undefined(options.retry.maxRetryAfter)) {\n        options.retry.maxRetryAfter = Math.min(\n        // TypeScript is not smart enough to handle `.filter(x => is.number(x))`.\n        // eslint-disable-next-line unicorn/no-fn-reference-in-iterator\n        ...[options.timeout.request, options.timeout.connect].filter(is_1.default.number));\n    }\n    // `options.pagination`\n    if (is_1.default.object(options.pagination)) {\n        if (defaults) {\n            options.pagination = {\n                ...defaults.pagination,\n                ...options.pagination\n            };\n        }\n        const { pagination } = options;\n        if (!is_1.default.function_(pagination.transform)) {\n            throw new Error('`options.pagination.transform` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.shouldContinue)) {\n            throw new Error('`options.pagination.shouldContinue` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.filter)) {\n            throw new TypeError('`options.pagination.filter` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.paginate)) {\n            throw new Error('`options.pagination.paginate` must be implemented');\n        }\n    }\n    // JSON mode\n    if (options.responseType === 'json' && options.headers.accept === undefined) {\n        options.headers.accept = 'application/json';\n    }\n    return options;\n};\nexports.default = normalizeArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = require(\"./types\");\nconst parseBody = (response, responseType, parseJson, encoding) => {\n    const { rawBody } = response;\n    try {\n        if (responseType === 'text') {\n            return rawBody.toString(encoding);\n        }\n        if (responseType === 'json') {\n            return rawBody.length === 0 ? '' : parseJson(rawBody.toString());\n        }\n        if (responseType === 'buffer') {\n            return rawBody;\n        }\n        throw new types_1.ParseError({\n            message: `Unknown body type '${responseType}'`,\n            name: 'Error'\n        }, response);\n    }\n    catch (error) {\n        throw new types_1.ParseError(error, response);\n    }\n};\nexports.default = parseBody;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancelError = exports.ParseError = void 0;\nconst core_1 = require(\"../core\");\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nclass ParseError extends core_1.RequestError {\n    constructor(error, response) {\n        const { options } = response.request;\n        super(`${error.message} in \"${options.url.toString()}\"`, error, response.request);\n        this.name = 'ParseError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_BODY_PARSE_FAILURE' : this.code;\n    }\n}\nexports.ParseError = ParseError;\n/**\nAn error to be thrown when the request is aborted with `.cancel()`.\n*/\nclass CancelError extends core_1.RequestError {\n    constructor(request) {\n        super('Promise was canceled', {}, request);\n        this.name = 'CancelError';\n        this.code = 'ERR_CANCELED';\n    }\n    get isCanceled() {\n        return true;\n    }\n}\nexports.CancelError = CancelError;\n__exportStar(require(\"../core\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.retryAfterStatusCodes = void 0;\nexports.retryAfterStatusCodes = new Set([413, 429, 503]);\nconst calculateRetryDelay = ({ attemptCount, retryOptions, error, retryAfter }) => {\n    if (attemptCount > retryOptions.limit) {\n        return 0;\n    }\n    const hasMethod = retryOptions.methods.includes(error.options.method);\n    const hasErrorCode = retryOptions.errorCodes.includes(error.code);\n    const hasStatusCode = error.response && retryOptions.statusCodes.includes(error.response.statusCode);\n    if (!hasMethod || (!hasErrorCode && !hasStatusCode)) {\n        return 0;\n    }\n    if (error.response) {\n        if (retryAfter) {\n            if (retryOptions.maxRetryAfter === undefined || retryAfter > retryOptions.maxRetryAfter) {\n                return 0;\n            }\n            return retryAfter;\n        }\n        if (error.response.statusCode === 413) {\n            return 0;\n        }\n    }\n    const noise = Math.random() * 100;\n    return ((2 ** (attemptCount - 1)) * 1000) + noise;\n};\nexports.default = calculateRetryDelay;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnsupportedProtocolError = exports.ReadError = exports.TimeoutError = exports.UploadError = exports.CacheError = exports.HTTPError = exports.MaxRedirectsError = exports.RequestError = exports.setNonEnumerableProperties = exports.knownHookEvents = exports.withoutBody = exports.kIsNormalizedAlready = void 0;\nconst util_1 = require(\"util\");\nconst stream_1 = require(\"stream\");\nconst fs_1 = require(\"fs\");\nconst url_1 = require(\"url\");\nconst http = require(\"http\");\nconst http_1 = require(\"http\");\nconst https = require(\"https\");\nconst http_timer_1 = require(\"@szmarczak/http-timer\");\nconst cacheable_lookup_1 = require(\"cacheable-lookup\");\nconst CacheableRequest = require(\"cacheable-request\");\nconst decompressResponse = require(\"decompress-response\");\n// @ts-expect-error Missing types\nconst http2wrapper = require(\"http2-wrapper\");\nconst lowercaseKeys = require(\"lowercase-keys\");\nconst is_1 = require(\"@sindresorhus/is\");\nconst get_body_size_1 = require(\"./utils/get-body-size\");\nconst is_form_data_1 = require(\"./utils/is-form-data\");\nconst proxy_events_1 = require(\"./utils/proxy-events\");\nconst timed_out_1 = require(\"./utils/timed-out\");\nconst url_to_options_1 = require(\"./utils/url-to-options\");\nconst options_to_url_1 = require(\"./utils/options-to-url\");\nconst weakable_map_1 = require(\"./utils/weakable-map\");\nconst get_buffer_1 = require(\"./utils/get-buffer\");\nconst dns_ip_version_1 = require(\"./utils/dns-ip-version\");\nconst is_response_ok_1 = require(\"./utils/is-response-ok\");\nconst deprecation_warning_1 = require(\"../utils/deprecation-warning\");\nconst normalize_arguments_1 = require(\"../as-promise/normalize-arguments\");\nconst calculate_retry_delay_1 = require(\"./calculate-retry-delay\");\nlet globalDnsCache;\nconst kRequest = Symbol('request');\nconst kResponse = Symbol('response');\nconst kResponseSize = Symbol('responseSize');\nconst kDownloadedSize = Symbol('downloadedSize');\nconst kBodySize = Symbol('bodySize');\nconst kUploadedSize = Symbol('uploadedSize');\nconst kServerResponsesPiped = Symbol('serverResponsesPiped');\nconst kUnproxyEvents = Symbol('unproxyEvents');\nconst kIsFromCache = Symbol('isFromCache');\nconst kCancelTimeouts = Symbol('cancelTimeouts');\nconst kStartedReading = Symbol('startedReading');\nconst kStopReading = Symbol('stopReading');\nconst kTriggerRead = Symbol('triggerRead');\nconst kBody = Symbol('body');\nconst kJobs = Symbol('jobs');\nconst kOriginalResponse = Symbol('originalResponse');\nconst kRetryTimeout = Symbol('retryTimeout');\nexports.kIsNormalizedAlready = Symbol('isNormalizedAlready');\nconst supportsBrotli = is_1.default.string(process.versions.brotli);\nexports.withoutBody = new Set(['GET', 'HEAD']);\nexports.knownHookEvents = [\n    'init',\n    'beforeRequest',\n    'beforeRedirect',\n    'beforeError',\n    'beforeRetry',\n    // Promise-Only\n    'afterResponse'\n];\nfunction validateSearchParameters(searchParameters) {\n    // eslint-disable-next-line guard-for-in\n    for (const key in searchParameters) {\n        const value = searchParameters[key];\n        if (!is_1.default.string(value) && !is_1.default.number(value) && !is_1.default.boolean(value) && !is_1.default.null_(value) && !is_1.default.undefined(value)) {\n            throw new TypeError(`The \\`searchParams\\` value '${String(value)}' must be a string, number, boolean or null`);\n        }\n    }\n}\nfunction isClientRequest(clientRequest) {\n    return is_1.default.object(clientRequest) && !('statusCode' in clientRequest);\n}\nconst cacheableStore = new weakable_map_1.default();\nconst waitForOpenFile = async (file) => new Promise((resolve, reject) => {\n    const onError = (error) => {\n        reject(error);\n    };\n    // Node.js 12 has incomplete types\n    if (!file.pending) {\n        resolve();\n    }\n    file.once('error', onError);\n    file.once('ready', () => {\n        file.off('error', onError);\n        resolve();\n    });\n});\nconst redirectCodes = new Set([300, 301, 302, 303, 304, 307, 308]);\nconst nonEnumerableProperties = [\n    'context',\n    'body',\n    'json',\n    'form'\n];\nexports.setNonEnumerableProperties = (sources, to) => {\n    // Non enumerable properties shall not be merged\n    const properties = {};\n    for (const source of sources) {\n        if (!source) {\n            continue;\n        }\n        for (const name of nonEnumerableProperties) {\n            if (!(name in source)) {\n                continue;\n            }\n            properties[name] = {\n                writable: true,\n                configurable: true,\n                enumerable: false,\n                // @ts-expect-error TS doesn't see the check above\n                value: source[name]\n            };\n        }\n    }\n    Object.defineProperties(to, properties);\n};\n/**\nAn error to be thrown when a request fails.\nContains a `code` property with error class code, like `ECONNREFUSED`.\n*/\nclass RequestError extends Error {\n    constructor(message, error, self) {\n        var _a, _b;\n        super(message);\n        Error.captureStackTrace(this, this.constructor);\n        this.name = 'RequestError';\n        this.code = (_a = error.code) !== null && _a !== void 0 ? _a : 'ERR_GOT_REQUEST_ERROR';\n        if (self instanceof Request) {\n            Object.defineProperty(this, 'request', {\n                enumerable: false,\n                value: self\n            });\n            Object.defineProperty(this, 'response', {\n                enumerable: false,\n                value: self[kResponse]\n            });\n            Object.defineProperty(this, 'options', {\n                // This fails because of TS 3.7.2 useDefineForClassFields\n                // Ref: https://github.com/microsoft/TypeScript/issues/34972\n                enumerable: false,\n                value: self.options\n            });\n        }\n        else {\n            Object.defineProperty(this, 'options', {\n                // This fails because of TS 3.7.2 useDefineForClassFields\n                // Ref: https://github.com/microsoft/TypeScript/issues/34972\n                enumerable: false,\n                value: self\n            });\n        }\n        this.timings = (_b = this.request) === null || _b === void 0 ? void 0 : _b.timings;\n        // Recover the original stacktrace\n        if (is_1.default.string(error.stack) && is_1.default.string(this.stack)) {\n            const indexOfMessage = this.stack.indexOf(this.message) + this.message.length;\n            const thisStackTrace = this.stack.slice(indexOfMessage).split('\\n').reverse();\n            const errorStackTrace = error.stack.slice(error.stack.indexOf(error.message) + error.message.length).split('\\n').reverse();\n            // Remove duplicated traces\n            while (errorStackTrace.length !== 0 && errorStackTrace[0] === thisStackTrace[0]) {\n                thisStackTrace.shift();\n            }\n            this.stack = `${this.stack.slice(0, indexOfMessage)}${thisStackTrace.reverse().join('\\n')}${errorStackTrace.reverse().join('\\n')}`;\n        }\n    }\n}\nexports.RequestError = RequestError;\n/**\nAn error to be thrown when the server redirects you more than ten times.\nIncludes a `response` property.\n*/\nclass MaxRedirectsError extends RequestError {\n    constructor(request) {\n        super(`Redirected ${request.options.maxRedirects} times. Aborting.`, {}, request);\n        this.name = 'MaxRedirectsError';\n        this.code = 'ERR_TOO_MANY_REDIRECTS';\n    }\n}\nexports.MaxRedirectsError = MaxRedirectsError;\n/**\nAn error to be thrown when the server response code is not 2xx nor 3xx if `options.followRedirect` is `true`, but always except for 304.\nIncludes a `response` property.\n*/\nclass HTTPError extends RequestError {\n    constructor(response) {\n        super(`Response code ${response.statusCode} (${response.statusMessage})`, {}, response.request);\n        this.name = 'HTTPError';\n        this.code = 'ERR_NON_2XX_3XX_RESPONSE';\n    }\n}\nexports.HTTPError = HTTPError;\n/**\nAn error to be thrown when a cache method fails.\nFor example, if the database goes down or there's a filesystem error.\n*/\nclass CacheError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'CacheError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_CACHE_ACCESS' : this.code;\n    }\n}\nexports.CacheError = CacheError;\n/**\nAn error to be thrown when the request body is a stream and an error occurs while reading from that stream.\n*/\nclass UploadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'UploadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_UPLOAD' : this.code;\n    }\n}\nexports.UploadError = UploadError;\n/**\nAn error to be thrown when the request is aborted due to a timeout.\nIncludes an `event` and `timings` property.\n*/\nclass TimeoutError extends RequestError {\n    constructor(error, timings, request) {\n        super(error.message, error, request);\n        this.name = 'TimeoutError';\n        this.event = error.event;\n        this.timings = timings;\n    }\n}\nexports.TimeoutError = TimeoutError;\n/**\nAn error to be thrown when reading from response stream fails.\n*/\nclass ReadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'ReadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_READING_RESPONSE_STREAM' : this.code;\n    }\n}\nexports.ReadError = ReadError;\n/**\nAn error to be thrown when given an unsupported protocol.\n*/\nclass UnsupportedProtocolError extends RequestError {\n    constructor(options) {\n        super(`Unsupported protocol \"${options.url.protocol}\"`, {}, options);\n        this.name = 'UnsupportedProtocolError';\n        this.code = 'ERR_UNSUPPORTED_PROTOCOL';\n    }\n}\nexports.UnsupportedProtocolError = UnsupportedProtocolError;\nconst proxiedRequestEvents = [\n    'socket',\n    'connect',\n    'continue',\n    'information',\n    'upgrade',\n    'timeout'\n];\nclass Request extends stream_1.Duplex {\n    constructor(url, options = {}, defaults) {\n        super({\n            // This must be false, to enable throwing after destroy\n            // It is used for retry logic in Promise API\n            autoDestroy: false,\n            // It needs to be zero because we're just proxying the data to another stream\n            highWaterMark: 0\n        });\n        this[kDownloadedSize] = 0;\n        this[kUploadedSize] = 0;\n        this.requestInitialized = false;\n        this[kServerResponsesPiped] = new Set();\n        this.redirects = [];\n        this[kStopReading] = false;\n        this[kTriggerRead] = false;\n        this[kJobs] = [];\n        this.retryCount = 0;\n        // TODO: Remove this when targeting Node.js >= 12\n        this._progressCallbacks = [];\n        const unlockWrite = () => this._unlockWrite();\n        const lockWrite = () => this._lockWrite();\n        this.on('pipe', (source) => {\n            source.prependListener('data', unlockWrite);\n            source.on('data', lockWrite);\n            source.prependListener('end', unlockWrite);\n            source.on('end', lockWrite);\n        });\n        this.on('unpipe', (source) => {\n            source.off('data', unlockWrite);\n            source.off('data', lockWrite);\n            source.off('end', unlockWrite);\n            source.off('end', lockWrite);\n        });\n        this.on('pipe', source => {\n            if (source instanceof http_1.IncomingMessage) {\n                this.options.headers = {\n                    ...source.headers,\n                    ...this.options.headers\n                };\n            }\n        });\n        const { json, body, form } = options;\n        if (json || body || form) {\n            this._lockWrite();\n        }\n        if (exports.kIsNormalizedAlready in options) {\n            this.options = options;\n        }\n        else {\n            try {\n                // @ts-expect-error Common TypeScript bug saying that `this.constructor` is not accessible\n                this.options = this.constructor.normalizeArguments(url, options, defaults);\n            }\n            catch (error) {\n                // TODO: Move this to `_destroy()`\n                if (is_1.default.nodeStream(options.body)) {\n                    options.body.destroy();\n                }\n                this.destroy(error);\n                return;\n            }\n        }\n        (async () => {\n            var _a;\n            try {\n                if (this.options.body instanceof fs_1.ReadStream) {\n                    await waitForOpenFile(this.options.body);\n                }\n                const { url: normalizedURL } = this.options;\n                if (!normalizedURL) {\n                    throw new TypeError('Missing `url` property');\n                }\n                this.requestUrl = normalizedURL.toString();\n                decodeURI(this.requestUrl);\n                await this._finalizeBody();\n                await this._makeRequest();\n                if (this.destroyed) {\n                    (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.destroy();\n                    return;\n                }\n                // Queued writes etc.\n                for (const job of this[kJobs]) {\n                    job();\n                }\n                // Prevent memory leak\n                this[kJobs].length = 0;\n                this.requestInitialized = true;\n            }\n            catch (error) {\n                if (error instanceof RequestError) {\n                    this._beforeError(error);\n                    return;\n                }\n                // This is a workaround for https://github.com/nodejs/node/issues/33335\n                if (!this.destroyed) {\n                    this.destroy(error);\n                }\n            }\n        })();\n    }\n    static normalizeArguments(url, options, defaults) {\n        var _a, _b, _c, _d, _e;\n        const rawOptions = options;\n        if (is_1.default.object(url) && !is_1.default.urlInstance(url)) {\n            options = { ...defaults, ...url, ...options };\n        }\n        else {\n            if (url && options && options.url !== undefined) {\n                throw new TypeError('The `url` option is mutually exclusive with the `input` argument');\n            }\n            options = { ...defaults, ...options };\n            if (url !== undefined) {\n                options.url = url;\n            }\n            if (is_1.default.urlInstance(options.url)) {\n                options.url = new url_1.URL(options.url.toString());\n            }\n        }\n        // TODO: Deprecate URL options in Got 12.\n        // Support extend-specific options\n        if (options.cache === false) {\n            options.cache = undefined;\n        }\n        if (options.dnsCache === false) {\n            options.dnsCache = undefined;\n        }\n        // Nice type assertions\n        is_1.assert.any([is_1.default.string, is_1.default.undefined], options.method);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.headers);\n        is_1.assert.any([is_1.default.string, is_1.default.urlInstance, is_1.default.undefined], options.prefixUrl);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.cookieJar);\n        is_1.assert.any([is_1.default.object, is_1.default.string, is_1.default.undefined], options.searchParams);\n        is_1.assert.any([is_1.default.object, is_1.default.string, is_1.default.undefined], options.cache);\n        is_1.assert.any([is_1.default.object, is_1.default.number, is_1.default.undefined], options.timeout);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.context);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.hooks);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.decompress);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.ignoreInvalidCookies);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.followRedirect);\n        is_1.assert.any([is_1.default.number, is_1.default.undefined], options.maxRedirects);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.throwHttpErrors);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.http2);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.allowGetBody);\n        is_1.assert.any([is_1.default.string, is_1.default.undefined], options.localAddress);\n        is_1.assert.any([dns_ip_version_1.isDnsLookupIpVersion, is_1.default.undefined], options.dnsLookupIpVersion);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.https);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.rejectUnauthorized);\n        if (options.https) {\n            is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.https.rejectUnauthorized);\n            is_1.assert.any([is_1.default.function_, is_1.default.undefined], options.https.checkServerIdentity);\n            is_1.assert.any([is_1.default.string, is_1.default.object, is_1.default.array, is_1.default.undefined], options.https.certificateAuthority);\n            is_1.assert.any([is_1.default.string, is_1.default.object, is_1.default.array, is_1.default.undefined], options.https.key);\n            is_1.assert.any([is_1.default.string, is_1.default.object, is_1.default.array, is_1.default.undefined], options.https.certificate);\n            is_1.assert.any([is_1.default.string, is_1.default.undefined], options.https.passphrase);\n            is_1.assert.any([is_1.default.string, is_1.default.buffer, is_1.default.array, is_1.default.undefined], options.https.pfx);\n        }\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.cacheOptions);\n        // `options.method`\n        if (is_1.default.string(options.method)) {\n            options.method = options.method.toUpperCase();\n        }\n        else {\n            options.method = 'GET';\n        }\n        // `options.headers`\n        if (options.headers === (defaults === null || defaults === void 0 ? void 0 : defaults.headers)) {\n            options.headers = { ...options.headers };\n        }\n        else {\n            options.headers = lowercaseKeys({ ...(defaults === null || defaults === void 0 ? void 0 : defaults.headers), ...options.headers });\n        }\n        // Disallow legacy `url.Url`\n        if ('slashes' in options) {\n            throw new TypeError('The legacy `url.Url` has been deprecated. Use `URL` instead.');\n        }\n        // `options.auth`\n        if ('auth' in options) {\n            throw new TypeError('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n        }\n        // `options.searchParams`\n        if ('searchParams' in options) {\n            if (options.searchParams && options.searchParams !== (defaults === null || defaults === void 0 ? void 0 : defaults.searchParams)) {\n                let searchParameters;\n                if (is_1.default.string(options.searchParams) || (options.searchParams instanceof url_1.URLSearchParams)) {\n                    searchParameters = new url_1.URLSearchParams(options.searchParams);\n                }\n                else {\n                    validateSearchParameters(options.searchParams);\n                    searchParameters = new url_1.URLSearchParams();\n                    // eslint-disable-next-line guard-for-in\n                    for (const key in options.searchParams) {\n                        const value = options.searchParams[key];\n                        if (value === null) {\n                            searchParameters.append(key, '');\n                        }\n                        else if (value !== undefined) {\n                            searchParameters.append(key, value);\n                        }\n                    }\n                }\n                // `normalizeArguments()` is also used to merge options\n                (_a = defaults === null || defaults === void 0 ? void 0 : defaults.searchParams) === null || _a === void 0 ? void 0 : _a.forEach((value, key) => {\n                    // Only use default if one isn't already defined\n                    if (!searchParameters.has(key)) {\n                        searchParameters.append(key, value);\n                    }\n                });\n                options.searchParams = searchParameters;\n            }\n        }\n        // `options.username` & `options.password`\n        options.username = (_b = options.username) !== null && _b !== void 0 ? _b : '';\n        options.password = (_c = options.password) !== null && _c !== void 0 ? _c : '';\n        // `options.prefixUrl` & `options.url`\n        if (is_1.default.undefined(options.prefixUrl)) {\n            options.prefixUrl = (_d = defaults === null || defaults === void 0 ? void 0 : defaults.prefixUrl) !== null && _d !== void 0 ? _d : '';\n        }\n        else {\n            options.prefixUrl = options.prefixUrl.toString();\n            if (options.prefixUrl !== '' && !options.prefixUrl.endsWith('/')) {\n                options.prefixUrl += '/';\n            }\n        }\n        if (is_1.default.string(options.url)) {\n            if (options.url.startsWith('/')) {\n                throw new Error('`input` must not start with a slash when using `prefixUrl`');\n            }\n            options.url = options_to_url_1.default(options.prefixUrl + options.url, options);\n        }\n        else if ((is_1.default.undefined(options.url) && options.prefixUrl !== '') || options.protocol) {\n            options.url = options_to_url_1.default(options.prefixUrl, options);\n        }\n        if (options.url) {\n            if ('port' in options) {\n                delete options.port;\n            }\n            // Make it possible to change `options.prefixUrl`\n            let { prefixUrl } = options;\n            Object.defineProperty(options, 'prefixUrl', {\n                set: (value) => {\n                    const url = options.url;\n                    if (!url.href.startsWith(value)) {\n                        throw new Error(`Cannot change \\`prefixUrl\\` from ${prefixUrl} to ${value}: ${url.href}`);\n                    }\n                    options.url = new url_1.URL(value + url.href.slice(prefixUrl.length));\n                    prefixUrl = value;\n                },\n                get: () => prefixUrl\n            });\n            // Support UNIX sockets\n            let { protocol } = options.url;\n            if (protocol === 'unix:') {\n                protocol = 'http:';\n                options.url = new url_1.URL(`http://unix${options.url.pathname}${options.url.search}`);\n            }\n            // Set search params\n            if (options.searchParams) {\n                // eslint-disable-next-line @typescript-eslint/no-base-to-string\n                options.url.search = options.searchParams.toString();\n            }\n            // Protocol check\n            if (protocol !== 'http:' && protocol !== 'https:') {\n                throw new UnsupportedProtocolError(options);\n            }\n            // Update `username`\n            if (options.username === '') {\n                options.username = options.url.username;\n            }\n            else {\n                options.url.username = options.username;\n            }\n            // Update `password`\n            if (options.password === '') {\n                options.password = options.url.password;\n            }\n            else {\n                options.url.password = options.password;\n            }\n        }\n        // `options.cookieJar`\n        const { cookieJar } = options;\n        if (cookieJar) {\n            let { setCookie, getCookieString } = cookieJar;\n            is_1.assert.function_(setCookie);\n            is_1.assert.function_(getCookieString);\n            /* istanbul ignore next: Horrible `tough-cookie` v3 check */\n            if (setCookie.length === 4 && getCookieString.length === 0) {\n                setCookie = util_1.promisify(setCookie.bind(options.cookieJar));\n                getCookieString = util_1.promisify(getCookieString.bind(options.cookieJar));\n                options.cookieJar = {\n                    setCookie,\n                    getCookieString: getCookieString\n                };\n            }\n        }\n        // `options.cache`\n        const { cache } = options;\n        if (cache) {\n            if (!cacheableStore.has(cache)) {\n                cacheableStore.set(cache, new CacheableRequest(((requestOptions, handler) => {\n                    const result = requestOptions[kRequest](requestOptions, handler);\n                    // TODO: remove this when `cacheable-request` supports async request functions.\n                    if (is_1.default.promise(result)) {\n                        // @ts-expect-error\n                        // We only need to implement the error handler in order to support HTTP2 caching.\n                        // The result will be a promise anyway.\n                        result.once = (event, handler) => {\n                            if (event === 'error') {\n                                result.catch(handler);\n                            }\n                            else if (event === 'abort') {\n                                // The empty catch is needed here in case when\n                                // it rejects before it's `await`ed in `_makeRequest`.\n                                (async () => {\n                                    try {\n                                        const request = (await result);\n                                        request.once('abort', handler);\n                                    }\n                                    catch (_a) { }\n                                })();\n                            }\n                            else {\n                                /* istanbul ignore next: safety check */\n                                throw new Error(`Unknown HTTP2 promise event: ${event}`);\n                            }\n                            return result;\n                        };\n                    }\n                    return result;\n                }), cache));\n            }\n        }\n        // `options.cacheOptions`\n        options.cacheOptions = { ...options.cacheOptions };\n        // `options.dnsCache`\n        if (options.dnsCache === true) {\n            if (!globalDnsCache) {\n                globalDnsCache = new cacheable_lookup_1.default();\n            }\n            options.dnsCache = globalDnsCache;\n        }\n        else if (!is_1.default.undefined(options.dnsCache) && !options.dnsCache.lookup) {\n            throw new TypeError(`Parameter \\`dnsCache\\` must be a CacheableLookup instance or a boolean, got ${is_1.default(options.dnsCache)}`);\n        }\n        // `options.timeout`\n        if (is_1.default.number(options.timeout)) {\n            options.timeout = { request: options.timeout };\n        }\n        else if (defaults && options.timeout !== defaults.timeout) {\n            options.timeout = {\n                ...defaults.timeout,\n                ...options.timeout\n            };\n        }\n        else {\n            options.timeout = { ...options.timeout };\n        }\n        // `options.context`\n        if (!options.context) {\n            options.context = {};\n        }\n        // `options.hooks`\n        const areHooksDefault = options.hooks === (defaults === null || defaults === void 0 ? void 0 : defaults.hooks);\n        options.hooks = { ...options.hooks };\n        for (const event of exports.knownHookEvents) {\n            if (event in options.hooks) {\n                if (is_1.default.array(options.hooks[event])) {\n                    // See https://github.com/microsoft/TypeScript/issues/31445#issuecomment-576929044\n                    options.hooks[event] = [...options.hooks[event]];\n                }\n                else {\n                    throw new TypeError(`Parameter \\`${event}\\` must be an Array, got ${is_1.default(options.hooks[event])}`);\n                }\n            }\n            else {\n                options.hooks[event] = [];\n            }\n        }\n        if (defaults && !areHooksDefault) {\n            for (const event of exports.knownHookEvents) {\n                const defaultHooks = defaults.hooks[event];\n                if (defaultHooks.length > 0) {\n                    // See https://github.com/microsoft/TypeScript/issues/31445#issuecomment-576929044\n                    options.hooks[event] = [\n                        ...defaults.hooks[event],\n                        ...options.hooks[event]\n                    ];\n                }\n            }\n        }\n        // DNS options\n        if ('family' in options) {\n            deprecation_warning_1.default('\"options.family\" was never documented, please use \"options.dnsLookupIpVersion\"');\n        }\n        // HTTPS options\n        if (defaults === null || defaults === void 0 ? void 0 : defaults.https) {\n            options.https = { ...defaults.https, ...options.https };\n        }\n        if ('rejectUnauthorized' in options) {\n            deprecation_warning_1.default('\"options.rejectUnauthorized\" is now deprecated, please use \"options.https.rejectUnauthorized\"');\n        }\n        if ('checkServerIdentity' in options) {\n            deprecation_warning_1.default('\"options.checkServerIdentity\" was never documented, please use \"options.https.checkServerIdentity\"');\n        }\n        if ('ca' in options) {\n            deprecation_warning_1.default('\"options.ca\" was never documented, please use \"options.https.certificateAuthority\"');\n        }\n        if ('key' in options) {\n            deprecation_warning_1.default('\"options.key\" was never documented, please use \"options.https.key\"');\n        }\n        if ('cert' in options) {\n            deprecation_warning_1.default('\"options.cert\" was never documented, please use \"options.https.certificate\"');\n        }\n        if ('passphrase' in options) {\n            deprecation_warning_1.default('\"options.passphrase\" was never documented, please use \"options.https.passphrase\"');\n        }\n        if ('pfx' in options) {\n            deprecation_warning_1.default('\"options.pfx\" was never documented, please use \"options.https.pfx\"');\n        }\n        // Other options\n        if ('followRedirects' in options) {\n            throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n        }\n        if (options.agent) {\n            for (const key in options.agent) {\n                if (key !== 'http' && key !== 'https' && key !== 'http2') {\n                    throw new TypeError(`Expected the \\`options.agent\\` properties to be \\`http\\`, \\`https\\` or \\`http2\\`, got \\`${key}\\``);\n                }\n            }\n        }\n        options.maxRedirects = (_e = options.maxRedirects) !== null && _e !== void 0 ? _e : 0;\n        // Set non-enumerable properties\n        exports.setNonEnumerableProperties([defaults, rawOptions], options);\n        return normalize_arguments_1.default(options, defaults);\n    }\n    _lockWrite() {\n        const onLockedWrite = () => {\n            throw new TypeError('The payload has been already provided');\n        };\n        this.write = onLockedWrite;\n        this.end = onLockedWrite;\n    }\n    _unlockWrite() {\n        this.write = super.write;\n        this.end = super.end;\n    }\n    async _finalizeBody() {\n        const { options } = this;\n        const { headers } = options;\n        const isForm = !is_1.default.undefined(options.form);\n        const isJSON = !is_1.default.undefined(options.json);\n        const isBody = !is_1.default.undefined(options.body);\n        const hasPayload = isForm || isJSON || isBody;\n        const cannotHaveBody = exports.withoutBody.has(options.method) && !(options.method === 'GET' && options.allowGetBody);\n        this._cannotHaveBody = cannotHaveBody;\n        if (hasPayload) {\n            if (cannotHaveBody) {\n                throw new TypeError(`The \\`${options.method}\\` method cannot be used with a body`);\n            }\n            if ([isBody, isForm, isJSON].filter(isTrue => isTrue).length > 1) {\n                throw new TypeError('The `body`, `json` and `form` options are mutually exclusive');\n            }\n            if (isBody &&\n                !(options.body instanceof stream_1.Readable) &&\n                !is_1.default.string(options.body) &&\n                !is_1.default.buffer(options.body) &&\n                !is_form_data_1.default(options.body)) {\n                throw new TypeError('The `body` option must be a stream.Readable, string or Buffer');\n            }\n            if (isForm && !is_1.default.object(options.form)) {\n                throw new TypeError('The `form` option must be an Object');\n            }\n            {\n                // Serialize body\n                const noContentType = !is_1.default.string(headers['content-type']);\n                if (isBody) {\n                    // Special case for https://github.com/form-data/form-data\n                    if (is_form_data_1.default(options.body) && noContentType) {\n                        headers['content-type'] = `multipart/form-data; boundary=${options.body.getBoundary()}`;\n                    }\n                    this[kBody] = options.body;\n                }\n                else if (isForm) {\n                    if (noContentType) {\n                        headers['content-type'] = 'application/x-www-form-urlencoded';\n                    }\n                    this[kBody] = (new url_1.URLSearchParams(options.form)).toString();\n                }\n                else {\n                    if (noContentType) {\n                        headers['content-type'] = 'application/json';\n                    }\n                    this[kBody] = options.stringifyJson(options.json);\n                }\n                const uploadBodySize = await get_body_size_1.default(this[kBody], options.headers);\n                // See https://tools.ietf.org/html/rfc7230#section-3.3.2\n                // A user agent SHOULD send a Content-Length in a request message when\n                // no Transfer-Encoding is sent and the request method defines a meaning\n                // for an enclosed payload body.  For example, a Content-Length header\n                // field is normally sent in a POST request even when the value is 0\n                // (indicating an empty payload body).  A user agent SHOULD NOT send a\n                // Content-Length header field when the request message does not contain\n                // a payload body and the method semantics do not anticipate such a\n                // body.\n                if (is_1.default.undefined(headers['content-length']) && is_1.default.undefined(headers['transfer-encoding'])) {\n                    if (!cannotHaveBody && !is_1.default.undefined(uploadBodySize)) {\n                        headers['content-length'] = String(uploadBodySize);\n                    }\n                }\n            }\n        }\n        else if (cannotHaveBody) {\n            this._lockWrite();\n        }\n        else {\n            this._unlockWrite();\n        }\n        this[kBodySize] = Number(headers['content-length']) || undefined;\n    }\n    async _onResponseBase(response) {\n        const { options } = this;\n        const { url } = options;\n        this[kOriginalResponse] = response;\n        if (options.decompress) {\n            response = decompressResponse(response);\n        }\n        const statusCode = response.statusCode;\n        const typedResponse = response;\n        typedResponse.statusMessage = typedResponse.statusMessage ? typedResponse.statusMessage : http.STATUS_CODES[statusCode];\n        typedResponse.url = options.url.toString();\n        typedResponse.requestUrl = this.requestUrl;\n        typedResponse.redirectUrls = this.redirects;\n        typedResponse.request = this;\n        typedResponse.isFromCache = response.fromCache || false;\n        typedResponse.ip = this.ip;\n        typedResponse.retryCount = this.retryCount;\n        this[kIsFromCache] = typedResponse.isFromCache;\n        this[kResponseSize] = Number(response.headers['content-length']) || undefined;\n        this[kResponse] = response;\n        response.once('end', () => {\n            this[kResponseSize] = this[kDownloadedSize];\n            this.emit('downloadProgress', this.downloadProgress);\n        });\n        response.once('error', (error) => {\n            // Force clean-up, because some packages don't do this.\n            // TODO: Fix decompress-response\n            response.destroy();\n            this._beforeError(new ReadError(error, this));\n        });\n        response.once('aborted', () => {\n            this._beforeError(new ReadError({\n                name: 'Error',\n                message: 'The server aborted pending request',\n                code: 'ECONNRESET'\n            }, this));\n        });\n        this.emit('downloadProgress', this.downloadProgress);\n        const rawCookies = response.headers['set-cookie'];\n        if (is_1.default.object(options.cookieJar) && rawCookies) {\n            let promises = rawCookies.map(async (rawCookie) => options.cookieJar.setCookie(rawCookie, url.toString()));\n            if (options.ignoreInvalidCookies) {\n                promises = promises.map(async (p) => p.catch(() => { }));\n            }\n            try {\n                await Promise.all(promises);\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n        }\n        if (options.followRedirect && response.headers.location && redirectCodes.has(statusCode)) {\n            // We're being redirected, we don't care about the response.\n            // It'd be best to abort the request, but we can't because\n            // we would have to sacrifice the TCP connection. We don't want that.\n            response.resume();\n            if (this[kRequest]) {\n                this[kCancelTimeouts]();\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete this[kRequest];\n                this[kUnproxyEvents]();\n            }\n            const shouldBeGet = statusCode === 303 && options.method !== 'GET' && options.method !== 'HEAD';\n            if (shouldBeGet || !options.methodRewriting) {\n                // Server responded with \"see other\", indicating that the resource exists at another location,\n                // and the client should request it from that location via GET or HEAD.\n                options.method = 'GET';\n                if ('body' in options) {\n                    delete options.body;\n                }\n                if ('json' in options) {\n                    delete options.json;\n                }\n                if ('form' in options) {\n                    delete options.form;\n                }\n                this[kBody] = undefined;\n                delete options.headers['content-length'];\n            }\n            if (this.redirects.length >= options.maxRedirects) {\n                this._beforeError(new MaxRedirectsError(this));\n                return;\n            }\n            try {\n                // Do not remove. See https://github.com/sindresorhus/got/pull/214\n                const redirectBuffer = Buffer.from(response.headers.location, 'binary').toString();\n                // Handles invalid URLs. See https://github.com/sindresorhus/got/issues/604\n                const redirectUrl = new url_1.URL(redirectBuffer, url);\n                const redirectString = redirectUrl.toString();\n                decodeURI(redirectString);\n                // eslint-disable-next-line no-inner-declarations\n                function isUnixSocketURL(url) {\n                    return url.protocol === 'unix:' || url.hostname === 'unix';\n                }\n                if (!isUnixSocketURL(url) && isUnixSocketURL(redirectUrl)) {\n                    this._beforeError(new RequestError('Cannot redirect to UNIX socket', {}, this));\n                    return;\n                }\n                // Redirecting to a different site, clear sensitive data.\n                if (redirectUrl.hostname !== url.hostname || redirectUrl.port !== url.port) {\n                    if ('host' in options.headers) {\n                        delete options.headers.host;\n                    }\n                    if ('cookie' in options.headers) {\n                        delete options.headers.cookie;\n                    }\n                    if ('authorization' in options.headers) {\n                        delete options.headers.authorization;\n                    }\n                    if (options.username || options.password) {\n                        options.username = '';\n                        options.password = '';\n                    }\n                }\n                else {\n                    redirectUrl.username = options.username;\n                    redirectUrl.password = options.password;\n                }\n                this.redirects.push(redirectString);\n                options.url = redirectUrl;\n                for (const hook of options.hooks.beforeRedirect) {\n                    // eslint-disable-next-line no-await-in-loop\n                    await hook(options, typedResponse);\n                }\n                this.emit('redirect', typedResponse, options);\n                await this._makeRequest();\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n            return;\n        }\n        if (options.isStream && options.throwHttpErrors && !is_response_ok_1.isResponseOk(typedResponse)) {\n            this._beforeError(new HTTPError(typedResponse));\n            return;\n        }\n        response.on('readable', () => {\n            if (this[kTriggerRead]) {\n                this._read();\n            }\n        });\n        this.on('resume', () => {\n            response.resume();\n        });\n        this.on('pause', () => {\n            response.pause();\n        });\n        response.once('end', () => {\n            this.push(null);\n        });\n        this.emit('response', response);\n        for (const destination of this[kServerResponsesPiped]) {\n            if (destination.headersSent) {\n                continue;\n            }\n            // eslint-disable-next-line guard-for-in\n            for (const key in response.headers) {\n                const isAllowed = options.decompress ? key !== 'content-encoding' : true;\n                const value = response.headers[key];\n                if (isAllowed) {\n                    destination.setHeader(key, value);\n                }\n            }\n            destination.statusCode = statusCode;\n        }\n    }\n    async _onResponse(response) {\n        try {\n            await this._onResponseBase(response);\n        }\n        catch (error) {\n            /* istanbul ignore next: better safe than sorry */\n            this._beforeError(error);\n        }\n    }\n    _onRequest(request) {\n        const { options } = this;\n        const { timeout, url } = options;\n        http_timer_1.default(request);\n        this[kCancelTimeouts] = timed_out_1.default(request, timeout, url);\n        const responseEventName = options.cache ? 'cacheableResponse' : 'response';\n        request.once(responseEventName, (response) => {\n            void this._onResponse(response);\n        });\n        request.once('error', (error) => {\n            var _a;\n            // Force clean-up, because some packages (e.g. nock) don't do this.\n            request.destroy();\n            // Node.js <= 12.18.2 mistakenly emits the response `end` first.\n            (_a = request.res) === null || _a === void 0 ? void 0 : _a.removeAllListeners('end');\n            error = error instanceof timed_out_1.TimeoutError ? new TimeoutError(error, this.timings, this) : new RequestError(error.message, error, this);\n            this._beforeError(error);\n        });\n        this[kUnproxyEvents] = proxy_events_1.default(request, this, proxiedRequestEvents);\n        this[kRequest] = request;\n        this.emit('uploadProgress', this.uploadProgress);\n        // Send body\n        const body = this[kBody];\n        const currentRequest = this.redirects.length === 0 ? this : request;\n        if (is_1.default.nodeStream(body)) {\n            body.pipe(currentRequest);\n            body.once('error', (error) => {\n                this._beforeError(new UploadError(error, this));\n            });\n        }\n        else {\n            this._unlockWrite();\n            if (!is_1.default.undefined(body)) {\n                this._writeRequest(body, undefined, () => { });\n                currentRequest.end();\n                this._lockWrite();\n            }\n            else if (this._cannotHaveBody || this._noPipe) {\n                currentRequest.end();\n                this._lockWrite();\n            }\n        }\n        this.emit('request', request);\n    }\n    async _createCacheableRequest(url, options) {\n        return new Promise((resolve, reject) => {\n            // TODO: Remove `utils/url-to-options.ts` when `cacheable-request` is fixed\n            Object.assign(options, url_to_options_1.default(url));\n            // `http-cache-semantics` checks this\n            // TODO: Fix this ignore.\n            // @ts-expect-error\n            delete options.url;\n            let request;\n            // This is ugly\n            const cacheRequest = cacheableStore.get(options.cache)(options, async (response) => {\n                // TODO: Fix `cacheable-response`\n                response._readableState.autoDestroy = false;\n                if (request) {\n                    (await request).emit('cacheableResponse', response);\n                }\n                resolve(response);\n            });\n            // Restore options\n            options.url = url;\n            cacheRequest.once('error', reject);\n            cacheRequest.once('request', async (requestOrPromise) => {\n                request = requestOrPromise;\n                resolve(request);\n            });\n        });\n    }\n    async _makeRequest() {\n        var _a, _b, _c, _d, _e;\n        const { options } = this;\n        const { headers } = options;\n        for (const key in headers) {\n            if (is_1.default.undefined(headers[key])) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete headers[key];\n            }\n            else if (is_1.default.null_(headers[key])) {\n                throw new TypeError(`Use \\`undefined\\` instead of \\`null\\` to delete the \\`${key}\\` header`);\n            }\n        }\n        if (options.decompress && is_1.default.undefined(headers['accept-encoding'])) {\n            headers['accept-encoding'] = supportsBrotli ? 'gzip, deflate, br' : 'gzip, deflate';\n        }\n        // Set cookies\n        if (options.cookieJar) {\n            const cookieString = await options.cookieJar.getCookieString(options.url.toString());\n            if (is_1.default.nonEmptyString(cookieString)) {\n                options.headers.cookie = cookieString;\n            }\n        }\n        for (const hook of options.hooks.beforeRequest) {\n            // eslint-disable-next-line no-await-in-loop\n            const result = await hook(options);\n            if (!is_1.default.undefined(result)) {\n                // @ts-expect-error Skip the type mismatch to support abstract responses\n                options.request = () => result;\n                break;\n            }\n        }\n        if (options.body && this[kBody] !== options.body) {\n            this[kBody] = options.body;\n        }\n        const { agent, request, timeout, url } = options;\n        if (options.dnsCache && !('lookup' in options)) {\n            options.lookup = options.dnsCache.lookup;\n        }\n        // UNIX sockets\n        if (url.hostname === 'unix') {\n            const matches = /(?<socketPath>.+?):(?<path>.+)/.exec(`${url.pathname}${url.search}`);\n            if (matches === null || matches === void 0 ? void 0 : matches.groups) {\n                const { socketPath, path } = matches.groups;\n                Object.assign(options, {\n                    socketPath,\n                    path,\n                    host: ''\n                });\n            }\n        }\n        const isHttps = url.protocol === 'https:';\n        // Fallback function\n        let fallbackFn;\n        if (options.http2) {\n            fallbackFn = http2wrapper.auto;\n        }\n        else {\n            fallbackFn = isHttps ? https.request : http.request;\n        }\n        const realFn = (_a = options.request) !== null && _a !== void 0 ? _a : fallbackFn;\n        // Cache support\n        const fn = options.cache ? this._createCacheableRequest : realFn;\n        // Pass an agent directly when HTTP2 is disabled\n        if (agent && !options.http2) {\n            options.agent = agent[isHttps ? 'https' : 'http'];\n        }\n        // Prepare plain HTTP request options\n        options[kRequest] = realFn;\n        delete options.request;\n        // TODO: Fix this ignore.\n        // @ts-expect-error\n        delete options.timeout;\n        const requestOptions = options;\n        requestOptions.shared = (_b = options.cacheOptions) === null || _b === void 0 ? void 0 : _b.shared;\n        requestOptions.cacheHeuristic = (_c = options.cacheOptions) === null || _c === void 0 ? void 0 : _c.cacheHeuristic;\n        requestOptions.immutableMinTimeToLive = (_d = options.cacheOptions) === null || _d === void 0 ? void 0 : _d.immutableMinTimeToLive;\n        requestOptions.ignoreCargoCult = (_e = options.cacheOptions) === null || _e === void 0 ? void 0 : _e.ignoreCargoCult;\n        // If `dnsLookupIpVersion` is not present do not override `family`\n        if (options.dnsLookupIpVersion !== undefined) {\n            try {\n                requestOptions.family = dns_ip_version_1.dnsLookupIpVersionToFamily(options.dnsLookupIpVersion);\n            }\n            catch (_f) {\n                throw new Error('Invalid `dnsLookupIpVersion` option value');\n            }\n        }\n        // HTTPS options remapping\n        if (options.https) {\n            if ('rejectUnauthorized' in options.https) {\n                requestOptions.rejectUnauthorized = options.https.rejectUnauthorized;\n            }\n            if (options.https.checkServerIdentity) {\n                requestOptions.checkServerIdentity = options.https.checkServerIdentity;\n            }\n            if (options.https.certificateAuthority) {\n                requestOptions.ca = options.https.certificateAuthority;\n            }\n            if (options.https.certificate) {\n                requestOptions.cert = options.https.certificate;\n            }\n            if (options.https.key) {\n                requestOptions.key = options.https.key;\n            }\n            if (options.https.passphrase) {\n                requestOptions.passphrase = options.https.passphrase;\n            }\n            if (options.https.pfx) {\n                requestOptions.pfx = options.https.pfx;\n            }\n        }\n        try {\n            let requestOrResponse = await fn(url, requestOptions);\n            if (is_1.default.undefined(requestOrResponse)) {\n                requestOrResponse = fallbackFn(url, requestOptions);\n            }\n            // Restore options\n            options.request = request;\n            options.timeout = timeout;\n            options.agent = agent;\n            // HTTPS options restore\n            if (options.https) {\n                if ('rejectUnauthorized' in options.https) {\n                    delete requestOptions.rejectUnauthorized;\n                }\n                if (options.https.checkServerIdentity) {\n                    // @ts-expect-error - This one will be removed when we remove the alias.\n                    delete requestOptions.checkServerIdentity;\n                }\n                if (options.https.certificateAuthority) {\n                    delete requestOptions.ca;\n                }\n                if (options.https.certificate) {\n                    delete requestOptions.cert;\n                }\n                if (options.https.key) {\n                    delete requestOptions.key;\n                }\n                if (options.https.passphrase) {\n                    delete requestOptions.passphrase;\n                }\n                if (options.https.pfx) {\n                    delete requestOptions.pfx;\n                }\n            }\n            if (isClientRequest(requestOrResponse)) {\n                this._onRequest(requestOrResponse);\n                // Emit the response after the stream has been ended\n            }\n            else if (this.writable) {\n                this.once('finish', () => {\n                    void this._onResponse(requestOrResponse);\n                });\n                this._unlockWrite();\n                this.end();\n                this._lockWrite();\n            }\n            else {\n                void this._onResponse(requestOrResponse);\n            }\n        }\n        catch (error) {\n            if (error instanceof CacheableRequest.CacheError) {\n                throw new CacheError(error, this);\n            }\n            throw new RequestError(error.message, error, this);\n        }\n    }\n    async _error(error) {\n        try {\n            for (const hook of this.options.hooks.beforeError) {\n                // eslint-disable-next-line no-await-in-loop\n                error = await hook(error);\n            }\n        }\n        catch (error_) {\n            error = new RequestError(error_.message, error_, this);\n        }\n        this.destroy(error);\n    }\n    _beforeError(error) {\n        if (this[kStopReading]) {\n            return;\n        }\n        const { options } = this;\n        const retryCount = this.retryCount + 1;\n        this[kStopReading] = true;\n        if (!(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        const typedError = error;\n        const { response } = typedError;\n        void (async () => {\n            if (response && !response.body) {\n                response.setEncoding(this._readableState.encoding);\n                try {\n                    response.rawBody = await get_buffer_1.default(response);\n                    response.body = response.rawBody.toString();\n                }\n                catch (_a) { }\n            }\n            if (this.listenerCount('retry') !== 0) {\n                let backoff;\n                try {\n                    let retryAfter;\n                    if (response && 'retry-after' in response.headers) {\n                        retryAfter = Number(response.headers['retry-after']);\n                        if (Number.isNaN(retryAfter)) {\n                            retryAfter = Date.parse(response.headers['retry-after']) - Date.now();\n                            if (retryAfter <= 0) {\n                                retryAfter = 1;\n                            }\n                        }\n                        else {\n                            retryAfter *= 1000;\n                        }\n                    }\n                    backoff = await options.retry.calculateDelay({\n                        attemptCount: retryCount,\n                        retryOptions: options.retry,\n                        error: typedError,\n                        retryAfter,\n                        computedValue: calculate_retry_delay_1.default({\n                            attemptCount: retryCount,\n                            retryOptions: options.retry,\n                            error: typedError,\n                            retryAfter,\n                            computedValue: 0\n                        })\n                    });\n                }\n                catch (error_) {\n                    void this._error(new RequestError(error_.message, error_, this));\n                    return;\n                }\n                if (backoff) {\n                    const retry = async () => {\n                        try {\n                            for (const hook of this.options.hooks.beforeRetry) {\n                                // eslint-disable-next-line no-await-in-loop\n                                await hook(this.options, typedError, retryCount);\n                            }\n                        }\n                        catch (error_) {\n                            void this._error(new RequestError(error_.message, error, this));\n                            return;\n                        }\n                        // Something forced us to abort the retry\n                        if (this.destroyed) {\n                            return;\n                        }\n                        this.destroy();\n                        this.emit('retry', retryCount, error);\n                    };\n                    this[kRetryTimeout] = setTimeout(retry, backoff);\n                    return;\n                }\n            }\n            void this._error(typedError);\n        })();\n    }\n    _read() {\n        this[kTriggerRead] = true;\n        const response = this[kResponse];\n        if (response && !this[kStopReading]) {\n            // We cannot put this in the `if` above\n            // because `.read()` also triggers the `end` event\n            if (response.readableLength) {\n                this[kTriggerRead] = false;\n            }\n            let data;\n            while ((data = response.read()) !== null) {\n                this[kDownloadedSize] += data.length;\n                this[kStartedReading] = true;\n                const progress = this.downloadProgress;\n                if (progress.percent < 1) {\n                    this.emit('downloadProgress', progress);\n                }\n                this.push(data);\n            }\n        }\n    }\n    // Node.js 12 has incorrect types, so the encoding must be a string\n    _write(chunk, encoding, callback) {\n        const write = () => {\n            this._writeRequest(chunk, encoding, callback);\n        };\n        if (this.requestInitialized) {\n            write();\n        }\n        else {\n            this[kJobs].push(write);\n        }\n    }\n    _writeRequest(chunk, encoding, callback) {\n        if (this[kRequest].destroyed) {\n            // Probably the `ClientRequest` instance will throw\n            return;\n        }\n        this._progressCallbacks.push(() => {\n            this[kUploadedSize] += Buffer.byteLength(chunk, encoding);\n            const progress = this.uploadProgress;\n            if (progress.percent < 1) {\n                this.emit('uploadProgress', progress);\n            }\n        });\n        // TODO: What happens if it's from cache? Then this[kRequest] won't be defined.\n        this[kRequest].write(chunk, encoding, (error) => {\n            if (!error && this._progressCallbacks.length > 0) {\n                this._progressCallbacks.shift()();\n            }\n            callback(error);\n        });\n    }\n    _final(callback) {\n        const endRequest = () => {\n            // FIX: Node.js 10 calls the write callback AFTER the end callback!\n            while (this._progressCallbacks.length !== 0) {\n                this._progressCallbacks.shift()();\n            }\n            // We need to check if `this[kRequest]` is present,\n            // because it isn't when we use cache.\n            if (!(kRequest in this)) {\n                callback();\n                return;\n            }\n            if (this[kRequest].destroyed) {\n                callback();\n                return;\n            }\n            this[kRequest].end((error) => {\n                if (!error) {\n                    this[kBodySize] = this[kUploadedSize];\n                    this.emit('uploadProgress', this.uploadProgress);\n                    this[kRequest].emit('upload-complete');\n                }\n                callback(error);\n            });\n        };\n        if (this.requestInitialized) {\n            endRequest();\n        }\n        else {\n            this[kJobs].push(endRequest);\n        }\n    }\n    _destroy(error, callback) {\n        var _a;\n        this[kStopReading] = true;\n        // Prevent further retries\n        clearTimeout(this[kRetryTimeout]);\n        if (kRequest in this) {\n            this[kCancelTimeouts]();\n            // TODO: Remove the next `if` when these get fixed:\n            // - https://github.com/nodejs/node/issues/32851\n            if (!((_a = this[kResponse]) === null || _a === void 0 ? void 0 : _a.complete)) {\n                this[kRequest].destroy();\n            }\n        }\n        if (error !== null && !is_1.default.undefined(error) && !(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        callback(error);\n    }\n    get _isAboutToError() {\n        return this[kStopReading];\n    }\n    /**\n    The remote IP address.\n    */\n    get ip() {\n        var _a;\n        return (_a = this.socket) === null || _a === void 0 ? void 0 : _a.remoteAddress;\n    }\n    /**\n    Indicates whether the request has been aborted or not.\n    */\n    get aborted() {\n        var _a, _b, _c;\n        return ((_b = (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.destroyed) !== null && _b !== void 0 ? _b : this.destroyed) && !((_c = this[kOriginalResponse]) === null || _c === void 0 ? void 0 : _c.complete);\n    }\n    get socket() {\n        var _a, _b;\n        return (_b = (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.socket) !== null && _b !== void 0 ? _b : undefined;\n    }\n    /**\n    Progress event for downloading (receiving a response).\n    */\n    get downloadProgress() {\n        let percent;\n        if (this[kResponseSize]) {\n            percent = this[kDownloadedSize] / this[kResponseSize];\n        }\n        else if (this[kResponseSize] === this[kDownloadedSize]) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this[kDownloadedSize],\n            total: this[kResponseSize]\n        };\n    }\n    /**\n    Progress event for uploading (sending a request).\n    */\n    get uploadProgress() {\n        let percent;\n        if (this[kBodySize]) {\n            percent = this[kUploadedSize] / this[kBodySize];\n        }\n        else if (this[kBodySize] === this[kUploadedSize]) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this[kUploadedSize],\n            total: this[kBodySize]\n        };\n    }\n    /**\n    The object contains the following properties:\n\n    - `start` - Time when the request started.\n    - `socket` - Time when a socket was assigned to the request.\n    - `lookup` - Time when the DNS lookup finished.\n    - `connect` - Time when the socket successfully connected.\n    - `secureConnect` - Time when the socket securely connected.\n    - `upload` - Time when the request finished uploading.\n    - `response` - Time when the request fired `response` event.\n    - `end` - Time when the response fired `end` event.\n    - `error` - Time when the request fired `error` event.\n    - `abort` - Time when the request fired `abort` event.\n    - `phases`\n        - `wait` - `timings.socket - timings.start`\n        - `dns` - `timings.lookup - timings.socket`\n        - `tcp` - `timings.connect - timings.lookup`\n        - `tls` - `timings.secureConnect - timings.connect`\n        - `request` - `timings.upload - (timings.secureConnect || timings.connect)`\n        - `firstByte` - `timings.response - timings.upload`\n        - `download` - `timings.end - timings.response`\n        - `total` - `(timings.end || timings.error || timings.abort) - timings.start`\n\n    If something has not been measured yet, it will be `undefined`.\n\n    __Note__: The time is a `number` representing the milliseconds elapsed since the UNIX epoch.\n    */\n    get timings() {\n        var _a;\n        return (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.timings;\n    }\n    /**\n    Whether the response was retrieved from the cache.\n    */\n    get isFromCache() {\n        return this[kIsFromCache];\n    }\n    pipe(destination, options) {\n        if (this[kStartedReading]) {\n            throw new Error('Failed to pipe. The response has been emitted already.');\n        }\n        if (destination instanceof http_1.ServerResponse) {\n            this[kServerResponsesPiped].add(destination);\n        }\n        return super.pipe(destination, options);\n    }\n    unpipe(destination) {\n        if (destination instanceof http_1.ServerResponse) {\n            this[kServerResponsesPiped].delete(destination);\n        }\n        super.unpipe(destination);\n        return this;\n    }\n}\nexports.default = Request;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dnsLookupIpVersionToFamily = exports.isDnsLookupIpVersion = void 0;\nconst conversionTable = {\n    auto: 0,\n    ipv4: 4,\n    ipv6: 6\n};\nexports.isDnsLookupIpVersion = (value) => {\n    return value in conversionTable;\n};\nexports.dnsLookupIpVersionToFamily = (dnsLookupIpVersion) => {\n    if (exports.isDnsLookupIpVersion(dnsLookupIpVersion)) {\n        return conversionTable[dnsLookupIpVersion];\n    }\n    throw new Error('Invalid DNS lookup IP version');\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = require(\"fs\");\nconst util_1 = require(\"util\");\nconst is_1 = require(\"@sindresorhus/is\");\nconst is_form_data_1 = require(\"./is-form-data\");\nconst statAsync = util_1.promisify(fs_1.stat);\nexports.default = async (body, headers) => {\n    if (headers && 'content-length' in headers) {\n        return Number(headers['content-length']);\n    }\n    if (!body) {\n        return 0;\n    }\n    if (is_1.default.string(body)) {\n        return Buffer.byteLength(body);\n    }\n    if (is_1.default.buffer(body)) {\n        return body.length;\n    }\n    if (is_form_data_1.default(body)) {\n        return util_1.promisify(body.getLength.bind(body))();\n    }\n    if (body instanceof fs_1.ReadStream) {\n        const { size } = await statAsync(body.path);\n        if (size === 0) {\n            return undefined;\n        }\n        return size;\n    }\n    return undefined;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// TODO: Update https://github.com/sindresorhus/get-stream\nconst getBuffer = async (stream) => {\n    const chunks = [];\n    let length = 0;\n    for await (const chunk of stream) {\n        chunks.push(chunk);\n        length += Buffer.byteLength(chunk);\n    }\n    if (Buffer.isBuffer(chunks[0])) {\n        return Buffer.concat(chunks, length);\n    }\n    return Buffer.from(chunks.join(''));\n};\nexports.default = getBuffer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = require(\"@sindresorhus/is\");\nexports.default = (body) => is_1.default.nodeStream(body) && is_1.default.function_(body.getBoundary);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isResponseOk = void 0;\nexports.isResponseOk = (response) => {\n    const { statusCode } = response;\n    const limitStatusCode = response.request.options.followRedirect ? 299 : 399;\n    return (statusCode >= 200 && statusCode <= limitStatusCode) || statusCode === 304;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* istanbul ignore file: deprecated */\nconst url_1 = require(\"url\");\nconst keys = [\n    'protocol',\n    'host',\n    'hostname',\n    'port',\n    'pathname',\n    'search'\n];\nexports.default = (origin, options) => {\n    var _a, _b;\n    if (options.path) {\n        if (options.pathname) {\n            throw new TypeError('Parameters `path` and `pathname` are mutually exclusive.');\n        }\n        if (options.search) {\n            throw new TypeError('Parameters `path` and `search` are mutually exclusive.');\n        }\n        if (options.searchParams) {\n            throw new TypeError('Parameters `path` and `searchParams` are mutually exclusive.');\n        }\n    }\n    if (options.search && options.searchParams) {\n        throw new TypeError('Parameters `search` and `searchParams` are mutually exclusive.');\n    }\n    if (!origin) {\n        if (!options.protocol) {\n            throw new TypeError('No URL protocol specified');\n        }\n        origin = `${options.protocol}//${(_b = (_a = options.hostname) !== null && _a !== void 0 ? _a : options.host) !== null && _b !== void 0 ? _b : ''}`;\n    }\n    const url = new url_1.URL(origin);\n    if (options.path) {\n        const searchIndex = options.path.indexOf('?');\n        if (searchIndex === -1) {\n            options.pathname = options.path;\n        }\n        else {\n            options.pathname = options.path.slice(0, searchIndex);\n            options.search = options.path.slice(searchIndex + 1);\n        }\n        delete options.path;\n    }\n    for (const key of keys) {\n        if (options[key]) {\n            url[key] = options[key].toString();\n        }\n    }\n    return url;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(from, to, events) {\n    const fns = {};\n    for (const event of events) {\n        fns[event] = (...args) => {\n            to.emit(event, ...args);\n        };\n        from.on(event, fns[event]);\n    }\n    return () => {\n        for (const event of events) {\n            from.off(event, fns[event]);\n        }\n    };\n}\nexports.default = default_1;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeoutError = void 0;\nconst net = require(\"net\");\nconst unhandle_1 = require(\"./unhandle\");\nconst reentry = Symbol('reentry');\nconst noop = () => { };\nclass TimeoutError extends Error {\n    constructor(threshold, event) {\n        super(`Timeout awaiting '${event}' for ${threshold}ms`);\n        this.event = event;\n        this.name = 'TimeoutError';\n        this.code = 'ETIMEDOUT';\n    }\n}\nexports.TimeoutError = TimeoutError;\nexports.default = (request, delays, options) => {\n    if (reentry in request) {\n        return noop;\n    }\n    request[reentry] = true;\n    const cancelers = [];\n    const { once, unhandleAll } = unhandle_1.default();\n    const addTimeout = (delay, callback, event) => {\n        var _a;\n        const timeout = setTimeout(callback, delay, delay, event);\n        (_a = timeout.unref) === null || _a === void 0 ? void 0 : _a.call(timeout);\n        const cancel = () => {\n            clearTimeout(timeout);\n        };\n        cancelers.push(cancel);\n        return cancel;\n    };\n    const { host, hostname } = options;\n    const timeoutHandler = (delay, event) => {\n        request.destroy(new TimeoutError(delay, event));\n    };\n    const cancelTimeouts = () => {\n        for (const cancel of cancelers) {\n            cancel();\n        }\n        unhandleAll();\n    };\n    request.once('error', error => {\n        cancelTimeouts();\n        // Save original behavior\n        /* istanbul ignore next */\n        if (request.listenerCount('error') === 0) {\n            throw error;\n        }\n    });\n    request.once('close', cancelTimeouts);\n    once(request, 'response', (response) => {\n        once(response, 'end', cancelTimeouts);\n    });\n    if (typeof delays.request !== 'undefined') {\n        addTimeout(delays.request, timeoutHandler, 'request');\n    }\n    if (typeof delays.socket !== 'undefined') {\n        const socketTimeoutHandler = () => {\n            timeoutHandler(delays.socket, 'socket');\n        };\n        request.setTimeout(delays.socket, socketTimeoutHandler);\n        // `request.setTimeout(0)` causes a memory leak.\n        // We can just remove the listener and forget about the timer - it's unreffed.\n        // See https://github.com/sindresorhus/got/issues/690\n        cancelers.push(() => {\n            request.removeListener('timeout', socketTimeoutHandler);\n        });\n    }\n    once(request, 'socket', (socket) => {\n        var _a;\n        const { socketPath } = request;\n        /* istanbul ignore next: hard to test */\n        if (socket.connecting) {\n            const hasPath = Boolean(socketPath !== null && socketPath !== void 0 ? socketPath : net.isIP((_a = hostname !== null && hostname !== void 0 ? hostname : host) !== null && _a !== void 0 ? _a : '') !== 0);\n            if (typeof delays.lookup !== 'undefined' && !hasPath && typeof socket.address().address === 'undefined') {\n                const cancelTimeout = addTimeout(delays.lookup, timeoutHandler, 'lookup');\n                once(socket, 'lookup', cancelTimeout);\n            }\n            if (typeof delays.connect !== 'undefined') {\n                const timeConnect = () => addTimeout(delays.connect, timeoutHandler, 'connect');\n                if (hasPath) {\n                    once(socket, 'connect', timeConnect());\n                }\n                else {\n                    once(socket, 'lookup', (error) => {\n                        if (error === null) {\n                            once(socket, 'connect', timeConnect());\n                        }\n                    });\n                }\n            }\n            if (typeof delays.secureConnect !== 'undefined' && options.protocol === 'https:') {\n                once(socket, 'connect', () => {\n                    const cancelTimeout = addTimeout(delays.secureConnect, timeoutHandler, 'secureConnect');\n                    once(socket, 'secureConnect', cancelTimeout);\n                });\n            }\n        }\n        if (typeof delays.send !== 'undefined') {\n            const timeRequest = () => addTimeout(delays.send, timeoutHandler, 'send');\n            /* istanbul ignore next: hard to test */\n            if (socket.connecting) {\n                once(socket, 'connect', () => {\n                    once(request, 'upload-complete', timeRequest());\n                });\n            }\n            else {\n                once(request, 'upload-complete', timeRequest());\n            }\n        }\n    });\n    if (typeof delays.response !== 'undefined') {\n        once(request, 'upload-complete', () => {\n            const cancelTimeout = addTimeout(delays.response, timeoutHandler, 'response');\n            once(request, 'response', cancelTimeout);\n        });\n    }\n    return cancelTimeouts;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// When attaching listeners, it's very easy to forget about them.\n// Especially if you do error handling and set timeouts.\n// So instead of checking if it's proper to throw an error on every timeout ever,\n// use this simple tool which will remove all listeners you have attached.\nexports.default = () => {\n    const handlers = [];\n    return {\n        once(origin, event, fn) {\n            origin.once(event, fn);\n            handlers.push({ origin, event, fn });\n        },\n        unhandleAll() {\n            for (const handler of handlers) {\n                const { origin, event, fn } = handler;\n                origin.removeListener(event, fn);\n            }\n            handlers.length = 0;\n        }\n    };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = require(\"@sindresorhus/is\");\nexports.default = (url) => {\n    // Cast to URL\n    url = url;\n    const options = {\n        protocol: url.protocol,\n        hostname: is_1.default.string(url.hostname) && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n        host: url.host,\n        hash: url.hash,\n        search: url.search,\n        pathname: url.pathname,\n        href: url.href,\n        path: `${url.pathname || ''}${url.search || ''}`\n    };\n    if (is_1.default.string(url.port) && url.port.length > 0) {\n        options.port = Number(url.port);\n    }\n    if (url.username || url.password) {\n        options.auth = `${url.username || ''}:${url.password || ''}`;\n    }\n    return options;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass WeakableMap {\n    constructor() {\n        this.weakMap = new WeakMap();\n        this.map = new Map();\n    }\n    set(key, value) {\n        if (typeof key === 'object') {\n            this.weakMap.set(key, value);\n        }\n        else {\n            this.map.set(key, value);\n        }\n    }\n    get(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.get(key);\n        }\n        return this.map.get(key);\n    }\n    has(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.has(key);\n        }\n        return this.map.has(key);\n    }\n}\nexports.default = WeakableMap;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultHandler = void 0;\nconst is_1 = require(\"@sindresorhus/is\");\nconst as_promise_1 = require(\"./as-promise\");\nconst create_rejection_1 = require(\"./as-promise/create-rejection\");\nconst core_1 = require(\"./core\");\nconst deep_freeze_1 = require(\"./utils/deep-freeze\");\nconst errors = {\n    RequestError: as_promise_1.RequestError,\n    CacheError: as_promise_1.CacheError,\n    ReadError: as_promise_1.ReadError,\n    HTTPError: as_promise_1.HTTPError,\n    MaxRedirectsError: as_promise_1.MaxRedirectsError,\n    TimeoutError: as_promise_1.TimeoutError,\n    ParseError: as_promise_1.ParseError,\n    CancelError: as_promise_1.CancelError,\n    UnsupportedProtocolError: as_promise_1.UnsupportedProtocolError,\n    UploadError: as_promise_1.UploadError\n};\n// The `delay` package weighs 10KB (!)\nconst delay = async (ms) => new Promise(resolve => {\n    setTimeout(resolve, ms);\n});\nconst { normalizeArguments } = core_1.default;\nconst mergeOptions = (...sources) => {\n    let mergedOptions;\n    for (const source of sources) {\n        mergedOptions = normalizeArguments(undefined, source, mergedOptions);\n    }\n    return mergedOptions;\n};\nconst getPromiseOrStream = (options) => options.isStream ? new core_1.default(undefined, options) : as_promise_1.default(options);\nconst isGotInstance = (value) => ('defaults' in value && 'options' in value.defaults);\nconst aliases = [\n    'get',\n    'post',\n    'put',\n    'patch',\n    'head',\n    'delete'\n];\nexports.defaultHandler = (options, next) => next(options);\nconst callInitHooks = (hooks, options) => {\n    if (hooks) {\n        for (const hook of hooks) {\n            hook(options);\n        }\n    }\n};\nconst create = (defaults) => {\n    // Proxy properties from next handlers\n    defaults._rawHandlers = defaults.handlers;\n    defaults.handlers = defaults.handlers.map(fn => ((options, next) => {\n        // This will be assigned by assigning result\n        let root;\n        const result = fn(options, newOptions => {\n            root = next(newOptions);\n            return root;\n        });\n        if (result !== root && !options.isStream && root) {\n            const typedResult = result;\n            const { then: promiseThen, catch: promiseCatch, finally: promiseFianlly } = typedResult;\n            Object.setPrototypeOf(typedResult, Object.getPrototypeOf(root));\n            Object.defineProperties(typedResult, Object.getOwnPropertyDescriptors(root));\n            // These should point to the new promise\n            // eslint-disable-next-line promise/prefer-await-to-then\n            typedResult.then = promiseThen;\n            typedResult.catch = promiseCatch;\n            typedResult.finally = promiseFianlly;\n        }\n        return result;\n    }));\n    // Got interface\n    const got = ((url, options = {}, _defaults) => {\n        var _a, _b;\n        let iteration = 0;\n        const iterateHandlers = (newOptions) => {\n            return defaults.handlers[iteration++](newOptions, iteration === defaults.handlers.length ? getPromiseOrStream : iterateHandlers);\n        };\n        // TODO: Remove this in Got 12.\n        if (is_1.default.plainObject(url)) {\n            const mergedOptions = {\n                ...url,\n                ...options\n            };\n            core_1.setNonEnumerableProperties([url, options], mergedOptions);\n            options = mergedOptions;\n            url = undefined;\n        }\n        try {\n            // Call `init` hooks\n            let initHookError;\n            try {\n                callInitHooks(defaults.options.hooks.init, options);\n                callInitHooks((_a = options.hooks) === null || _a === void 0 ? void 0 : _a.init, options);\n            }\n            catch (error) {\n                initHookError = error;\n            }\n            // Normalize options & call handlers\n            const normalizedOptions = normalizeArguments(url, options, _defaults !== null && _defaults !== void 0 ? _defaults : defaults.options);\n            normalizedOptions[core_1.kIsNormalizedAlready] = true;\n            if (initHookError) {\n                throw new as_promise_1.RequestError(initHookError.message, initHookError, normalizedOptions);\n            }\n            return iterateHandlers(normalizedOptions);\n        }\n        catch (error) {\n            if (options.isStream) {\n                throw error;\n            }\n            else {\n                return create_rejection_1.default(error, defaults.options.hooks.beforeError, (_b = options.hooks) === null || _b === void 0 ? void 0 : _b.beforeError);\n            }\n        }\n    });\n    got.extend = (...instancesOrOptions) => {\n        const optionsArray = [defaults.options];\n        let handlers = [...defaults._rawHandlers];\n        let isMutableDefaults;\n        for (const value of instancesOrOptions) {\n            if (isGotInstance(value)) {\n                optionsArray.push(value.defaults.options);\n                handlers.push(...value.defaults._rawHandlers);\n                isMutableDefaults = value.defaults.mutableDefaults;\n            }\n            else {\n                optionsArray.push(value);\n                if ('handlers' in value) {\n                    handlers.push(...value.handlers);\n                }\n                isMutableDefaults = value.mutableDefaults;\n            }\n        }\n        handlers = handlers.filter(handler => handler !== exports.defaultHandler);\n        if (handlers.length === 0) {\n            handlers.push(exports.defaultHandler);\n        }\n        return create({\n            options: mergeOptions(...optionsArray),\n            handlers,\n            mutableDefaults: Boolean(isMutableDefaults)\n        });\n    };\n    // Pagination\n    const paginateEach = (async function* (url, options) {\n        // TODO: Remove this `@ts-expect-error` when upgrading to TypeScript 4.\n        // Error: Argument of type 'Merge<Options, PaginationOptions<T, R>> | undefined' is not assignable to parameter of type 'Options | undefined'.\n        // @ts-expect-error\n        let normalizedOptions = normalizeArguments(url, options, defaults.options);\n        normalizedOptions.resolveBodyOnly = false;\n        const pagination = normalizedOptions.pagination;\n        if (!is_1.default.object(pagination)) {\n            throw new TypeError('`options.pagination` must be implemented');\n        }\n        const all = [];\n        let { countLimit } = pagination;\n        let numberOfRequests = 0;\n        while (numberOfRequests < pagination.requestLimit) {\n            if (numberOfRequests !== 0) {\n                // eslint-disable-next-line no-await-in-loop\n                await delay(pagination.backoff);\n            }\n            // @ts-expect-error FIXME!\n            // TODO: Throw when result is not an instance of Response\n            // eslint-disable-next-line no-await-in-loop\n            const result = (await got(undefined, undefined, normalizedOptions));\n            // eslint-disable-next-line no-await-in-loop\n            const parsed = await pagination.transform(result);\n            const current = [];\n            for (const item of parsed) {\n                if (pagination.filter(item, all, current)) {\n                    if (!pagination.shouldContinue(item, all, current)) {\n                        return;\n                    }\n                    yield item;\n                    if (pagination.stackAllItems) {\n                        all.push(item);\n                    }\n                    current.push(item);\n                    if (--countLimit <= 0) {\n                        return;\n                    }\n                }\n            }\n            const optionsToMerge = pagination.paginate(result, all, current);\n            if (optionsToMerge === false) {\n                return;\n            }\n            if (optionsToMerge === result.request.options) {\n                normalizedOptions = result.request.options;\n            }\n            else if (optionsToMerge !== undefined) {\n                normalizedOptions = normalizeArguments(undefined, optionsToMerge, normalizedOptions);\n            }\n            numberOfRequests++;\n        }\n    });\n    got.paginate = paginateEach;\n    got.paginate.all = (async (url, options) => {\n        const results = [];\n        for await (const item of paginateEach(url, options)) {\n            results.push(item);\n        }\n        return results;\n    });\n    // For those who like very descriptive names\n    got.paginate.each = paginateEach;\n    // Stream API\n    got.stream = ((url, options) => got(url, { ...options, isStream: true }));\n    // Shortcuts\n    for (const method of aliases) {\n        got[method] = ((url, options) => got(url, { ...options, method }));\n        got.stream[method] = ((url, options) => {\n            return got(url, { ...options, method, isStream: true });\n        });\n    }\n    Object.assign(got, errors);\n    Object.defineProperty(got, 'defaults', {\n        value: defaults.mutableDefaults ? defaults : deep_freeze_1.default(defaults),\n        writable: defaults.mutableDefaults,\n        configurable: defaults.mutableDefaults,\n        enumerable: true\n    });\n    got.mergeOptions = mergeOptions;\n    return got;\n};\nexports.default = create;\n__exportStar(require(\"./types\"), exports);\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst url_1 = require(\"url\");\nconst create_1 = require(\"./create\");\nconst defaults = {\n    options: {\n        method: 'GET',\n        retry: {\n            limit: 2,\n            methods: [\n                'GET',\n                'PUT',\n                'HEAD',\n                'DELETE',\n                'OPTIONS',\n                'TRACE'\n            ],\n            statusCodes: [\n                408,\n                413,\n                429,\n                500,\n                502,\n                503,\n                504,\n                521,\n                522,\n                524\n            ],\n            errorCodes: [\n                'ETIMEDOUT',\n                'ECONNRESET',\n                'EADDRINUSE',\n                'ECONNREFUSED',\n                'EPIPE',\n                'ENOTFOUND',\n                'ENETUNREACH',\n                'EAI_AGAIN'\n            ],\n            maxRetryAfter: undefined,\n            calculateDelay: ({ computedValue }) => computedValue\n        },\n        timeout: {},\n        headers: {\n            'user-agent': 'got (https://github.com/sindresorhus/got)'\n        },\n        hooks: {\n            init: [],\n            beforeRequest: [],\n            beforeRedirect: [],\n            beforeRetry: [],\n            beforeError: [],\n            afterResponse: []\n        },\n        cache: undefined,\n        dnsCache: undefined,\n        decompress: true,\n        throwHttpErrors: true,\n        followRedirect: true,\n        isStream: false,\n        responseType: 'text',\n        resolveBodyOnly: false,\n        maxRedirects: 10,\n        prefixUrl: '',\n        methodRewriting: true,\n        ignoreInvalidCookies: false,\n        context: {},\n        // TODO: Set this to `true` when Got 12 gets released\n        http2: false,\n        allowGetBody: false,\n        https: undefined,\n        pagination: {\n            transform: (response) => {\n                if (response.request.options.responseType === 'json') {\n                    return response.body;\n                }\n                return JSON.parse(response.body);\n            },\n            paginate: response => {\n                if (!Reflect.has(response.headers, 'link')) {\n                    return false;\n                }\n                const items = response.headers.link.split(',');\n                let next;\n                for (const item of items) {\n                    const parsed = item.split(';');\n                    if (parsed[1].includes('next')) {\n                        next = parsed[0].trimStart().trim();\n                        next = next.slice(1, -1);\n                        break;\n                    }\n                }\n                if (next) {\n                    const options = {\n                        url: new url_1.URL(next)\n                    };\n                    return options;\n                }\n                return false;\n            },\n            filter: () => true,\n            shouldContinue: () => true,\n            countLimit: Infinity,\n            backoff: 0,\n            requestLimit: 10000,\n            stackAllItems: true\n        },\n        parseJson: (text) => JSON.parse(text),\n        stringifyJson: (object) => JSON.stringify(object),\n        cacheOptions: {}\n    },\n    handlers: [create_1.defaultHandler],\n    mutableDefaults: false\n};\nconst got = create_1.default(defaults);\nexports.default = got;\n// For CommonJS default export support\nmodule.exports = got;\nmodule.exports.default = got;\nmodule.exports.__esModule = true; // Workaround for TS issue: https://github.com/sindresorhus/got/pull/1267\n__exportStar(require(\"./create\"), exports);\n__exportStar(require(\"./as-promise\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = require(\"@sindresorhus/is\");\nfunction deepFreeze(object) {\n    for (const value of Object.values(object)) {\n        if (is_1.default.plainObject(value) || is_1.default.array(value)) {\n            deepFreeze(value);\n        }\n    }\n    return Object.freeze(object);\n}\nexports.default = deepFreeze;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst alreadyWarned = new Set();\nexports.default = (message) => {\n    if (alreadyWarned.has(message)) {\n        return;\n    }\n    alreadyWarned.add(message);\n    // @ts-expect-error Missing types.\n    process.emitWarning(`Got: ${message}`, {\n        type: 'DeprecationWarning'\n    });\n};\n","'use strict';\n// rfc7231 6.1\nconst statusCodeCacheableByDefault = new Set([\n    200,\n    203,\n    204,\n    206,\n    300,\n    301,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\n// This implementation does not understand partial responses (206)\nconst understoodStatuses = new Set([\n    200,\n    203,\n    204,\n    300,\n    301,\n    302,\n    303,\n    307,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\nconst errorStatusCodes = new Set([\n    500,\n    502,\n    503, \n    504,\n]);\n\nconst hopByHopHeaders = {\n    date: true, // included, because we add Age update Date\n    connection: true,\n    'keep-alive': true,\n    'proxy-authenticate': true,\n    'proxy-authorization': true,\n    te: true,\n    trailer: true,\n    'transfer-encoding': true,\n    upgrade: true,\n};\n\nconst excludedFromRevalidationUpdate = {\n    // Since the old body is reused, it doesn't make sense to change properties of the body\n    'content-length': true,\n    'content-encoding': true,\n    'transfer-encoding': true,\n    'content-range': true,\n};\n\nfunction toNumberOrZero(s) {\n    const n = parseInt(s, 10);\n    return isFinite(n) ? n : 0;\n}\n\n// RFC 5861\nfunction isErrorResponse(response) {\n    // consider undefined response as faulty\n    if(!response) {\n        return true\n    }\n    return errorStatusCodes.has(response.status);\n}\n\nfunction parseCacheControl(header) {\n    const cc = {};\n    if (!header) return cc;\n\n    // TODO: When there is more than one value present for a given directive (e.g., two Expires header fields, multiple Cache-Control: max-age directives),\n    // the directive's value is considered invalid. Caches are encouraged to consider responses that have invalid freshness information to be stale\n    const parts = header.trim().split(/,/);\n    for (const part of parts) {\n        const [k, v] = part.split(/=/, 2);\n        cc[k.trim()] = v === undefined ? true : v.trim().replace(/^\"|\"$/g, '');\n    }\n\n    return cc;\n}\n\nfunction formatCacheControl(cc) {\n    let parts = [];\n    for (const k in cc) {\n        const v = cc[k];\n        parts.push(v === true ? k : k + '=' + v);\n    }\n    if (!parts.length) {\n        return undefined;\n    }\n    return parts.join(', ');\n}\n\nmodule.exports = class CachePolicy {\n    constructor(\n        req,\n        res,\n        {\n            shared,\n            cacheHeuristic,\n            immutableMinTimeToLive,\n            ignoreCargoCult,\n            _fromObject,\n        } = {}\n    ) {\n        if (_fromObject) {\n            this._fromObject(_fromObject);\n            return;\n        }\n\n        if (!res || !res.headers) {\n            throw Error('Response headers missing');\n        }\n        this._assertRequestHasHeaders(req);\n\n        this._responseTime = this.now();\n        this._isShared = shared !== false;\n        this._cacheHeuristic =\n            undefined !== cacheHeuristic ? cacheHeuristic : 0.1; // 10% matches IE\n        this._immutableMinTtl =\n            undefined !== immutableMinTimeToLive\n                ? immutableMinTimeToLive\n                : 24 * 3600 * 1000;\n\n        this._status = 'status' in res ? res.status : 200;\n        this._resHeaders = res.headers;\n        this._rescc = parseCacheControl(res.headers['cache-control']);\n        this._method = 'method' in req ? req.method : 'GET';\n        this._url = req.url;\n        this._host = req.headers.host;\n        this._noAuthorization = !req.headers.authorization;\n        this._reqHeaders = res.headers.vary ? req.headers : null; // Don't keep all request headers if they won't be used\n        this._reqcc = parseCacheControl(req.headers['cache-control']);\n\n        // Assume that if someone uses legacy, non-standard uncecessary options they don't understand caching,\n        // so there's no point stricly adhering to the blindly copy&pasted directives.\n        if (\n            ignoreCargoCult &&\n            'pre-check' in this._rescc &&\n            'post-check' in this._rescc\n        ) {\n            delete this._rescc['pre-check'];\n            delete this._rescc['post-check'];\n            delete this._rescc['no-cache'];\n            delete this._rescc['no-store'];\n            delete this._rescc['must-revalidate'];\n            this._resHeaders = Object.assign({}, this._resHeaders, {\n                'cache-control': formatCacheControl(this._rescc),\n            });\n            delete this._resHeaders.expires;\n            delete this._resHeaders.pragma;\n        }\n\n        // When the Cache-Control header field is not present in a request, caches MUST consider the no-cache request pragma-directive\n        // as having the same effect as if \"Cache-Control: no-cache\" were present (see Section 5.2.1).\n        if (\n            res.headers['cache-control'] == null &&\n            /no-cache/.test(res.headers.pragma)\n        ) {\n            this._rescc['no-cache'] = true;\n        }\n    }\n\n    now() {\n        return Date.now();\n    }\n\n    storable() {\n        // The \"no-store\" request directive indicates that a cache MUST NOT store any part of either this request or any response to it.\n        return !!(\n            !this._reqcc['no-store'] &&\n            // A cache MUST NOT store a response to any request, unless:\n            // The request method is understood by the cache and defined as being cacheable, and\n            ('GET' === this._method ||\n                'HEAD' === this._method ||\n                ('POST' === this._method && this._hasExplicitExpiration())) &&\n            // the response status code is understood by the cache, and\n            understoodStatuses.has(this._status) &&\n            // the \"no-store\" cache directive does not appear in request or response header fields, and\n            !this._rescc['no-store'] &&\n            // the \"private\" response directive does not appear in the response, if the cache is shared, and\n            (!this._isShared || !this._rescc.private) &&\n            // the Authorization header field does not appear in the request, if the cache is shared,\n            (!this._isShared ||\n                this._noAuthorization ||\n                this._allowsStoringAuthenticated()) &&\n            // the response either:\n            // contains an Expires header field, or\n            (this._resHeaders.expires ||\n                // contains a max-age response directive, or\n                // contains a s-maxage response directive and the cache is shared, or\n                // contains a public response directive.\n                this._rescc['max-age'] ||\n                (this._isShared && this._rescc['s-maxage']) ||\n                this._rescc.public ||\n                // has a status code that is defined as cacheable by default\n                statusCodeCacheableByDefault.has(this._status))\n        );\n    }\n\n    _hasExplicitExpiration() {\n        // 4.2.1 Calculating Freshness Lifetime\n        return (\n            (this._isShared && this._rescc['s-maxage']) ||\n            this._rescc['max-age'] ||\n            this._resHeaders.expires\n        );\n    }\n\n    _assertRequestHasHeaders(req) {\n        if (!req || !req.headers) {\n            throw Error('Request headers missing');\n        }\n    }\n\n    satisfiesWithoutRevalidation(req) {\n        this._assertRequestHasHeaders(req);\n\n        // When presented with a request, a cache MUST NOT reuse a stored response, unless:\n        // the presented request does not contain the no-cache pragma (Section 5.4), nor the no-cache cache directive,\n        // unless the stored response is successfully validated (Section 4.3), and\n        const requestCC = parseCacheControl(req.headers['cache-control']);\n        if (requestCC['no-cache'] || /no-cache/.test(req.headers.pragma)) {\n            return false;\n        }\n\n        if (requestCC['max-age'] && this.age() > requestCC['max-age']) {\n            return false;\n        }\n\n        if (\n            requestCC['min-fresh'] &&\n            this.timeToLive() < 1000 * requestCC['min-fresh']\n        ) {\n            return false;\n        }\n\n        // the stored response is either:\n        // fresh, or allowed to be served stale\n        if (this.stale()) {\n            const allowsStale =\n                requestCC['max-stale'] &&\n                !this._rescc['must-revalidate'] &&\n                (true === requestCC['max-stale'] ||\n                    requestCC['max-stale'] > this.age() - this.maxAge());\n            if (!allowsStale) {\n                return false;\n            }\n        }\n\n        return this._requestMatches(req, false);\n    }\n\n    _requestMatches(req, allowHeadMethod) {\n        // The presented effective request URI and that of the stored response match, and\n        return (\n            (!this._url || this._url === req.url) &&\n            this._host === req.headers.host &&\n            // the request method associated with the stored response allows it to be used for the presented request, and\n            (!req.method ||\n                this._method === req.method ||\n                (allowHeadMethod && 'HEAD' === req.method)) &&\n            // selecting header fields nominated by the stored response (if any) match those presented, and\n            this._varyMatches(req)\n        );\n    }\n\n    _allowsStoringAuthenticated() {\n        //  following Cache-Control response directives (Section 5.2.2) have such an effect: must-revalidate, public, and s-maxage.\n        return (\n            this._rescc['must-revalidate'] ||\n            this._rescc.public ||\n            this._rescc['s-maxage']\n        );\n    }\n\n    _varyMatches(req) {\n        if (!this._resHeaders.vary) {\n            return true;\n        }\n\n        // A Vary header field-value of \"*\" always fails to match\n        if (this._resHeaders.vary === '*') {\n            return false;\n        }\n\n        const fields = this._resHeaders.vary\n            .trim()\n            .toLowerCase()\n            .split(/\\s*,\\s*/);\n        for (const name of fields) {\n            if (req.headers[name] !== this._reqHeaders[name]) return false;\n        }\n        return true;\n    }\n\n    _copyWithoutHopByHopHeaders(inHeaders) {\n        const headers = {};\n        for (const name in inHeaders) {\n            if (hopByHopHeaders[name]) continue;\n            headers[name] = inHeaders[name];\n        }\n        // 9.1.  Connection\n        if (inHeaders.connection) {\n            const tokens = inHeaders.connection.trim().split(/\\s*,\\s*/);\n            for (const name of tokens) {\n                delete headers[name];\n            }\n        }\n        if (headers.warning) {\n            const warnings = headers.warning.split(/,/).filter(warning => {\n                return !/^\\s*1[0-9][0-9]/.test(warning);\n            });\n            if (!warnings.length) {\n                delete headers.warning;\n            } else {\n                headers.warning = warnings.join(',').trim();\n            }\n        }\n        return headers;\n    }\n\n    responseHeaders() {\n        const headers = this._copyWithoutHopByHopHeaders(this._resHeaders);\n        const age = this.age();\n\n        // A cache SHOULD generate 113 warning if it heuristically chose a freshness\n        // lifetime greater than 24 hours and the response's age is greater than 24 hours.\n        if (\n            age > 3600 * 24 &&\n            !this._hasExplicitExpiration() &&\n            this.maxAge() > 3600 * 24\n        ) {\n            headers.warning =\n                (headers.warning ? `${headers.warning}, ` : '') +\n                '113 - \"rfc7234 5.5.4\"';\n        }\n        headers.age = `${Math.round(age)}`;\n        headers.date = new Date(this.now()).toUTCString();\n        return headers;\n    }\n\n    /**\n     * Value of the Date response header or current time if Date was invalid\n     * @return timestamp\n     */\n    date() {\n        const serverDate = Date.parse(this._resHeaders.date);\n        if (isFinite(serverDate)) {\n            return serverDate;\n        }\n        return this._responseTime;\n    }\n\n    /**\n     * Value of the Age header, in seconds, updated for the current time.\n     * May be fractional.\n     *\n     * @return Number\n     */\n    age() {\n        let age = this._ageValue();\n\n        const residentTime = (this.now() - this._responseTime) / 1000;\n        return age + residentTime;\n    }\n\n    _ageValue() {\n        return toNumberOrZero(this._resHeaders.age);\n    }\n\n    /**\n     * Value of applicable max-age (or heuristic equivalent) in seconds. This counts since response's `Date`.\n     *\n     * For an up-to-date value, see `timeToLive()`.\n     *\n     * @return Number\n     */\n    maxAge() {\n        if (!this.storable() || this._rescc['no-cache']) {\n            return 0;\n        }\n\n        // Shared responses with cookies are cacheable according to the RFC, but IMHO it'd be unwise to do so by default\n        // so this implementation requires explicit opt-in via public header\n        if (\n            this._isShared &&\n            (this._resHeaders['set-cookie'] &&\n                !this._rescc.public &&\n                !this._rescc.immutable)\n        ) {\n            return 0;\n        }\n\n        if (this._resHeaders.vary === '*') {\n            return 0;\n        }\n\n        if (this._isShared) {\n            if (this._rescc['proxy-revalidate']) {\n                return 0;\n            }\n            // if a response includes the s-maxage directive, a shared cache recipient MUST ignore the Expires field.\n            if (this._rescc['s-maxage']) {\n                return toNumberOrZero(this._rescc['s-maxage']);\n            }\n        }\n\n        // If a response includes a Cache-Control field with the max-age directive, a recipient MUST ignore the Expires field.\n        if (this._rescc['max-age']) {\n            return toNumberOrZero(this._rescc['max-age']);\n        }\n\n        const defaultMinTtl = this._rescc.immutable ? this._immutableMinTtl : 0;\n\n        const serverDate = this.date();\n        if (this._resHeaders.expires) {\n            const expires = Date.parse(this._resHeaders.expires);\n            // A cache recipient MUST interpret invalid date formats, especially the value \"0\", as representing a time in the past (i.e., \"already expired\").\n            if (Number.isNaN(expires) || expires < serverDate) {\n                return 0;\n            }\n            return Math.max(defaultMinTtl, (expires - serverDate) / 1000);\n        }\n\n        if (this._resHeaders['last-modified']) {\n            const lastModified = Date.parse(this._resHeaders['last-modified']);\n            if (isFinite(lastModified) && serverDate > lastModified) {\n                return Math.max(\n                    defaultMinTtl,\n                    ((serverDate - lastModified) / 1000) * this._cacheHeuristic\n                );\n            }\n        }\n\n        return defaultMinTtl;\n    }\n\n    timeToLive() {\n        const age = this.maxAge() - this.age();\n        const staleIfErrorAge = age + toNumberOrZero(this._rescc['stale-if-error']);\n        const staleWhileRevalidateAge = age + toNumberOrZero(this._rescc['stale-while-revalidate']);\n        return Math.max(0, age, staleIfErrorAge, staleWhileRevalidateAge) * 1000;\n    }\n\n    stale() {\n        return this.maxAge() <= this.age();\n    }\n\n    _useStaleIfError() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-if-error']) > this.age();\n    }\n\n    useStaleWhileRevalidate() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-while-revalidate']) > this.age();\n    }\n\n    static fromObject(obj) {\n        return new this(undefined, undefined, { _fromObject: obj });\n    }\n\n    _fromObject(obj) {\n        if (this._responseTime) throw Error('Reinitialized');\n        if (!obj || obj.v !== 1) throw Error('Invalid serialization');\n\n        this._responseTime = obj.t;\n        this._isShared = obj.sh;\n        this._cacheHeuristic = obj.ch;\n        this._immutableMinTtl =\n            obj.imm !== undefined ? obj.imm : 24 * 3600 * 1000;\n        this._status = obj.st;\n        this._resHeaders = obj.resh;\n        this._rescc = obj.rescc;\n        this._method = obj.m;\n        this._url = obj.u;\n        this._host = obj.h;\n        this._noAuthorization = obj.a;\n        this._reqHeaders = obj.reqh;\n        this._reqcc = obj.reqcc;\n    }\n\n    toObject() {\n        return {\n            v: 1,\n            t: this._responseTime,\n            sh: this._isShared,\n            ch: this._cacheHeuristic,\n            imm: this._immutableMinTtl,\n            st: this._status,\n            resh: this._resHeaders,\n            rescc: this._rescc,\n            m: this._method,\n            u: this._url,\n            h: this._host,\n            a: this._noAuthorization,\n            reqh: this._reqHeaders,\n            reqcc: this._reqcc,\n        };\n    }\n\n    /**\n     * Headers for sending to the origin server to revalidate stale response.\n     * Allows server to return 304 to allow reuse of the previous response.\n     *\n     * Hop by hop headers are always stripped.\n     * Revalidation headers may be added or removed, depending on request.\n     */\n    revalidationHeaders(incomingReq) {\n        this._assertRequestHasHeaders(incomingReq);\n        const headers = this._copyWithoutHopByHopHeaders(incomingReq.headers);\n\n        // This implementation does not understand range requests\n        delete headers['if-range'];\n\n        if (!this._requestMatches(incomingReq, true) || !this.storable()) {\n            // revalidation allowed via HEAD\n            // not for the same resource, or wasn't allowed to be cached anyway\n            delete headers['if-none-match'];\n            delete headers['if-modified-since'];\n            return headers;\n        }\n\n        /* MUST send that entity-tag in any cache validation request (using If-Match or If-None-Match) if an entity-tag has been provided by the origin server. */\n        if (this._resHeaders.etag) {\n            headers['if-none-match'] = headers['if-none-match']\n                ? `${headers['if-none-match']}, ${this._resHeaders.etag}`\n                : this._resHeaders.etag;\n        }\n\n        // Clients MAY issue simple (non-subrange) GET requests with either weak validators or strong validators. Clients MUST NOT use weak validators in other forms of request.\n        const forbidsWeakValidators =\n            headers['accept-ranges'] ||\n            headers['if-match'] ||\n            headers['if-unmodified-since'] ||\n            (this._method && this._method != 'GET');\n\n        /* SHOULD send the Last-Modified value in non-subrange cache validation requests (using If-Modified-Since) if only a Last-Modified value has been provided by the origin server.\n        Note: This implementation does not understand partial responses (206) */\n        if (forbidsWeakValidators) {\n            delete headers['if-modified-since'];\n\n            if (headers['if-none-match']) {\n                const etags = headers['if-none-match']\n                    .split(/,/)\n                    .filter(etag => {\n                        return !/^\\s*W\\//.test(etag);\n                    });\n                if (!etags.length) {\n                    delete headers['if-none-match'];\n                } else {\n                    headers['if-none-match'] = etags.join(',').trim();\n                }\n            }\n        } else if (\n            this._resHeaders['last-modified'] &&\n            !headers['if-modified-since']\n        ) {\n            headers['if-modified-since'] = this._resHeaders['last-modified'];\n        }\n\n        return headers;\n    }\n\n    /**\n     * Creates new CachePolicy with information combined from the previews response,\n     * and the new revalidation response.\n     *\n     * Returns {policy, modified} where modified is a boolean indicating\n     * whether the response body has been modified, and old cached body can't be used.\n     *\n     * @return {Object} {policy: CachePolicy, modified: Boolean}\n     */\n    revalidatedPolicy(request, response) {\n        this._assertRequestHasHeaders(request);\n        if(this._useStaleIfError() && isErrorResponse(response)) {  // I consider the revalidation request unsuccessful\n          return {\n            modified: false,\n            matches: false,\n            policy: this,\n          };\n        }\n        if (!response || !response.headers) {\n            throw Error('Response headers missing');\n        }\n\n        // These aren't going to be supported exactly, since one CachePolicy object\n        // doesn't know about all the other cached objects.\n        let matches = false;\n        if (response.status !== undefined && response.status != 304) {\n            matches = false;\n        } else if (\n            response.headers.etag &&\n            !/^\\s*W\\//.test(response.headers.etag)\n        ) {\n            // \"All of the stored responses with the same strong validator are selected.\n            // If none of the stored responses contain the same strong validator,\n            // then the cache MUST NOT use the new response to update any stored responses.\"\n            matches =\n                this._resHeaders.etag &&\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                    response.headers.etag;\n        } else if (this._resHeaders.etag && response.headers.etag) {\n            // \"If the new response contains a weak validator and that validator corresponds\n            // to one of the cache's stored responses,\n            // then the most recent of those matching stored responses is selected for update.\"\n            matches =\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                response.headers.etag.replace(/^\\s*W\\//, '');\n        } else if (this._resHeaders['last-modified']) {\n            matches =\n                this._resHeaders['last-modified'] ===\n                response.headers['last-modified'];\n        } else {\n            // If the new response does not include any form of validator (such as in the case where\n            // a client generates an If-Modified-Since request from a source other than the Last-Modified\n            // response header field), and there is only one stored response, and that stored response also\n            // lacks a validator, then that stored response is selected for update.\n            if (\n                !this._resHeaders.etag &&\n                !this._resHeaders['last-modified'] &&\n                !response.headers.etag &&\n                !response.headers['last-modified']\n            ) {\n                matches = true;\n            }\n        }\n\n        if (!matches) {\n            return {\n                policy: new this.constructor(request, response),\n                // Client receiving 304 without body, even if it's invalid/mismatched has no option\n                // but to reuse a cached body. We don't have a good way to tell clients to do\n                // error recovery in such case.\n                modified: response.status != 304,\n                matches: false,\n            };\n        }\n\n        // use other header fields provided in the 304 (Not Modified) response to replace all instances\n        // of the corresponding header fields in the stored response.\n        const headers = {};\n        for (const k in this._resHeaders) {\n            headers[k] =\n                k in response.headers && !excludedFromRevalidationUpdate[k]\n                    ? response.headers[k]\n                    : this._resHeaders[k];\n        }\n\n        const newResponse = Object.assign({}, response, {\n            status: this._status,\n            method: this._method,\n            headers,\n        });\n        return {\n            policy: new this.constructor(request, newResponse, {\n                shared: this._isShared,\n                cacheHeuristic: this._cacheHeuristic,\n                immutableMinTimeToLive: this._immutableMinTtl,\n            }),\n            modified: false,\n            matches: true,\n        };\n    }\n};\n","'use strict';\nconst EventEmitter = require('events');\nconst tls = require('tls');\nconst http2 = require('http2');\nconst QuickLRU = require('quick-lru');\n\nconst kCurrentStreamsCount = Symbol('currentStreamsCount');\nconst kRequest = Symbol('request');\nconst kOriginSet = Symbol('cachedOriginSet');\nconst kGracefullyClosing = Symbol('gracefullyClosing');\n\nconst nameKeys = [\n\t// `http2.connect()` options\n\t'maxDeflateDynamicTableSize',\n\t'maxSessionMemory',\n\t'maxHeaderListPairs',\n\t'maxOutstandingPings',\n\t'maxReservedRemoteStreams',\n\t'maxSendHeaderBlockLength',\n\t'paddingStrategy',\n\n\t// `tls.connect()` options\n\t'localAddress',\n\t'path',\n\t'rejectUnauthorized',\n\t'minDHSize',\n\n\t// `tls.createSecureContext()` options\n\t'ca',\n\t'cert',\n\t'clientCertEngine',\n\t'ciphers',\n\t'key',\n\t'pfx',\n\t'servername',\n\t'minVersion',\n\t'maxVersion',\n\t'secureProtocol',\n\t'crl',\n\t'honorCipherOrder',\n\t'ecdhCurve',\n\t'dhparam',\n\t'secureOptions',\n\t'sessionIdContext'\n];\n\nconst getSortedIndex = (array, value, compare) => {\n\tlet low = 0;\n\tlet high = array.length;\n\n\twhile (low < high) {\n\t\tconst mid = (low + high) >>> 1;\n\n\t\t/* istanbul ignore next */\n\t\tif (compare(array[mid], value)) {\n\t\t\t// This never gets called because we use descending sort. Better to have this anyway.\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\n\treturn low;\n};\n\nconst compareSessions = (a, b) => {\n\treturn a.remoteSettings.maxConcurrentStreams > b.remoteSettings.maxConcurrentStreams;\n};\n\n// See https://tools.ietf.org/html/rfc8336\nconst closeCoveredSessions = (where, session) => {\n\t// Clients SHOULD NOT emit new requests on any connection whose Origin\n\t// Set is a proper subset of another connection's Origin Set, and they\n\t// SHOULD close it once all outstanding requests are satisfied.\n\tfor (const coveredSession of where) {\n\t\tif (\n\t\t\t// The set is a proper subset when its length is less than the other set.\n\t\t\tcoveredSession[kOriginSet].length < session[kOriginSet].length &&\n\n\t\t\t// And the other set includes all elements of the subset.\n\t\t\tcoveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin)) &&\n\n\t\t\t// Makes sure that the session can handle all requests from the covered session.\n\t\t\tcoveredSession[kCurrentStreamsCount] + session[kCurrentStreamsCount] <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\t// This allows pending requests to finish and prevents making new requests.\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\n// This is basically inverted `closeCoveredSessions(...)`.\nconst closeSessionIfCovered = (where, coveredSession) => {\n\tfor (const session of where) {\n\t\tif (\n\t\t\tcoveredSession[kOriginSet].length < session[kOriginSet].length &&\n\t\t\tcoveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin)) &&\n\t\t\tcoveredSession[kCurrentStreamsCount] + session[kCurrentStreamsCount] <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\nconst getSessions = ({agent, isFree}) => {\n\tconst result = {};\n\n\t// eslint-disable-next-line guard-for-in\n\tfor (const normalizedOptions in agent.sessions) {\n\t\tconst sessions = agent.sessions[normalizedOptions];\n\n\t\tconst filtered = sessions.filter(session => {\n\t\t\tconst result = session[Agent.kCurrentStreamsCount] < session.remoteSettings.maxConcurrentStreams;\n\n\t\t\treturn isFree ? result : !result;\n\t\t});\n\n\t\tif (filtered.length !== 0) {\n\t\t\tresult[normalizedOptions] = filtered;\n\t\t}\n\t}\n\n\treturn result;\n};\n\nconst gracefullyClose = session => {\n\tsession[kGracefullyClosing] = true;\n\n\tif (session[kCurrentStreamsCount] === 0) {\n\t\tsession.close();\n\t}\n};\n\nclass Agent extends EventEmitter {\n\tconstructor({timeout = 60000, maxSessions = Infinity, maxFreeSessions = 10, maxCachedTlsSessions = 100} = {}) {\n\t\tsuper();\n\n\t\t// A session is considered busy when its current streams count\n\t\t// is equal to or greater than the `maxConcurrentStreams` value.\n\n\t\t// A session is considered free when its current streams count\n\t\t// is less than the `maxConcurrentStreams` value.\n\n\t\t// SESSIONS[NORMALIZED_OPTIONS] = [];\n\t\tthis.sessions = {};\n\n\t\t// The queue for creating new sessions. It looks like this:\n\t\t// QUEUE[NORMALIZED_OPTIONS][NORMALIZED_ORIGIN] = ENTRY_FUNCTION\n\t\t//\n\t\t// The entry function has `listeners`, `completed` and `destroyed` properties.\n\t\t// `listeners` is an array of objects containing `resolve` and `reject` functions.\n\t\t// `completed` is a boolean. It's set to true after ENTRY_FUNCTION is executed.\n\t\t// `destroyed` is a boolean. If it's set to true, the session will be destroyed if hasn't connected yet.\n\t\tthis.queue = {};\n\n\t\t// Each session will use this timeout value.\n\t\tthis.timeout = timeout;\n\n\t\t// Max sessions in total\n\t\tthis.maxSessions = maxSessions;\n\n\t\t// Max free sessions in total\n\t\t// TODO: decreasing `maxFreeSessions` should close some sessions\n\t\tthis.maxFreeSessions = maxFreeSessions;\n\n\t\tthis._freeSessionsCount = 0;\n\t\tthis._sessionsCount = 0;\n\n\t\t// We don't support push streams by default.\n\t\tthis.settings = {\n\t\t\tenablePush: false\n\t\t};\n\n\t\t// Reusing TLS sessions increases performance.\n\t\tthis.tlsSessionCache = new QuickLRU({maxSize: maxCachedTlsSessions});\n\t}\n\n\tstatic normalizeOrigin(url, servername) {\n\t\tif (typeof url === 'string') {\n\t\t\turl = new URL(url);\n\t\t}\n\n\t\tif (servername && url.hostname !== servername) {\n\t\t\turl.hostname = servername;\n\t\t}\n\n\t\treturn url.origin;\n\t}\n\n\tnormalizeOptions(options) {\n\t\tlet normalized = '';\n\n\t\tif (options) {\n\t\t\tfor (const key of nameKeys) {\n\t\t\t\tif (options[key]) {\n\t\t\t\t\tnormalized += `:${options[key]}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn normalized;\n\t}\n\n\t_tryToCreateNewSession(normalizedOptions, normalizedOrigin) {\n\t\tif (!(normalizedOptions in this.queue) || !(normalizedOrigin in this.queue[normalizedOptions])) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst item = this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t// The entry function can be run only once.\n\t\t// BUG: The session may be never created when:\n\t\t// - the first condition is false AND\n\t\t// - this function is never called with the same arguments in the future.\n\t\tif (this._sessionsCount < this.maxSessions && !item.completed) {\n\t\t\titem.completed = true;\n\n\t\t\titem();\n\t\t}\n\t}\n\n\tgetSession(origin, options, listeners) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (Array.isArray(listeners)) {\n\t\t\t\tlisteners = [...listeners];\n\n\t\t\t\t// Resolve the current promise ASAP, we're just moving the listeners.\n\t\t\t\t// They will be executed at a different time.\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tlisteners = [{resolve, reject}];\n\t\t\t}\n\n\t\t\tconst normalizedOptions = this.normalizeOptions(options);\n\t\t\tconst normalizedOrigin = Agent.normalizeOrigin(origin, options && options.servername);\n\n\t\t\tif (normalizedOrigin === undefined) {\n\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\treject(new TypeError('The `origin` argument needs to be a string or an URL object'));\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.sessions) {\n\t\t\t\tconst sessions = this.sessions[normalizedOptions];\n\n\t\t\t\tlet maxConcurrentStreams = -1;\n\t\t\t\tlet currentStreamsCount = -1;\n\t\t\t\tlet optimalSession;\n\n\t\t\t\t// We could just do this.sessions[normalizedOptions].find(...) but that isn't optimal.\n\t\t\t\t// Additionally, we are looking for session which has biggest current pending streams count.\n\t\t\t\tfor (const session of sessions) {\n\t\t\t\t\tconst sessionMaxConcurrentStreams = session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tif (sessionMaxConcurrentStreams < maxConcurrentStreams) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (session[kOriginSet].includes(normalizedOrigin)) {\n\t\t\t\t\t\tconst sessionCurrentStreamsCount = session[kCurrentStreamsCount];\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tsessionCurrentStreamsCount >= sessionMaxConcurrentStreams ||\n\t\t\t\t\t\t\tsession[kGracefullyClosing] ||\n\t\t\t\t\t\t\t// Unfortunately the `close` event isn't called immediately,\n\t\t\t\t\t\t\t// so `session.destroyed` is `true`, but `session.closed` is `false`.\n\t\t\t\t\t\t\tsession.destroyed\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// We only need set this once.\n\t\t\t\t\t\tif (!optimalSession) {\n\t\t\t\t\t\t\tmaxConcurrentStreams = sessionMaxConcurrentStreams;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// We're looking for the session which has biggest current pending stream count,\n\t\t\t\t\t\t// in order to minimalize the amount of active sessions.\n\t\t\t\t\t\tif (sessionCurrentStreamsCount > currentStreamsCount) {\n\t\t\t\t\t\t\toptimalSession = session;\n\t\t\t\t\t\t\tcurrentStreamsCount = sessionCurrentStreamsCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (optimalSession) {\n\t\t\t\t\t/* istanbul ignore next: safety check */\n\t\t\t\t\tif (listeners.length !== 1) {\n\t\t\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\t\t\tconst error = new Error(\n\t\t\t\t\t\t\t\t`Expected the length of listeners to be 1, got ${listeners.length}.\\n` +\n\t\t\t\t\t\t\t\t'Please report this to https://github.com/szmarczak/http2-wrapper/'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlisteners[0].resolve(optimalSession);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.queue) {\n\t\t\t\tif (normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\t\t// There's already an item in the queue, just attach ourselves to it.\n\t\t\t\t\tthis.queue[normalizedOptions][normalizedOrigin].listeners.push(...listeners);\n\n\t\t\t\t\t// This shouldn't be executed here.\n\t\t\t\t\t// See the comment inside _tryToCreateNewSession.\n\t\t\t\t\tthis._tryToCreateNewSession(normalizedOptions, normalizedOrigin);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.queue[normalizedOptions] = {};\n\t\t\t}\n\n\t\t\t// The entry must be removed from the queue IMMEDIATELY when:\n\t\t\t// 1. the session connects successfully,\n\t\t\t// 2. an error occurs.\n\t\t\tconst removeFromQueue = () => {\n\t\t\t\t// Our entry can be replaced. We cannot remove the new one.\n\t\t\t\tif (normalizedOptions in this.queue && this.queue[normalizedOptions][normalizedOrigin] === entry) {\n\t\t\t\t\tdelete this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t\tif (Object.keys(this.queue[normalizedOptions]).length === 0) {\n\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// The main logic is here\n\t\t\tconst entry = () => {\n\t\t\t\tconst name = `${normalizedOrigin}:${normalizedOptions}`;\n\t\t\t\tlet receivedSettings = false;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst session = http2.connect(origin, {\n\t\t\t\t\t\tcreateConnection: this.createConnection,\n\t\t\t\t\t\tsettings: this.settings,\n\t\t\t\t\t\tsession: this.tlsSessionCache.get(name),\n\t\t\t\t\t\t...options\n\t\t\t\t\t});\n\t\t\t\t\tsession[kCurrentStreamsCount] = 0;\n\t\t\t\t\tsession[kGracefullyClosing] = false;\n\n\t\t\t\t\tconst isFree = () => session[kCurrentStreamsCount] < session.remoteSettings.maxConcurrentStreams;\n\t\t\t\t\tlet wasFree = true;\n\n\t\t\t\t\tsession.socket.once('session', tlsSession => {\n\t\t\t\t\t\tthis.tlsSessionCache.set(name, tlsSession);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('error', error => {\n\t\t\t\t\t\t// Listeners are empty when the session successfully connected.\n\t\t\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The connection got broken, purge the cache.\n\t\t\t\t\t\tthis.tlsSessionCache.delete(name);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.setTimeout(this.timeout, () => {\n\t\t\t\t\t\t// Terminates all streams owned by this session.\n\t\t\t\t\t\t// TODO: Maybe the streams should have a \"Session timed out\" error?\n\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('close', () => {\n\t\t\t\t\t\tif (receivedSettings) {\n\t\t\t\t\t\t\t// 1. If it wasn't free then no need to decrease because\n\t\t\t\t\t\t\t//    it has been decreased already in session.request().\n\t\t\t\t\t\t\t// 2. `stream.once('close')` won't increment the count\n\t\t\t\t\t\t\t//    because the session is already closed.\n\t\t\t\t\t\t\tif (wasFree) {\n\t\t\t\t\t\t\t\tthis._freeSessionsCount--;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis._sessionsCount--;\n\n\t\t\t\t\t\t\t// This cannot be moved to the stream logic,\n\t\t\t\t\t\t\t// because there may be a session that hadn't made a single request.\n\t\t\t\t\t\t\tconst where = this.sessions[normalizedOptions];\n\t\t\t\t\t\t\twhere.splice(where.indexOf(session), 1);\n\n\t\t\t\t\t\t\tif (where.length === 0) {\n\t\t\t\t\t\t\t\tdelete this.sessions[normalizedOptions];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Broken connection\n\t\t\t\t\t\t\tconst error = new Error('Session closed without receiving a SETTINGS frame');\n\t\t\t\t\t\t\terror.code = 'HTTP2WRAPPER_NOSETTINGS';\n\n\t\t\t\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tremoveFromQueue();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// There may be another session awaiting.\n\t\t\t\t\t\tthis._tryToCreateNewSession(normalizedOptions, normalizedOrigin);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Iterates over the queue and processes listeners.\n\t\t\t\t\tconst processListeners = () => {\n\t\t\t\t\t\tif (!(normalizedOptions in this.queue) || !isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (const origin of session[kOriginSet]) {\n\t\t\t\t\t\t\tif (origin in this.queue[normalizedOptions]) {\n\t\t\t\t\t\t\t\tconst {listeners} = this.queue[normalizedOptions][origin];\n\n\t\t\t\t\t\t\t\t// Prevents session overloading.\n\t\t\t\t\t\t\t\twhile (listeners.length !== 0 && isFree()) {\n\t\t\t\t\t\t\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t\t\t\t\t\t\t// otherwise the session will get overloaded.\n\t\t\t\t\t\t\t\t\tlisteners.shift().resolve(session);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst where = this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\tif (where[origin].listeners.length === 0) {\n\t\t\t\t\t\t\t\t\tdelete where[origin];\n\n\t\t\t\t\t\t\t\t\tif (Object.keys(where).length === 0) {\n\t\t\t\t\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// We're no longer free, no point in continuing.\n\t\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// The Origin Set cannot shrink. No need to check if it suddenly became covered by another one.\n\t\t\t\t\tsession.on('origin', () => {\n\t\t\t\t\t\tsession[kOriginSet] = session.originSet;\n\n\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t// The session is full.\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t// Close covered sessions (if possible).\n\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('remoteSettings', () => {\n\t\t\t\t\t\t// Fix Node.js bug preventing the process from exiting\n\t\t\t\t\t\tsession.ref();\n\t\t\t\t\t\tsession.unref();\n\n\t\t\t\t\t\tthis._sessionsCount++;\n\n\t\t\t\t\t\t// The Agent could have been destroyed already.\n\t\t\t\t\t\tif (entry.destroyed) {\n\t\t\t\t\t\t\tconst error = new Error('Agent has been destroyed');\n\n\t\t\t\t\t\t\tfor (const listener of listeners) {\n\t\t\t\t\t\t\t\tlistener.reject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsession[kOriginSet] = session.originSet;\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst where = this.sessions;\n\n\t\t\t\t\t\t\tif (normalizedOptions in where) {\n\t\t\t\t\t\t\t\tconst sessions = where[normalizedOptions];\n\t\t\t\t\t\t\t\tsessions.splice(getSortedIndex(sessions, session, compareSessions), 0, session);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere[normalizedOptions] = [session];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._freeSessionsCount += 1;\n\t\t\t\t\t\treceivedSettings = true;\n\n\t\t\t\t\t\tthis.emit('session', session);\n\n\t\t\t\t\t\tprocessListeners();\n\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t// TODO: Close last recently used (or least used?) session\n\t\t\t\t\t\tif (session[kCurrentStreamsCount] === 0 && this._freeSessionsCount > this.maxFreeSessions) {\n\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check if we haven't managed to execute all listeners.\n\t\t\t\t\t\tif (listeners.length !== 0) {\n\t\t\t\t\t\t\t// Request for a new session with predefined listeners.\n\t\t\t\t\t\t\tthis.getSession(normalizedOrigin, options, listeners);\n\t\t\t\t\t\t\tlisteners.length = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// `session.remoteSettings.maxConcurrentStreams` might get increased\n\t\t\t\t\t\tsession.on('remoteSettings', () => {\n\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\t// In case the Origin Set changes\n\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Shim `session.request()` in order to catch all streams\n\t\t\t\t\tsession[kRequest] = session.request;\n\t\t\t\t\tsession.request = (headers, streamOptions) => {\n\t\t\t\t\t\tif (session[kGracefullyClosing]) {\n\t\t\t\t\t\t\tthrow new Error('The session is gracefully closing. No new streams are allowed.');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst stream = session[kRequest](headers, streamOptions);\n\n\t\t\t\t\t\t// The process won't exit until the session is closed or all requests are gone.\n\t\t\t\t\t\tsession.ref();\n\n\t\t\t\t\t\t++session[kCurrentStreamsCount];\n\n\t\t\t\t\t\tif (session[kCurrentStreamsCount] === session.remoteSettings.maxConcurrentStreams) {\n\t\t\t\t\t\t\tthis._freeSessionsCount--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstream.once('close', () => {\n\t\t\t\t\t\t\twasFree = isFree();\n\n\t\t\t\t\t\t\t--session[kCurrentStreamsCount];\n\n\t\t\t\t\t\t\tif (!session.destroyed && !session.closed) {\n\t\t\t\t\t\t\t\tcloseSessionIfCovered(this.sessions[normalizedOptions], session);\n\n\t\t\t\t\t\t\t\tif (isFree() && !session.closed) {\n\t\t\t\t\t\t\t\t\tif (!wasFree) {\n\t\t\t\t\t\t\t\t\t\tthis._freeSessionsCount++;\n\n\t\t\t\t\t\t\t\t\t\twasFree = true;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tconst isEmpty = session[kCurrentStreamsCount] === 0;\n\n\t\t\t\t\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\t\t\t\t\tsession.unref();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tisEmpty &&\n\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\tthis._freeSessionsCount > this.maxFreeSessions ||\n\t\t\t\t\t\t\t\t\t\t\tsession[kGracefullyClosing]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t\t\t\t\tprocessListeners();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn stream;\n\t\t\t\t\t};\n\t\t\t\t} catch (error) {\n\t\t\t\t\tfor (const listener of listeners) {\n\t\t\t\t\t\tlistener.reject(error);\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveFromQueue();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tentry.listeners = listeners;\n\t\t\tentry.completed = false;\n\t\t\tentry.destroyed = false;\n\n\t\t\tthis.queue[normalizedOptions][normalizedOrigin] = entry;\n\t\t\tthis._tryToCreateNewSession(normalizedOptions, normalizedOrigin);\n\t\t});\n\t}\n\n\trequest(origin, options, headers, streamOptions) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.getSession(origin, options, [{\n\t\t\t\treject,\n\t\t\t\tresolve: session => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresolve(session.request(headers, streamOptions));\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]);\n\t\t});\n\t}\n\n\tcreateConnection(origin, options) {\n\t\treturn Agent.connect(origin, options);\n\t}\n\n\tstatic connect(origin, options) {\n\t\toptions.ALPNProtocols = ['h2'];\n\n\t\tconst port = origin.port || 443;\n\t\tconst host = origin.hostname || origin.host;\n\n\t\tif (typeof options.servername === 'undefined') {\n\t\t\toptions.servername = host;\n\t\t}\n\n\t\treturn tls.connect(port, host, options);\n\t}\n\n\tcloseFreeSessions() {\n\t\tfor (const sessions of Object.values(this.sessions)) {\n\t\t\tfor (const session of sessions) {\n\t\t\t\tif (session[kCurrentStreamsCount] === 0) {\n\t\t\t\t\tsession.close();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tdestroy(reason) {\n\t\tfor (const sessions of Object.values(this.sessions)) {\n\t\t\tfor (const session of sessions) {\n\t\t\t\tsession.destroy(reason);\n\t\t\t}\n\t\t}\n\n\t\tfor (const entriesOfAuthority of Object.values(this.queue)) {\n\t\t\tfor (const entry of Object.values(entriesOfAuthority)) {\n\t\t\t\tentry.destroyed = true;\n\t\t\t}\n\t\t}\n\n\t\t// New requests should NOT attach to destroyed sessions\n\t\tthis.queue = {};\n\t}\n\n\tget freeSessions() {\n\t\treturn getSessions({agent: this, isFree: true});\n\t}\n\n\tget busySessions() {\n\t\treturn getSessions({agent: this, isFree: false});\n\t}\n}\n\nAgent.kCurrentStreamsCount = kCurrentStreamsCount;\nAgent.kGracefullyClosing = kGracefullyClosing;\n\nmodule.exports = {\n\tAgent,\n\tglobalAgent: new Agent()\n};\n","'use strict';\nconst http = require('http');\nconst https = require('https');\nconst resolveALPN = require('resolve-alpn');\nconst QuickLRU = require('quick-lru');\nconst Http2ClientRequest = require('./client-request');\nconst calculateServerName = require('./utils/calculate-server-name');\nconst urlToOptions = require('./utils/url-to-options');\n\nconst cache = new QuickLRU({maxSize: 100});\nconst queue = new Map();\n\nconst installSocket = (agent, socket, options) => {\n\tsocket._httpMessage = {shouldKeepAlive: true};\n\n\tconst onFree = () => {\n\t\tagent.emit('free', socket, options);\n\t};\n\n\tsocket.on('free', onFree);\n\n\tconst onClose = () => {\n\t\tagent.removeSocket(socket, options);\n\t};\n\n\tsocket.on('close', onClose);\n\n\tconst onRemove = () => {\n\t\tagent.removeSocket(socket, options);\n\t\tsocket.off('close', onClose);\n\t\tsocket.off('free', onFree);\n\t\tsocket.off('agentRemove', onRemove);\n\t};\n\n\tsocket.on('agentRemove', onRemove);\n\n\tagent.emit('free', socket, options);\n};\n\nconst resolveProtocol = async options => {\n\tconst name = `${options.host}:${options.port}:${options.ALPNProtocols.sort()}`;\n\n\tif (!cache.has(name)) {\n\t\tif (queue.has(name)) {\n\t\t\tconst result = await queue.get(name);\n\t\t\treturn result.alpnProtocol;\n\t\t}\n\n\t\tconst {path, agent} = options;\n\t\toptions.path = options.socketPath;\n\n\t\tconst resultPromise = resolveALPN(options);\n\t\tqueue.set(name, resultPromise);\n\n\t\ttry {\n\t\t\tconst {socket, alpnProtocol} = await resultPromise;\n\t\t\tcache.set(name, alpnProtocol);\n\n\t\t\toptions.path = path;\n\n\t\t\tif (alpnProtocol === 'h2') {\n\t\t\t\t// https://github.com/nodejs/node/issues/33343\n\t\t\t\tsocket.destroy();\n\t\t\t} else {\n\t\t\t\tconst {globalAgent} = https;\n\t\t\t\tconst defaultCreateConnection = https.Agent.prototype.createConnection;\n\n\t\t\t\tif (agent) {\n\t\t\t\t\tif (agent.createConnection === defaultCreateConnection) {\n\t\t\t\t\t\tinstallSocket(agent, socket, options);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsocket.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else if (globalAgent.createConnection === defaultCreateConnection) {\n\t\t\t\t\tinstallSocket(globalAgent, socket, options);\n\t\t\t\t} else {\n\t\t\t\t\tsocket.destroy();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tqueue.delete(name);\n\n\t\t\treturn alpnProtocol;\n\t\t} catch (error) {\n\t\t\tqueue.delete(name);\n\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\treturn cache.get(name);\n};\n\nmodule.exports = async (input, options, callback) => {\n\tif (typeof input === 'string' || input instanceof URL) {\n\t\tinput = urlToOptions(new URL(input));\n\t}\n\n\tif (typeof options === 'function') {\n\t\tcallback = options;\n\t\toptions = undefined;\n\t}\n\n\toptions = {\n\t\tALPNProtocols: ['h2', 'http/1.1'],\n\t\t...input,\n\t\t...options,\n\t\tresolveSocket: true\n\t};\n\n\tif (!Array.isArray(options.ALPNProtocols) || options.ALPNProtocols.length === 0) {\n\t\tthrow new Error('The `ALPNProtocols` option must be an Array with at least one entry');\n\t}\n\n\toptions.protocol = options.protocol || 'https:';\n\tconst isHttps = options.protocol === 'https:';\n\n\toptions.host = options.hostname || options.host || 'localhost';\n\toptions.session = options.tlsSession;\n\toptions.servername = options.servername || calculateServerName(options);\n\toptions.port = options.port || (isHttps ? 443 : 80);\n\toptions._defaultAgent = isHttps ? https.globalAgent : http.globalAgent;\n\n\tconst agents = options.agent;\n\n\tif (agents) {\n\t\tif (agents.addRequest) {\n\t\t\tthrow new Error('The `options.agent` object can contain only `http`, `https` or `http2` properties');\n\t\t}\n\n\t\toptions.agent = agents[isHttps ? 'https' : 'http'];\n\t}\n\n\tif (isHttps) {\n\t\tconst protocol = await resolveProtocol(options);\n\n\t\tif (protocol === 'h2') {\n\t\t\tif (agents) {\n\t\t\t\toptions.agent = agents.http2;\n\t\t\t}\n\n\t\t\treturn new Http2ClientRequest(options, callback);\n\t\t}\n\t}\n\n\treturn http.request(options, callback);\n};\n\nmodule.exports.protocolCache = cache;\n","'use strict';\nconst http2 = require('http2');\nconst {Writable} = require('stream');\nconst {Agent, globalAgent} = require('./agent');\nconst IncomingMessage = require('./incoming-message');\nconst urlToOptions = require('./utils/url-to-options');\nconst proxyEvents = require('./utils/proxy-events');\nconst isRequestPseudoHeader = require('./utils/is-request-pseudo-header');\nconst {\n\tERR_INVALID_ARG_TYPE,\n\tERR_INVALID_PROTOCOL,\n\tERR_HTTP_HEADERS_SENT,\n\tERR_INVALID_HTTP_TOKEN,\n\tERR_HTTP_INVALID_HEADER_VALUE,\n\tERR_INVALID_CHAR\n} = require('./utils/errors');\n\nconst {\n\tHTTP2_HEADER_STATUS,\n\tHTTP2_HEADER_METHOD,\n\tHTTP2_HEADER_PATH,\n\tHTTP2_METHOD_CONNECT\n} = http2.constants;\n\nconst kHeaders = Symbol('headers');\nconst kOrigin = Symbol('origin');\nconst kSession = Symbol('session');\nconst kOptions = Symbol('options');\nconst kFlushedHeaders = Symbol('flushedHeaders');\nconst kJobs = Symbol('jobs');\n\nconst isValidHttpToken = /^[\\^`\\-\\w!#$%&*+.|~]+$/;\nconst isInvalidHeaderValue = /[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/;\n\nclass ClientRequest extends Writable {\n\tconstructor(input, options, callback) {\n\t\tsuper({\n\t\t\tautoDestroy: false\n\t\t});\n\n\t\tconst hasInput = typeof input === 'string' || input instanceof URL;\n\t\tif (hasInput) {\n\t\t\tinput = urlToOptions(input instanceof URL ? input : new URL(input));\n\t\t}\n\n\t\tif (typeof options === 'function' || options === undefined) {\n\t\t\t// (options, callback)\n\t\t\tcallback = options;\n\t\t\toptions = hasInput ? input : {...input};\n\t\t} else {\n\t\t\t// (input, options, callback)\n\t\t\toptions = {...input, ...options};\n\t\t}\n\n\t\tif (options.h2session) {\n\t\t\tthis[kSession] = options.h2session;\n\t\t} else if (options.agent === false) {\n\t\t\tthis.agent = new Agent({maxFreeSessions: 0});\n\t\t} else if (typeof options.agent === 'undefined' || options.agent === null) {\n\t\t\tif (typeof options.createConnection === 'function') {\n\t\t\t\t// This is a workaround - we don't have to create the session on our own.\n\t\t\t\tthis.agent = new Agent({maxFreeSessions: 0});\n\t\t\t\tthis.agent.createConnection = options.createConnection;\n\t\t\t} else {\n\t\t\t\tthis.agent = globalAgent;\n\t\t\t}\n\t\t} else if (typeof options.agent.request === 'function') {\n\t\t\tthis.agent = options.agent;\n\t\t} else {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('options.agent', ['Agent-like Object', 'undefined', 'false'], options.agent);\n\t\t}\n\n\t\tif (options.protocol && options.protocol !== 'https:') {\n\t\t\tthrow new ERR_INVALID_PROTOCOL(options.protocol, 'https:');\n\t\t}\n\n\t\tconst port = options.port || options.defaultPort || (this.agent && this.agent.defaultPort) || 443;\n\t\tconst host = options.hostname || options.host || 'localhost';\n\n\t\t// Don't enforce the origin via options. It may be changed in an Agent.\n\t\tdelete options.hostname;\n\t\tdelete options.host;\n\t\tdelete options.port;\n\n\t\tconst {timeout} = options;\n\t\toptions.timeout = undefined;\n\n\t\tthis[kHeaders] = Object.create(null);\n\t\tthis[kJobs] = [];\n\n\t\tthis.socket = null;\n\t\tthis.connection = null;\n\n\t\tthis.method = options.method || 'GET';\n\t\tthis.path = options.path;\n\n\t\tthis.res = null;\n\t\tthis.aborted = false;\n\t\tthis.reusedSocket = false;\n\n\t\tif (options.headers) {\n\t\t\tfor (const [header, value] of Object.entries(options.headers)) {\n\t\t\t\tthis.setHeader(header, value);\n\t\t\t}\n\t\t}\n\n\t\tif (options.auth && !('authorization' in this[kHeaders])) {\n\t\t\tthis[kHeaders].authorization = 'Basic ' + Buffer.from(options.auth).toString('base64');\n\t\t}\n\n\t\toptions.session = options.tlsSession;\n\t\toptions.path = options.socketPath;\n\n\t\tthis[kOptions] = options;\n\n\t\t// Clients that generate HTTP/2 requests directly SHOULD use the :authority pseudo-header field instead of the Host header field.\n\t\tif (port === 443) {\n\t\t\tthis[kOrigin] = `https://${host}`;\n\n\t\t\tif (!(':authority' in this[kHeaders])) {\n\t\t\t\tthis[kHeaders][':authority'] = host;\n\t\t\t}\n\t\t} else {\n\t\t\tthis[kOrigin] = `https://${host}:${port}`;\n\n\t\t\tif (!(':authority' in this[kHeaders])) {\n\t\t\t\tthis[kHeaders][':authority'] = `${host}:${port}`;\n\t\t\t}\n\t\t}\n\n\t\tif (timeout) {\n\t\t\tthis.setTimeout(timeout);\n\t\t}\n\n\t\tif (callback) {\n\t\t\tthis.once('response', callback);\n\t\t}\n\n\t\tthis[kFlushedHeaders] = false;\n\t}\n\n\tget method() {\n\t\treturn this[kHeaders][HTTP2_HEADER_METHOD];\n\t}\n\n\tset method(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_METHOD] = value.toUpperCase();\n\t\t}\n\t}\n\n\tget path() {\n\t\treturn this[kHeaders][HTTP2_HEADER_PATH];\n\t}\n\n\tset path(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_PATH] = value;\n\t\t}\n\t}\n\n\tget _mustNotHaveABody() {\n\t\treturn this.method === 'GET' || this.method === 'HEAD' || this.method === 'DELETE';\n\t}\n\n\t_write(chunk, encoding, callback) {\n\t\t// https://github.com/nodejs/node/blob/654df09ae0c5e17d1b52a900a545f0664d8c7627/lib/internal/http2/util.js#L148-L156\n\t\tif (this._mustNotHaveABody) {\n\t\t\tcallback(new Error('The GET, HEAD and DELETE methods must NOT have a body'));\n\t\t\t/* istanbul ignore next: Node.js 12 throws directly */\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callWrite = () => this._request.write(chunk, encoding, callback);\n\t\tif (this._request) {\n\t\t\tcallWrite();\n\t\t} else {\n\t\t\tthis[kJobs].push(callWrite);\n\t\t}\n\t}\n\n\t_final(callback) {\n\t\tif (this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callEnd = () => {\n\t\t\t// For GET, HEAD and DELETE\n\t\t\tif (this._mustNotHaveABody) {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._request.end(callback);\n\t\t};\n\n\t\tif (this._request) {\n\t\t\tcallEnd();\n\t\t} else {\n\t\t\tthis[kJobs].push(callEnd);\n\t\t}\n\t}\n\n\tabort() {\n\t\tif (this.res && this.res.complete) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aborted) {\n\t\t\tprocess.nextTick(() => this.emit('abort'));\n\t\t}\n\n\t\tthis.aborted = true;\n\n\t\tthis.destroy();\n\t}\n\n\t_destroy(error, callback) {\n\t\tif (this.res) {\n\t\t\tthis.res._dump();\n\t\t}\n\n\t\tif (this._request) {\n\t\t\tthis._request.destroy();\n\t\t}\n\n\t\tcallback(error);\n\t}\n\n\tasync flushHeaders() {\n\t\tif (this[kFlushedHeaders] || this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis[kFlushedHeaders] = true;\n\n\t\tconst isConnectMethod = this.method === HTTP2_METHOD_CONNECT;\n\n\t\t// The real magic is here\n\t\tconst onStream = stream => {\n\t\t\tthis._request = stream;\n\n\t\t\tif (this.destroyed) {\n\t\t\t\tstream.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Forwards `timeout`, `continue`, `close` and `error` events to this instance.\n\t\t\tif (!isConnectMethod) {\n\t\t\t\tproxyEvents(stream, this, ['timeout', 'continue', 'close', 'error']);\n\t\t\t}\n\n\t\t\t// Wait for the `finish` event. We don't want to emit the `response` event\n\t\t\t// before `request.end()` is called.\n\t\t\tconst waitForEnd = fn => {\n\t\t\t\treturn (...args) => {\n\t\t\t\t\tif (!this.writable && !this.destroyed) {\n\t\t\t\t\t\tfn(...args);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.once('finish', () => {\n\t\t\t\t\t\t\tfn(...args);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t// This event tells we are ready to listen for the data.\n\t\t\tstream.once('response', waitForEnd((headers, flags, rawHeaders) => {\n\t\t\t\t// If we were to emit raw request stream, it would be as fast as the native approach.\n\t\t\t\t// Note that wrapping the raw stream in a Proxy instance won't improve the performance (already tested it).\n\t\t\t\tconst response = new IncomingMessage(this.socket, stream.readableHighWaterMark);\n\t\t\t\tthis.res = response;\n\n\t\t\t\tresponse.req = this;\n\t\t\t\tresponse.statusCode = headers[HTTP2_HEADER_STATUS];\n\t\t\t\tresponse.headers = headers;\n\t\t\t\tresponse.rawHeaders = rawHeaders;\n\n\t\t\t\tresponse.once('end', () => {\n\t\t\t\t\tif (this.aborted) {\n\t\t\t\t\t\tresponse.aborted = true;\n\t\t\t\t\t\tresponse.emit('aborted');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresponse.complete = true;\n\n\t\t\t\t\t\t// Has no effect, just be consistent with the Node.js behavior\n\t\t\t\t\t\tresponse.socket = null;\n\t\t\t\t\t\tresponse.connection = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (isConnectMethod) {\n\t\t\t\t\tresponse.upgrade = true;\n\n\t\t\t\t\t// The HTTP1 API says the socket is detached here,\n\t\t\t\t\t// but we can't do that so we pass the original HTTP2 request.\n\t\t\t\t\tif (this.emit('connect', response, stream, Buffer.alloc(0))) {\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No listeners attached, destroy the original request.\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Forwards data\n\t\t\t\t\tstream.on('data', chunk => {\n\t\t\t\t\t\tif (!response._dumped && !response.push(chunk)) {\n\t\t\t\t\t\t\tstream.pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tstream.once('end', () => {\n\t\t\t\t\t\tresponse.push(null);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!this.emit('response', response)) {\n\t\t\t\t\t\t// No listeners attached, dump the response.\n\t\t\t\t\t\tresponse._dump();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\t// Emits `information` event\n\t\t\tstream.once('headers', waitForEnd(\n\t\t\t\theaders => this.emit('information', {statusCode: headers[HTTP2_HEADER_STATUS]})\n\t\t\t));\n\n\t\t\tstream.once('trailers', waitForEnd((trailers, flags, rawTrailers) => {\n\t\t\t\tconst {res} = this;\n\n\t\t\t\t// Assigns trailers to the response object.\n\t\t\t\tres.trailers = trailers;\n\t\t\t\tres.rawTrailers = rawTrailers;\n\t\t\t}));\n\n\t\t\tconst {socket} = stream.session;\n\t\t\tthis.socket = socket;\n\t\t\tthis.connection = socket;\n\n\t\t\tfor (const job of this[kJobs]) {\n\t\t\t\tjob();\n\t\t\t}\n\n\t\t\tthis.emit('socket', this.socket);\n\t\t};\n\n\t\t// Makes a HTTP2 request\n\t\tif (this[kSession]) {\n\t\t\ttry {\n\t\t\t\tonStream(this[kSession].request(this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.emit('error', error);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.reusedSocket = true;\n\n\t\t\ttry {\n\t\t\t\tonStream(await this.agent.request(this[kOrigin], this[kOptions], this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.emit('error', error);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn this[kHeaders][name.toLowerCase()];\n\t}\n\n\tget headersSent() {\n\t\treturn this[kFlushedHeaders];\n\t}\n\n\tremoveHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('remove');\n\t\t}\n\n\t\tdelete this[kHeaders][name.toLowerCase()];\n\t}\n\n\tsetHeader(name, value) {\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('set');\n\t\t}\n\n\t\tif (typeof name !== 'string' || (!isValidHttpToken.test(name) && !isRequestPseudoHeader(name))) {\n\t\t\tthrow new ERR_INVALID_HTTP_TOKEN('Header name', name);\n\t\t}\n\n\t\tif (typeof value === 'undefined') {\n\t\t\tthrow new ERR_HTTP_INVALID_HEADER_VALUE(value, name);\n\t\t}\n\n\t\tif (isInvalidHeaderValue.test(value)) {\n\t\t\tthrow new ERR_INVALID_CHAR('header content', name);\n\t\t}\n\n\t\tthis[kHeaders][name.toLowerCase()] = value;\n\t}\n\n\tsetNoDelay() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetSocketKeepAlive() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tconst applyTimeout = () => this._request.setTimeout(ms, callback);\n\n\t\tif (this._request) {\n\t\t\tapplyTimeout();\n\t\t} else {\n\t\t\tthis[kJobs].push(applyTimeout);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tget maxHeadersCount() {\n\t\tif (!this.destroyed && this._request) {\n\t\t\treturn this._request.session.localSettings.maxHeaderListSize;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tset maxHeadersCount(_value) {\n\t\t// Updating HTTP2 settings would affect all requests, do nothing.\n\t}\n}\n\nmodule.exports = ClientRequest;\n","'use strict';\nconst {Readable} = require('stream');\n\nclass IncomingMessage extends Readable {\n\tconstructor(socket, highWaterMark) {\n\t\tsuper({\n\t\t\thighWaterMark,\n\t\t\tautoDestroy: false\n\t\t});\n\n\t\tthis.statusCode = null;\n\t\tthis.statusMessage = '';\n\t\tthis.httpVersion = '2.0';\n\t\tthis.httpVersionMajor = 2;\n\t\tthis.httpVersionMinor = 0;\n\t\tthis.headers = {};\n\t\tthis.trailers = {};\n\t\tthis.req = null;\n\n\t\tthis.aborted = false;\n\t\tthis.complete = false;\n\t\tthis.upgrade = null;\n\n\t\tthis.rawHeaders = [];\n\t\tthis.rawTrailers = [];\n\n\t\tthis.socket = socket;\n\t\tthis.connection = socket;\n\n\t\tthis._dumped = false;\n\t}\n\n\t_destroy(error) {\n\t\tthis.req._request.destroy(error);\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tthis.req.setTimeout(ms, callback);\n\t\treturn this;\n\t}\n\n\t_dump() {\n\t\tif (!this._dumped) {\n\t\t\tthis._dumped = true;\n\n\t\t\tthis.removeAllListeners('data');\n\t\t\tthis.resume();\n\t\t}\n\t}\n\n\t_read() {\n\t\tif (this.req) {\n\t\t\tthis.req._request.resume();\n\t\t}\n\t}\n}\n\nmodule.exports = IncomingMessage;\n","'use strict';\nconst http2 = require('http2');\nconst agent = require('./agent');\nconst ClientRequest = require('./client-request');\nconst IncomingMessage = require('./incoming-message');\nconst auto = require('./auto');\n\nconst request = (url, options, callback) => {\n\treturn new ClientRequest(url, options, callback);\n};\n\nconst get = (url, options, callback) => {\n\t// eslint-disable-next-line unicorn/prevent-abbreviations\n\tconst req = new ClientRequest(url, options, callback);\n\treq.end();\n\n\treturn req;\n};\n\nmodule.exports = {\n\t...http2,\n\tClientRequest,\n\tIncomingMessage,\n\t...agent,\n\trequest,\n\tget,\n\tauto\n};\n","'use strict';\nconst net = require('net');\n/* istanbul ignore file: https://github.com/nodejs/node/blob/v13.0.1/lib/_http_agent.js */\n\nmodule.exports = options => {\n\tlet servername = options.host;\n\tconst hostHeader = options.headers && options.headers.host;\n\n\tif (hostHeader) {\n\t\tif (hostHeader.startsWith('[')) {\n\t\t\tconst index = hostHeader.indexOf(']');\n\t\t\tif (index === -1) {\n\t\t\t\tservername = hostHeader;\n\t\t\t} else {\n\t\t\t\tservername = hostHeader.slice(1, -1);\n\t\t\t}\n\t\t} else {\n\t\t\tservername = hostHeader.split(':', 1)[0];\n\t\t}\n\t}\n\n\tif (net.isIP(servername)) {\n\t\treturn '';\n\t}\n\n\treturn servername;\n};\n","'use strict';\n/* istanbul ignore file: https://github.com/nodejs/node/blob/master/lib/internal/errors.js */\n\nconst makeError = (Base, key, getMessage) => {\n\tmodule.exports[key] = class NodeError extends Base {\n\t\tconstructor(...args) {\n\t\t\tsuper(typeof getMessage === 'string' ? getMessage : getMessage(args));\n\t\t\tthis.name = `${super.name} [${key}]`;\n\t\t\tthis.code = key;\n\t\t}\n\t};\n};\n\nmakeError(TypeError, 'ERR_INVALID_ARG_TYPE', args => {\n\tconst type = args[0].includes('.') ? 'property' : 'argument';\n\n\tlet valid = args[1];\n\tconst isManyTypes = Array.isArray(valid);\n\n\tif (isManyTypes) {\n\t\tvalid = `${valid.slice(0, -1).join(', ')} or ${valid.slice(-1)}`;\n\t}\n\n\treturn `The \"${args[0]}\" ${type} must be ${isManyTypes ? 'one of' : 'of'} type ${valid}. Received ${typeof args[2]}`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_PROTOCOL', args => {\n\treturn `Protocol \"${args[0]}\" not supported. Expected \"${args[1]}\"`;\n});\n\nmakeError(Error, 'ERR_HTTP_HEADERS_SENT', args => {\n\treturn `Cannot ${args[0]} headers after they are sent to the client`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_HTTP_TOKEN', args => {\n\treturn `${args[0]} must be a valid HTTP token [${args[1]}]`;\n});\n\nmakeError(TypeError, 'ERR_HTTP_INVALID_HEADER_VALUE', args => {\n\treturn `Invalid value \"${args[0]} for header \"${args[1]}\"`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_CHAR', args => {\n\treturn `Invalid character in ${args[0]} [${args[1]}]`;\n});\n","'use strict';\n\nmodule.exports = header => {\n\tswitch (header) {\n\t\tcase ':method':\n\t\tcase ':scheme':\n\t\tcase ':authority':\n\t\tcase ':path':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n","'use strict';\n\nmodule.exports = (from, to, events) => {\n\tfor (const event of events) {\n\t\tfrom.on(event, (...args) => to.emit(event, ...args));\n\t}\n};\n","'use strict';\n/* istanbul ignore file: https://github.com/nodejs/node/blob/a91293d4d9ab403046ab5eb022332e4e3d249bd3/lib/internal/url.js#L1257 */\n\nmodule.exports = url => {\n\tconst options = {\n\t\tprotocol: url.protocol,\n\t\thostname: typeof url.hostname === 'string' && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n\t\thost: url.host,\n\t\thash: url.hash,\n\t\tsearch: url.search,\n\t\tpathname: url.pathname,\n\t\thref: url.href,\n\t\tpath: `${url.pathname || ''}${url.search || ''}`\n\t};\n\n\tif (typeof url.port === 'string' && url.port.length !== 0) {\n\t\toptions.port = Number(url.port);\n\t}\n\n\tif (url.username || url.password) {\n\t\toptions.auth = `${url.username || ''}:${url.password || ''}`;\n\t}\n\n\treturn options;\n};\n","//TODO: handle reviver/dehydrate function like normal\n//and handle indentation, like normal.\n//if anyone needs this... please send pull request.\n\nexports.stringify = function stringify (o) {\n  if('undefined' == typeof o) return o\n\n  if(o && Buffer.isBuffer(o))\n    return JSON.stringify(':base64:' + o.toString('base64'))\n\n  if(o && o.toJSON)\n    o =  o.toJSON()\n\n  if(o && 'object' === typeof o) {\n    var s = ''\n    var array = Array.isArray(o)\n    s = array ? '[' : '{'\n    var first = true\n\n    for(var k in o) {\n      var ignore = 'function' == typeof o[k] || (!array && 'undefined' === typeof o[k])\n      if(Object.hasOwnProperty.call(o, k) && !ignore) {\n        if(!first)\n          s += ','\n        first = false\n        if (array) {\n          if(o[k] == undefined)\n            s += 'null'\n          else\n            s += stringify(o[k])\n        } else if (o[k] !== void(0)) {\n          s += stringify(k) + ':' + stringify(o[k])\n        }\n      }\n    }\n\n    s += array ? ']' : '}'\n\n    return s\n  } else if ('string' === typeof o) {\n    return JSON.stringify(/^:/.test(o) ? ':' + o : o)\n  } else if ('undefined' === typeof o) {\n    return 'null';\n  } else\n    return JSON.stringify(o)\n}\n\nexports.parse = function (s) {\n  return JSON.parse(s, function (key, value) {\n    if('string' === typeof value) {\n      if(/^:base64:/.test(value))\n        return Buffer.from(value.substring(8), 'base64')\n      else\n        return /^:/.test(value) ? value.substring(1) : value \n    }\n    return value\n  })\n}\n","'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\n\nconst loadStore = options => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\trediss: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql',\n\t\tetcd: '@keyv/etcd',\n\t\toffline: '@keyv/offline',\n\t\ttiered: '@keyv/tiered',\n\t};\n\tif (options.adapter || options.uri) {\n\t\tconst adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n\t\treturn new (require(adapters[adapter]))(options);\n\t}\n\n\treturn new Map();\n};\n\nconst iterableAdapters = [\n\t'sqlite',\n\t'postgres',\n\t'mysql',\n\t'mongo',\n\t'redis',\n\t'tiered',\n];\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, {emitErrors = true, ...options} = {}) {\n\t\tsuper();\n\t\tthis.opts = {\n\t\t\tnamespace: 'keyv',\n\t\t\tserialize: JSONB.stringify,\n\t\t\tdeserialize: JSONB.parse,\n\t\t\t...((typeof uri === 'string') ? {uri} : uri),\n\t\t\t...options,\n\t\t};\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOptions = {...this.opts};\n\t\t\tthis.opts.store = loadStore(adapterOptions);\n\t\t}\n\n\t\tif (this.opts.compression) {\n\t\t\tconst compression = this.opts.compression;\n\t\t\tthis.opts.serialize = compression.serialize.bind(compression);\n\t\t\tthis.opts.deserialize = compression.deserialize.bind(compression);\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function' && emitErrors) {\n\t\t\tthis.opts.store.on('error', error => this.emit('error', error));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\n\t\tconst generateIterator = iterator => async function * () {\n\t\t\tfor await (const [key, raw] of typeof iterator === 'function'\n\t\t\t\t? iterator(this.opts.store.namespace)\n\t\t\t\t: iterator) {\n\t\t\t\tconst data = await this.opts.deserialize(raw);\n\t\t\t\tif (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\tthis.delete(key);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tyield [this._getKeyUnprefix(key), data.value];\n\t\t\t}\n\t\t};\n\n\t\t// Attach iterators\n\t\tif (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n\t\t\tthis.iterator = generateIterator(this.opts.store);\n\t\t} else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts\n\t\t\t&& this._checkIterableAdaptar()) {\n\t\t\tthis.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n\t\t}\n\t}\n\n\t_checkIterableAdaptar() {\n\t\treturn iterableAdapters.includes(this.opts.store.opts.dialect)\n\t\t\t|| iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\t_getKeyPrefixArray(keys) {\n\t\treturn keys.map(key => `${this.opts.namespace}:${key}`);\n\t}\n\n\t_getKeyUnprefix(key) {\n\t\treturn key\n\t\t\t.split(':')\n\t\t\t.splice(1)\n\t\t\t.join(':');\n\t}\n\n\tget(key, options) {\n\t\tconst {store} = this.opts;\n\t\tconst isArray = Array.isArray(key);\n\t\tconst keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\t\tif (isArray && store.getMany === undefined) {\n\t\t\tconst promises = [];\n\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\tpromises.push(Promise.resolve()\n\t\t\t\t\t.then(() => store.get(key))\n\t\t\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t.then(values => {\n\t\t\t\t\tconst data = [];\n\t\t\t\t\tfor (const value of values) {\n\t\t\t\t\t\tdata.push(value.value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed))\n\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t.then(data => {\n\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (isArray) {\n\t\t\t\t\treturn data.map((row, index) => {\n\t\t\t\t\t\tif ((typeof row === 'string')) {\n\t\t\t\t\t\t\trow = this.opts.deserialize(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row === undefined || row === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof row.expires === 'number' && Date.now() > row.expires) {\n\t\t\t\t\t\t\tthis.delete(key[index]).then(() => undefined);\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? row : row.value;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t}\n\n\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\n\t\tconst {store} = this.opts;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tif (typeof value === 'symbol') {\n\t\t\t\t\tthis.emit('error', 'symbol cannot be serialized');\n\t\t\t\t}\n\n\t\t\t\tvalue = {value, expires};\n\t\t\t\treturn this.opts.serialize(value);\n\t\t\t})\n\t\t\t.then(value => store.set(keyPrefixed, value, ttl))\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tconst {store} = this.opts;\n\t\tif (Array.isArray(key)) {\n\t\t\tconst keyPrefixed = this._getKeyPrefixArray(key);\n\t\t\tif (store.deleteMany === undefined) {\n\t\t\t\tconst promises = [];\n\t\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\t\tpromises.push(store.delete(key));\n\t\t\t\t}\n\n\t\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t\t.then(values => values.every(x => x.value === true));\n\t\t\t}\n\n\t\t\treturn Promise.resolve()\n\t\t\t\t.then(() => store.deleteMany(keyPrefixed));\n\t\t}\n\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(keyPrefixed));\n\t}\n\n\tclear() {\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n\n\thas(key) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(async () => {\n\t\t\t\tif (typeof store.has === 'function') {\n\t\t\t\t\treturn store.has(keyPrefixed);\n\t\t\t\t}\n\n\t\t\t\tconst value = await store.get(keyPrefixed);\n\t\t\t\treturn value !== undefined;\n\t\t\t});\n\t}\n\n\tdisconnect() {\n\t\tconst {store} = this.opts;\n\t\tif (typeof store.disconnect === 'function') {\n\t\t\treturn store.disconnect();\n\t\t}\n\t}\n}\n\nmodule.exports = Keyv;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 6478;\nmodule.exports = webpackEmptyContext;","'use strict';\nmodule.exports = object => {\n\tconst result = {};\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tresult[key.toLowerCase()] = value;\n\t}\n\n\treturn result;\n};\n","'use strict';\n\n// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProps = [\n\t'destroy',\n\t'setTimeout',\n\t'socket',\n\t'headers',\n\t'trailers',\n\t'rawHeaders',\n\t'statusCode',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'rawTrailers',\n\t'statusMessage'\n];\n\nmodule.exports = (fromStream, toStream) => {\n\tconst fromProps = new Set(Object.keys(fromStream).concat(knownProps));\n\n\tfor (const prop of fromProps) {\n\t\t// Don't overwrite existing properties\n\t\tif (prop in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\ttoStream[prop] = typeof fromStream[prop] === 'function' ? fromStream[prop].bind(fromStream) : fromStream[prop];\n\t}\n};\n","'use strict';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\nconst DATA_URL_DEFAULT_MIME_TYPE = 'text/plain';\nconst DATA_URL_DEFAULT_CHARSET = 'us-ascii';\n\nconst testParameter = (name, filters) => {\n\treturn filters.some(filter => filter instanceof RegExp ? filter.test(name) : filter === name);\n};\n\nconst normalizeDataURL = (urlString, {stripHash}) => {\n\tconst match = /^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(urlString);\n\n\tif (!match) {\n\t\tthrow new Error(`Invalid URL: ${urlString}`);\n\t}\n\n\tlet {type, data, hash} = match.groups;\n\tconst mediaType = type.split(';');\n\thash = stripHash ? '' : hash;\n\n\tlet isBase64 = false;\n\tif (mediaType[mediaType.length - 1] === 'base64') {\n\t\tmediaType.pop();\n\t\tisBase64 = true;\n\t}\n\n\t// Lowercase MIME type\n\tconst mimeType = (mediaType.shift() || '').toLowerCase();\n\tconst attributes = mediaType\n\t\t.map(attribute => {\n\t\t\tlet [key, value = ''] = attribute.split('=').map(string => string.trim());\n\n\t\t\t// Lowercase `charset`\n\t\t\tif (key === 'charset') {\n\t\t\t\tvalue = value.toLowerCase();\n\n\t\t\t\tif (value === DATA_URL_DEFAULT_CHARSET) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn `${key}${value ? `=${value}` : ''}`;\n\t\t})\n\t\t.filter(Boolean);\n\n\tconst normalizedMediaType = [\n\t\t...attributes\n\t];\n\n\tif (isBase64) {\n\t\tnormalizedMediaType.push('base64');\n\t}\n\n\tif (normalizedMediaType.length !== 0 || (mimeType && mimeType !== DATA_URL_DEFAULT_MIME_TYPE)) {\n\t\tnormalizedMediaType.unshift(mimeType);\n\t}\n\n\treturn `data:${normalizedMediaType.join(';')},${isBase64 ? data.trim() : data}${hash ? `#${hash}` : ''}`;\n};\n\nconst normalizeUrl = (urlString, options) => {\n\toptions = {\n\t\tdefaultProtocol: 'http:',\n\t\tnormalizeProtocol: true,\n\t\tforceHttp: false,\n\t\tforceHttps: false,\n\t\tstripAuthentication: true,\n\t\tstripHash: false,\n\t\tstripTextFragment: true,\n\t\tstripWWW: true,\n\t\tremoveQueryParameters: [/^utm_\\w+/i],\n\t\tremoveTrailingSlash: true,\n\t\tremoveSingleSlash: true,\n\t\tremoveDirectoryIndex: false,\n\t\tsortQueryParameters: true,\n\t\t...options\n\t};\n\n\turlString = urlString.trim();\n\n\t// Data URL\n\tif (/^data:/i.test(urlString)) {\n\t\treturn normalizeDataURL(urlString, options);\n\t}\n\n\tif (/^view-source:/i.test(urlString)) {\n\t\tthrow new Error('`view-source:` is not supported as it is a non-standard protocol');\n\t}\n\n\tconst hasRelativeProtocol = urlString.startsWith('//');\n\tconst isRelativeUrl = !hasRelativeProtocol && /^\\.*\\//.test(urlString);\n\n\t// Prepend protocol\n\tif (!isRelativeUrl) {\n\t\turlString = urlString.replace(/^(?!(?:\\w+:)?\\/\\/)|^\\/\\//, options.defaultProtocol);\n\t}\n\n\tconst urlObj = new URL(urlString);\n\n\tif (options.forceHttp && options.forceHttps) {\n\t\tthrow new Error('The `forceHttp` and `forceHttps` options cannot be used together');\n\t}\n\n\tif (options.forceHttp && urlObj.protocol === 'https:') {\n\t\turlObj.protocol = 'http:';\n\t}\n\n\tif (options.forceHttps && urlObj.protocol === 'http:') {\n\t\turlObj.protocol = 'https:';\n\t}\n\n\t// Remove auth\n\tif (options.stripAuthentication) {\n\t\turlObj.username = '';\n\t\turlObj.password = '';\n\t}\n\n\t// Remove hash\n\tif (options.stripHash) {\n\t\turlObj.hash = '';\n\t} else if (options.stripTextFragment) {\n\t\turlObj.hash = urlObj.hash.replace(/#?:~:text.*?$/i, '');\n\t}\n\n\t// Remove duplicate slashes if not preceded by a protocol\n\tif (urlObj.pathname) {\n\t\turlObj.pathname = urlObj.pathname.replace(/(?<!\\b(?:[a-z][a-z\\d+\\-.]{1,50}:))\\/{2,}/g, '/');\n\t}\n\n\t// Decode URI octets\n\tif (urlObj.pathname) {\n\t\ttry {\n\t\t\turlObj.pathname = decodeURI(urlObj.pathname);\n\t\t} catch (_) {}\n\t}\n\n\t// Remove directory index\n\tif (options.removeDirectoryIndex === true) {\n\t\toptions.removeDirectoryIndex = [/^index\\.[a-z]+$/];\n\t}\n\n\tif (Array.isArray(options.removeDirectoryIndex) && options.removeDirectoryIndex.length > 0) {\n\t\tlet pathComponents = urlObj.pathname.split('/');\n\t\tconst lastComponent = pathComponents[pathComponents.length - 1];\n\n\t\tif (testParameter(lastComponent, options.removeDirectoryIndex)) {\n\t\t\tpathComponents = pathComponents.slice(0, pathComponents.length - 1);\n\t\t\turlObj.pathname = pathComponents.slice(1).join('/') + '/';\n\t\t}\n\t}\n\n\tif (urlObj.hostname) {\n\t\t// Remove trailing dot\n\t\turlObj.hostname = urlObj.hostname.replace(/\\.$/, '');\n\n\t\t// Remove `www.`\n\t\tif (options.stripWWW && /^www\\.(?!www\\.)(?:[a-z\\-\\d]{1,63})\\.(?:[a-z.\\-\\d]{2,63})$/.test(urlObj.hostname)) {\n\t\t\t// Each label should be max 63 at length (min: 1).\n\t\t\t// Source: https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\n\t\t\t// Each TLD should be up to 63 characters long (min: 2).\n\t\t\t// It is technically possible to have a single character TLD, but none currently exist.\n\t\t\turlObj.hostname = urlObj.hostname.replace(/^www\\./, '');\n\t\t}\n\t}\n\n\t// Remove query unwanted parameters\n\tif (Array.isArray(options.removeQueryParameters)) {\n\t\tfor (const key of [...urlObj.searchParams.keys()]) {\n\t\t\tif (testParameter(key, options.removeQueryParameters)) {\n\t\t\t\turlObj.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (options.removeQueryParameters === true) {\n\t\turlObj.search = '';\n\t}\n\n\t// Sort query parameters\n\tif (options.sortQueryParameters) {\n\t\turlObj.searchParams.sort();\n\t}\n\n\tif (options.removeTrailingSlash) {\n\t\turlObj.pathname = urlObj.pathname.replace(/\\/$/, '');\n\t}\n\n\tconst oldUrlString = urlString;\n\n\t// Take advantage of many of the Node `url` normalizations\n\turlString = urlObj.toString();\n\n\tif (!options.removeSingleSlash && urlObj.pathname === '/' && !oldUrlString.endsWith('/') && urlObj.hash === '') {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Remove ending `/` unless removeSingleSlash is false\n\tif ((options.removeTrailingSlash || urlObj.pathname === '/') && urlObj.hash === '' && options.removeSingleSlash) {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Restore relative protocol, if applicable\n\tif (hasRelativeProtocol && !options.normalizeProtocol) {\n\t\turlString = urlString.replace(/^http:\\/\\//, '//');\n\t}\n\n\t// Remove http/https\n\tif (options.stripProtocol) {\n\t\turlString = urlString.replace(/^(?:https?:)?\\/\\//, '');\n\t}\n\n\treturn urlString;\n};\n\nmodule.exports = normalizeUrl;\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","'use strict';\n\nclass CancelError extends Error {\n\tconstructor(reason) {\n\t\tsuper(reason || 'Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n\n\tget isCanceled() {\n\t\treturn true;\n\t}\n}\n\nclass PCancelable {\n\tstatic fn(userFn) {\n\t\treturn (...arguments_) => {\n\t\t\treturn new PCancelable((resolve, reject, onCancel) => {\n\t\t\t\targuments_.push(onCancel);\n\t\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\t\tuserFn(...arguments_).then(resolve, reject);\n\t\t\t});\n\t\t};\n\t}\n\n\tconstructor(executor) {\n\t\tthis._cancelHandlers = [];\n\t\tthis._isPending = true;\n\t\tthis._isCanceled = false;\n\t\tthis._rejectOnCancel = true;\n\n\t\tthis._promise = new Promise((resolve, reject) => {\n\t\t\tthis._reject = reject;\n\n\t\t\tconst onResolve = value => {\n\t\t\t\tif (!this._isCanceled || !onCancel.shouldReject) {\n\t\t\t\t\tthis._isPending = false;\n\t\t\t\t\tresolve(value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onReject = error => {\n\t\t\t\tthis._isPending = false;\n\t\t\t\treject(error);\n\t\t\t};\n\n\t\t\tconst onCancel = handler => {\n\t\t\t\tif (!this._isPending) {\n\t\t\t\t\tthrow new Error('The `onCancel` handler was attached after the promise settled.');\n\t\t\t\t}\n\n\t\t\t\tthis._cancelHandlers.push(handler);\n\t\t\t};\n\n\t\t\tObject.defineProperties(onCancel, {\n\t\t\t\tshouldReject: {\n\t\t\t\t\tget: () => this._rejectOnCancel,\n\t\t\t\t\tset: boolean => {\n\t\t\t\t\t\tthis._rejectOnCancel = boolean;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn executor(onResolve, onReject, onCancel);\n\t\t});\n\t}\n\n\tthen(onFulfilled, onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.then(onFulfilled, onRejected);\n\t}\n\n\tcatch(onRejected) {\n\t\treturn this._promise.catch(onRejected);\n\t}\n\n\tfinally(onFinally) {\n\t\treturn this._promise.finally(onFinally);\n\t}\n\n\tcancel(reason) {\n\t\tif (!this._isPending || this._isCanceled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isCanceled = true;\n\n\t\tif (this._cancelHandlers.length > 0) {\n\t\t\ttry {\n\t\t\t\tfor (const handler of this._cancelHandlers) {\n\t\t\t\t\thandler();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis._reject(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this._rejectOnCancel) {\n\t\t\tthis._reject(new CancelError(reason));\n\t\t}\n\t}\n\n\tget isCanceled() {\n\t\treturn this._isCanceled;\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n\nmodule.exports = PCancelable;\nmodule.exports.CancelError = CancelError;\n","var once = require('once')\nvar eos = require('end-of-stream')\nvar fs = require('fs') // we only need fs to get the ReadStream and WriteStream prototypes\n\nvar noop = function () {}\nvar ancient = /^v?\\.0/.test(process.version)\n\nvar isFn = function (fn) {\n  return typeof fn === 'function'\n}\n\nvar isFS = function (stream) {\n  if (!ancient) return false // newer node version do not need to care about fs is a special way\n  if (!fs) return false // browser\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close)\n}\n\nvar isRequest = function (stream) {\n  return stream.setHeader && isFn(stream.abort)\n}\n\nvar destroyer = function (stream, reading, writing, callback) {\n  callback = once(callback)\n\n  var closed = false\n  stream.on('close', function () {\n    closed = true\n  })\n\n  eos(stream, {readable: reading, writable: writing}, function (err) {\n    if (err) return callback(err)\n    closed = true\n    callback()\n  })\n\n  var destroyed = false\n  return function (err) {\n    if (closed) return\n    if (destroyed) return\n    destroyed = true\n\n    if (isFS(stream)) return stream.close(noop) // use close for fs streams to avoid fd leaks\n    if (isRequest(stream)) return stream.abort() // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy()\n\n    callback(err || new Error('stream was destroyed'))\n  }\n}\n\nvar call = function (fn) {\n  fn()\n}\n\nvar pipe = function (from, to) {\n  return from.pipe(to)\n}\n\nvar pump = function () {\n  var streams = Array.prototype.slice.call(arguments)\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop\n\n  if (Array.isArray(streams[0])) streams = streams[0]\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum')\n\n  var error\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1\n    var writing = i > 0\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err\n      if (err) destroys.forEach(call)\n      if (reading) return\n      destroys.forEach(call)\n      callback(error)\n    })\n  })\n\n  return streams.reduce(pipe)\n}\n\nmodule.exports = pump\n","'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tfor (const [key, value] of this.oldCache.entries()) {\n\t\t\t\t\tthis.onEviction(key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n}\n\nmodule.exports = QuickLRU;\n","'use strict';\nconst tls = require('tls');\n\nmodule.exports = (options = {}, connect = tls.connect) => new Promise((resolve, reject) => {\n\tlet timeout = false;\n\n\tlet socket;\n\n\tconst callback = async () => {\n\t\tawait socketPromise;\n\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('error', reject);\n\n\t\tif (options.resolveSocket) {\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, socket, timeout});\n\n\t\t\tif (timeout) {\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tsocket.emit('timeout');\n\t\t\t}\n\t\t} else {\n\t\t\tsocket.destroy();\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, timeout});\n\t\t}\n\t};\n\n\tconst onTimeout = async () => {\n\t\ttimeout = true;\n\t\tcallback();\n\t};\n\n\tconst socketPromise = (async () => {\n\t\ttry {\n\t\t\tsocket = await connect(options, callback);\n\n\t\t\tsocket.on('error', reject);\n\t\t\tsocket.once('timeout', onTimeout);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t})();\n});\n","'use strict';\n\nconst Readable = require('stream').Readable;\nconst lowercaseKeys = require('lowercase-keys');\n\nclass Response extends Readable {\n\tconstructor(statusCode, headers, body, url) {\n\t\tif (typeof statusCode !== 'number') {\n\t\t\tthrow new TypeError('Argument `statusCode` should be a number');\n\t\t}\n\t\tif (typeof headers !== 'object') {\n\t\t\tthrow new TypeError('Argument `headers` should be an object');\n\t\t}\n\t\tif (!(body instanceof Buffer)) {\n\t\t\tthrow new TypeError('Argument `body` should be a buffer');\n\t\t}\n\t\tif (typeof url !== 'string') {\n\t\t\tthrow new TypeError('Argument `url` should be a string');\n\t\t}\n\n\t\tsuper();\n\t\tthis.statusCode = statusCode;\n\t\tthis.headers = lowercaseKeys(headers);\n\t\tthis.body = body;\n\t\tthis.url = url;\n\t}\n\n\t_read() {\n\t\tthis.push(this.body);\n\t\tthis.push(null);\n\t}\n}\n\nmodule.exports = Response;\n","const hexRegex = /^[-+]?0x[a-fA-F0-9]+$/;\nconst numRegex = /^([\\-\\+])?(0*)(\\.[0-9]+([eE]\\-?[0-9]+)?|[0-9]+(\\.[0-9]+([eE]\\-?[0-9]+)?)?)$/;\n// const octRegex = /0x[a-z0-9]+/;\n// const binRegex = /0x[a-z0-9]+/;\n\n\n//polyfill\nif (!Number.parseInt && window.parseInt) {\n    Number.parseInt = window.parseInt;\n}\nif (!Number.parseFloat && window.parseFloat) {\n    Number.parseFloat = window.parseFloat;\n}\n\n  \nconst consider = {\n    hex :  true,\n    leadingZeros: true,\n    decimalPoint: \"\\.\",\n    eNotation: true\n    //skipLike: /regex/\n};\n\nfunction toNumber(str, options = {}){\n    // const options = Object.assign({}, consider);\n    // if(opt.leadingZeros === false){\n    //     options.leadingZeros = false;\n    // }else if(opt.hex === false){\n    //     options.hex = false;\n    // }\n\n    options = Object.assign({}, consider, options );\n    if(!str || typeof str !== \"string\" ) return str;\n    \n    let trimmedStr  = str.trim();\n    // if(trimmedStr === \"0.0\") return 0;\n    // else if(trimmedStr === \"+0.0\") return 0;\n    // else if(trimmedStr === \"-0.0\") return -0;\n\n    if(options.skipLike !== undefined && options.skipLike.test(trimmedStr)) return str;\n    else if (options.hex && hexRegex.test(trimmedStr)) {\n        return Number.parseInt(trimmedStr, 16);\n    // } else if (options.parseOct && octRegex.test(str)) {\n    //     return Number.parseInt(val, 8);\n    // }else if (options.parseBin && binRegex.test(str)) {\n    //     return Number.parseInt(val, 2);\n    }else{\n        //separate negative sign, leading zeros, and rest number\n        const match = numRegex.exec(trimmedStr);\n        if(match){\n            const sign = match[1];\n            const leadingZeros = match[2];\n            let numTrimmedByZeros = trimZeros(match[3]); //complete num without leading zeros\n            //trim ending zeros for floating number\n            \n            const eNotation = match[4] || match[6];\n            if(!options.leadingZeros && leadingZeros.length > 0 && sign && trimmedStr[2] !== \".\") return str; //-0123\n            else if(!options.leadingZeros && leadingZeros.length > 0 && !sign && trimmedStr[1] !== \".\") return str; //0123\n            else{//no leading zeros or leading zeros are allowed\n                const num = Number(trimmedStr);\n                const numStr = \"\" + num;\n                if(numStr.search(/[eE]/) !== -1){ //given number is long and parsed to eNotation\n                    if(options.eNotation) return num;\n                    else return str;\n                }else if(eNotation){ //given number has enotation\n                    if(options.eNotation) return num;\n                    else return str;\n                }else if(trimmedStr.indexOf(\".\") !== -1){ //floating number\n                    // const decimalPart = match[5].substr(1);\n                    // const intPart = trimmedStr.substr(0,trimmedStr.indexOf(\".\"));\n\n                    \n                    // const p = numStr.indexOf(\".\");\n                    // const givenIntPart = numStr.substr(0,p);\n                    // const givenDecPart = numStr.substr(p+1);\n                    if(numStr === \"0\" && (numTrimmedByZeros === \"\") ) return num; //0.0\n                    else if(numStr === numTrimmedByZeros) return num; //0.456. 0.79000\n                    else if( sign && numStr === \"-\"+numTrimmedByZeros) return num;\n                    else return str;\n                }\n                \n                if(leadingZeros){\n                    // if(numTrimmedByZeros === numStr){\n                    //     if(options.leadingZeros) return num;\n                    //     else return str;\n                    // }else return str;\n                    if(numTrimmedByZeros === numStr) return num;\n                    else if(sign+numTrimmedByZeros === numStr) return num;\n                    else return str;\n                }\n\n                if(trimmedStr === numStr) return num;\n                else if(trimmedStr === sign+numStr) return num;\n                // else{\n                //     //number with +/- sign\n                //     trimmedStr.test(/[-+][0-9]);\n\n                // }\n                return str;\n            }\n            // else if(!eNotation && trimmedStr && trimmedStr !== Number(trimmedStr) ) return str;\n            \n        }else{ //non-numeric string\n            return str;\n        }\n    }\n}\n\n/**\n * \n * @param {string} numStr without leading zeros\n * @returns \n */\nfunction trimZeros(numStr){\n    if(numStr && numStr.indexOf(\".\") !== -1){//float\n        numStr = numStr.replace(/0+$/, \"\"); //remove ending zeros\n        if(numStr === \".\")  numStr = \"0\";\n        else if(numStr[0] === \".\")  numStr = \"0\"+numStr;\n        else if(numStr[numStr.length-1] === \".\")  numStr = numStr.substr(0,numStr.length-1);\n        return numStr;\n    }\n    return numStr;\n}\nmodule.exports = toNumber\n","import * as vscode from \"vscode\";\r\n\r\nimport { multiTranslate } from \"../lang/scripts/handleProvider\";\r\n\r\nimport { MET } from \"bing-translate-api\";\r\n\r\n/**\r\n * @{string}.text\r\n * @{boolean}.enable\r\n * @{boolean}.sourceString\r\n */\r\n\r\nvar config: any = vscode.workspace.getConfiguration(\"amt.Comment\");\r\n\r\nvscode.workspace.onDidChangeConfiguration(e => {\r\n\tif (e.affectsConfiguration(\"amt.Comment\")) {\r\n\t\tconfig = vscode.workspace.getConfiguration(\"amt.Comment\");\r\n\t}\r\n});\r\n\r\nfunction addComments(CommentObject: any, _Text: string): void {\r\n\tif (typeof CommentObject.comment == \"undefined\" && (config.enable || config.sourceString)) {\r\n\t\tCommentObject.comment = [];\r\n\t}\r\n\tif (config.enable) {\r\n\t\tCommentObject.comment.push(config.text);\r\n\t}\r\n\tif (config.sourceString) {\r\n\t\tCommentObject.comment.push(_Text);\r\n\t}\r\n}\r\n\r\nfunction doTranslate(_object: any, _text: string): any {}\r\n\r\ninterface ModOp {\r\n\tText: string | Array<any>;\r\n\tcomment: string[];\r\n\t[key: string]: any;\r\n}\r\n\r\ninterface ModOpsContainer {\r\n\tModOps: {\r\n\t\tModOp: ModOp[];\r\n\t};\r\n\t[key: string]: any;\r\n}\r\n\r\nexport async function TextsTranslation(pXML: ModOpsContainer, loca: string[]): Promise<any> {\r\n\tlet _pXML: { [key: string]: ModOpsContainer } = {};\r\n\tloca.forEach(el => (_pXML[el] = structuredClone(pXML)));\r\n\tif (Array.isArray(pXML.ModOps)) {\r\n\t\tconsole.error(\"Multiple ModOps detected! This is not working, and will not be translated!\");\r\n\t\treturn \"\";\r\n\t} else {\r\n\t\tif (Array.isArray(pXML.ModOps.ModOp)) {\r\n\t\t\tfor (let [key, value] of Object.entries(pXML.ModOps.ModOp)) {\r\n\t\t\t\tswitch (typeof value.Text) {\r\n\t\t\t\t\tcase \"string\": {\r\n\t\t\t\t\t\tconsole.log(\"Translating: \" + value.Text.substring(0, 20));\r\n\t\t\t\t\t\tif (value.Text.length == 0) {\r\n\t\t\t\t\t\t\tconsole.error(\"Empty Text detected skipping!\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet _get = await multiTranslate(value.Text, loca);\r\n\t\t\t\t\t\t\tfor (var [_key, _var] of Object.entries(_get)) {\r\n\t\t\t\t\t\t\t\tif (_pXML[_key].ModOps.ModOp[parseInt(key)].Text != _var) {\r\n\t\t\t\t\t\t\t\t\t_pXML[_key].ModOps.ModOp[parseInt(key)].Text = _var as string;\r\n\t\t\t\t\t\t\t\t\t//_pXML[_get[0].translations[i].to].ModOps.ModOp[parseInt(key)].comment.push(optComm);\r\n\t\t\t\t\t\t\t\t\taddComments(_pXML[_key].ModOps.ModOp[parseInt(key)].Text, value.Text);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase \"object\": {\r\n\t\t\t\t\t\tvalue.Text = Array.isArray(value.Text) ? value.Text : [value.Text];\r\n\t\t\t\t\t\tfor (let _TextIndex in value.Text) {\r\n\t\t\t\t\t\t\tconsole.log(\"Translating: \" + value.Text[_TextIndex].Text.substring(0, 20));\r\n\t\t\t\t\t\t\tif (value.Text[_TextIndex].Text.length == 0) {\r\n\t\t\t\t\t\t\t\tconsole.error(\"Empty Text detected skipping!\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar _get: any = await multiTranslate(value.Text[_TextIndex].Text, loca);\r\n\t\t\t\t\t\t\t\tfor (var [_key, _var] of Object.entries(_get)) {\r\n\t\t\t\t\t\t\t\t\tif (_pXML[_key].ModOps.ModOp[parseInt(key)].Text[parseInt(_TextIndex)].Text != _var) {\r\n\t\t\t\t\t\t\t\t\t\t_pXML[_key].ModOps.ModOp[parseInt(key)].Text[parseInt(_TextIndex)].Text = _var;\r\n\t\t\t\t\t\t\t\t\t\taddComments(\r\n\t\t\t\t\t\t\t\t\t\t\t_pXML[_key].ModOps.ModOp[parseInt(key)].Text[parseInt(_TextIndex)],\r\n\t\t\t\t\t\t\t\t\t\t\t_key+\": \"+value.Text[_TextIndex].Text\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error(\"nothing\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.error(\"no array\");\r\n\t\t}\r\n\t}\r\n\treturn _pXML;\r\n}\r\n","import { writeFile, writeFileSync, readFileSync, readdirSync } from \"node:fs\";\r\nimport { XMLParser, XMLBuilder } from \"fast-xml-parser\";\r\n\r\nconst parserOptions = {\r\n    attributeNamePrefix: \"@@\",\r\n    ignoreAttributes: false,\r\n    commentPropName: \"comment\",\r\n    format: true,\r\n    isArray: (tagName: string, jpath: string, isLeafNode :boolean) => {\r\n        if (tagName == \"ModOp\") return true;\r\n        if (tagName == \"comment\") return true;\r\n        if (tagName == \"Text\" && isLeafNode == false) return true;\r\n    },\r\n    tagValueProcessor: (tagName: string, tagValue: string) => {\r\n        if (tagName == \"Text\") {\r\n            var str = tagValue.replaceAll(/\\[(.*?)\\](?!\\))/gi, \"<div class='notranslate'>$1</div>\");\r\n            return str;\r\n        }\r\n        return tagValue;\r\n    }\r\n};\r\n\r\nexport async function readXML(filePath: string): Promise<any> {\r\n\tconst parser = new XMLParser(parserOptions);\r\n\tif (filePath.endsWith(\".xml\")) {\r\n\t\tconst loadedXML = readFileSync(filePath, \"utf-8\");\r\n\t\tlet parsedXML = await parser.parse(loadedXML);\r\n\t\treturn await parsedXML;\r\n\t} else {\r\n\t\tconsole.error(\"Not a XML you donkey!\");\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nconst builderOptions = {\r\n    attributeNamePrefix: \"@@\",\r\n    ignoreAttributes: false,\r\n    commentPropName: \"comment\",\r\n    format: true\r\n};\r\n\r\nexport async function writeXML(filePath: string, pXML: any): Promise<boolean> {\r\n\tconst builder = new XMLBuilder(builderOptions);\r\n\tconst xmlOutput = builder\r\n\t\t.build(pXML)\r\n\t\t.replaceAll(\"&apos;\", \"'\")\r\n\t\t.replaceAll(\"&quot;\", '\"')\r\n\t\t.replaceAll(\"&lt;div class='notranslate'&gt;\", \"[\")\r\n\t\t.replaceAll(\"&lt;/div&gt;\", \"]\");\r\n\twriteFileSync(filePath, xmlOutput);\r\n\treturn true;\r\n}\r\n\r\nexport function readDir(filePath: string): string[] {\r\n\treturn readdirSync(filePath.substring(0, filePath.lastIndexOf(\"\\\\\") + 1));\r\n}\r\n","// written languages\r\nconst aLn: { [key: string]: string } = {\r\n\tchinese: \"zh-Hans\",\r\n\tenglish: \"en\",\r\n\tfrench: \"fr\",\r\n\tgerman: \"de\",\r\n\titalian: \"it\",\r\n\tjapanese: \"ja\",\r\n\tkorean: \"ko\",\r\n\tpolish: \"pl\",\r\n\trussian: \"ru\",\r\n\tspanish: \"es\",\r\n\ttaiwanese: \"zh-Hant\"\r\n};\r\n\r\nexport default aLn;\r\n\r\n// spoken languages\r\nconst SaLn: { [key: string]: string } = {\r\n\tenglish: \"en\",\r\n\tgerman: \"de\",\r\n\tfrench: \"fr\",\r\n\trussian: \"ru\"\r\n};\r\n","interface translateOptions {\r\n\ttextType: any;\r\n}\r\n\r\nexport const options: translateOptions = {\r\n\ttextType: \"html\"\r\n};\r\n","import * as vscode from \"vscode\";\r\nimport * as bt from \"bing-translate-api\";\r\n\r\nconst options = require(\"./bingConfig\");\r\n\r\nimport * as visual from \"../../../message/messageHandler\";\r\n\r\n/**\r\n * To translate single entitity\r\n *\r\n * @param {string} TranslateText content to be translated\r\n * @param {string} TranslateTo target language code. `en` by default.\r\n * @param {string} TranslateFrom source language code. `auto-detect` by default.\r\n *\r\n * @returns {Promise<string | undefined>}\r\n */\r\n\r\nexport async function singleTranslate(TranslateText: string, TranslateTo: string, TranslateFrom?: string | null): Promise<string> {\r\n\ttry {\r\n\t\tconsole.log(TranslateText, TranslateFrom, TranslateTo);\r\n\t\tvar res = bt.translate(TranslateText, TranslateFrom, TranslateTo);\r\n\t\treturn (await res).translation;\r\n\t} catch (err) {\r\n\t\tconsole.error(\"Caught error in machinetranslation of \" + TranslateText + \" due to unknown reason (testinternet related).\");\r\n\t\tvscode.window.showErrorMessage(\"Caught error with translation of: \" + TranslateText);\r\n\t\treturn TranslateText;\r\n\t}\r\n}\r\n\r\n/**\r\n * To translate single entitity\r\n *\r\n * @param {string} TranslateText content to be translated\r\n * @param {string[]} TranslateTo target language code. `en` by default.\r\n * @param {string} TranslateFrom source language code. `auto-detect` by default.\r\n *\r\n * @returns {Promise<string | undefined>}\r\n */\r\n\r\nexport async function multiTranslate(\r\n\tTranslateText: string,\r\n\tTranslateTo: string[],\r\n\tTranslateFrom?: string | null\r\n): Promise<{ [key: string]: string }> {\r\n\ttry {\r\n\t\tconst res = await bt.MET.translate(TranslateText, TranslateFrom, TranslateTo, options);\r\n\t\tvar _text: { [key: string]: string } = {};\r\n\t\tfor (const [Lang, Text] of Object.entries(res[0].translations)) {\r\n\t\t\t_text[Text.to] = Text.text;\r\n\t\t}\r\n\t\treturn _text;\r\n\t} catch (err) {\r\n\t\tvisual.visualError(TranslateText+\"test\");\r\n\t}\r\n}\r\n","import LTSMirrors from \"./libreConfig\";\r\n\r\ninterface translationResult {\r\n\tdetectedLanguage: {\r\n\t\tconfidence: number;\r\n\t\tlanguage: string;\r\n\t};\r\n\ttranslatedText: string;\r\n}\r\n\r\n/**\r\n * To translate\r\n *\r\n * @param {string} TranslateText content to be translated\r\n * @param {string} TranslateFrom source language code. `auto-detect` by default.\r\n * @param {string} TranslateTo target language code. `en` by default.\r\n *\r\n * @returns Promise<string | undefined>\r\n */\r\n\r\nexport async function singleTranslate(TranslateText: string, TranslateTo: string, TranslateFrom: string = \"auto\"): Promise<string | undefined> {\r\n\tfor await (let _URL of LTSMirrors) {\r\n\t\tconst res: translationResult = await fetch(_URL, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tq: TranslateText,\r\n\t\t\t\tsource: TranslateFrom,\r\n\t\t\t\ttarget: TranslateTo, //TranslateTo,\r\n\t\t\t\tformat: \"html\"\r\n\t\t\t}),\r\n\t\t\theaders: { \"Content-Type\": \"application/json\" }\r\n\t\t}).then(res => res.json() as Promise<translationResult>);\r\n\t\treturn res?.translatedText;\r\n\t}\r\n\tthrow new Error(\"All libreTranslate mirrors failed. Please try again later.\");\r\n}\r\n\r\n/**\r\n * To translate\r\n *\r\n * @param {string} TranslateText content to be translated\r\n * @param {string} TranslateFrom source language code. `auto-detect` by default.\r\n * @param {string[]} TranslateTo target language code. `en` by default.\r\n *\r\n * @returns Promise<string | undefined>\r\n */\r\n\r\nexport async function multiTranslate(TranslateText: string, TranslateTo: string[], TranslateFrom: string = \"auto\"): Promise<string | undefined> {\r\n\tfor await (let _URL of LTSMirrors) {\r\n\t\tconst res: translationResult = await fetch(_URL, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tq: TranslateText,\r\n\t\t\t\tsource: TranslateFrom,\r\n\t\t\t\ttarget: [\"en\", \"ru\"], //TranslateTo,\r\n\t\t\t\tformat: \"html\"\r\n\t\t\t}),\r\n\t\t\theaders: { \"Content-Type\": \"application/json\" }\r\n\t\t}).then(res => res.json() as Promise<translationResult>);\r\n\t\treturn res?.translatedText;\r\n\t}\r\n\tthrow new Error(\"All libreTranslate mirrors failed. Please try again later.\");\r\n}\r\n","const LTSMirrors = [\r\n    //\"https://libretranslate.com/translate\", no free api\r\n    \"https://translate.terraprint.co/translate\",\r\n    \"https://trans.zillyhuhn.com/translate\",\r\n    \"https://translate.lotigara.ru/\"\r\n]\r\n\r\nexport default LTSMirrors","import * as vscode from \"vscode\";\r\n\r\nimport aLn from \"../config/AnnoLanguages\";\r\nimport * as libreTranslate from \"./Libre/LibreProvider\";\r\nimport * as bingTranslate from \"./Bing/bingProvider\";\r\nimport * as wiki from \"./wiktionary/wiktionaryProvider\";\r\nimport * as googleTranslate from './Google/googleProvider'\r\n\r\nimport * as visual from \"../../message/messageHandler\";\r\n\r\n/**\r\n * @{string} .Lang  // _short\r\n * @{string} .Provider //BingTranslate, LibreTranslate, GoogleTranslate\r\n */\r\n\r\nvar config: any = vscode.workspace.getConfiguration(\"amt.Translation\");\r\n\r\nvscode.workspace.onDidChangeConfiguration(e => {\r\n\tif (e.affectsConfiguration(\"amt.Translation\")) {\r\n\t\tconfig = vscode.workspace.getConfiguration(\"amt.Translation\");\r\n\t}\r\n});\r\n\r\ninterface Translation {\r\n\tto: string;\r\n\ttext: string;\r\n}\r\n\r\ninterface Response {\r\n\ttranslations?: Translation[];\r\n}\r\n\r\n/**\r\n * To translate single entitity\r\n *\r\n * @param {string} TranslateText content to be translated\r\n * @param {string} TranslateTo target language code. `en` by default.\r\n * @param {string} TranslateFrom source language code. `auto-detect` by default.\r\n *\r\n * @returns {Promise<string | undefined>}\r\n */\r\n\r\nexport async function singleTranslate(\r\n\tTranslateText: string,\r\n\tTranslateTo: string = config.Lang,\r\n\tTranslateFrom: string = null\r\n): Promise<string | undefined> {\r\n\ttry {\r\n\t\tif (config.Provider == \"BingTranslate\") {\r\n\t\t\tvar res = bingTranslate.singleTranslate(TranslateText, TranslateTo, TranslateFrom);\r\n\t\t} else {\r\n\t\t\tvar res = libreTranslate.singleTranslate(TranslateText, TranslateTo, TranslateFrom);\r\n\t\t}\r\n\t\treturn await res;\r\n\t} catch (err) {\r\n\t\tvisual.visualError(TranslateText);\r\n\t\treturn TranslateText;\r\n\t}\r\n}\r\n\r\n/**\r\n * To translate single entitity\r\n *\r\n * @param {string} TranslateText content to be translated\r\n * @param {string[]} TranslateTo target language code. `en` by default.\r\n * @param {string} TranslateFrom source language code. `auto-detect` by default.\r\n *\r\n * @returns {Promise<string | undefined>}\r\n */\r\n\r\nexport async function multiTranslate(\r\n\tTranslateText: string,\r\n\tTranslateTo: string[] = [config.Lang],\r\n\tTranslateFrom: string = \"auto\"\r\n): Promise<any | undefined> {\r\n\ttry {\r\n\t\tvar res: Response = await bingTranslate.multiTranslate(TranslateText, TranslateTo, TranslateFrom);\r\n\t\t//var _text: { [key: string]: string } = {};\r\n\t\t//for (const [Lang, Text] of Object.entries(res.translations)) _text[Text.to as string] = Text.text as string;\r\n\t\t//console.log(\"text provider multi\", res);\r\n\t\t//let _res = Array.isArray(res) ? res : [res]\r\n\t\treturn res;\r\n\t} catch (err) {\r\n\t\tvisual.visualError(TranslateText+\"test2\");\r\n\t}\r\n}\r\n\r\n/**\r\n * To translate single entitity\r\n *\r\n * @param {string[]} TranslateText content to be translated\r\n * @param {string} TranslateTo target language code. `en` by default.\r\n * @param {string} TranslateFrom source language code. `auto-detect` by default.\r\n *\r\n * @returns {Promise<string[] | undefined>}\r\n */\r\n\r\nexport async function multiTextTranslate(\r\n\tTranslateText: string[],\r\n\tTranslateTo: string = config.Lang,\r\n\tTranslateFrom: string = \"auto\"\r\n): Promise<string[] | undefined> {\r\n\treturn [];\r\n}\r\n\r\n/**\r\n * To translate single entitity\r\n *\r\n * @param {string[]} Languages content to be translated\r\n *\r\n * @returns {Promise<string[]>}\r\n */\r\n\r\nexport function getCurrentShorts(Languages: string[]): string[] {\r\n\tvar aLn_List = [];\r\n\tfor (const [key, value] of Object.entries(aLn)) {\r\n\t\taLn_List.push(key);\r\n\t}\r\n\treturn aLn_List;\r\n}\r\n\r\n/**\r\n * To translate single entitity\r\n *\r\n * @param {string[]} Languages content to be translated\r\n *\r\n * @returns {Promise<string[]>}\r\n */\r\n\r\nexport function getMissingShorts(Languages: string[]): string[] {\r\n\tlet _res: string[] = [];\r\n\tfor (const item in aLn)\r\n\t\tif (Languages.indexOf(item) < 0) {\r\n\t\t\t_res.push(item);\r\n\t\t}\r\n\t//let _res = aLn.filter( (item : string) => Languages.indexOf(item) < 0);\r\n\treturn _res;\r\n}\r\n/* \r\nexport function getALanguages(filePath: string, aLn: { [key: string]: string }): string[][] {\r\n\tlet _cLang: string[] = [];\r\n\tfor (const i of readDir(filePath)) {\r\n\t\t_cLang.push(i.match(\"texts_(.*).xml\")[1]);\r\n\t}\r\n\tlet _mLang = getMLanguages(_cLang, getCLanguages(aLn));\r\n\treturn [_cLang, _mLang];\r\n} */\r\n","import { window } from \"vscode\";\r\n\r\nexport function visualError(Message: string): void {\r\n\tconsole.error(\"Caught error in machinetranslation of \" + Message + \" due to unknown reason (internet related).\");\r\n\twindow.showErrorMessage(\"Caught error with translation of: \" + Message);\r\n}\r\n\r\nexport function visualWarn(Message: string): void {\r\n\twindow.showWarningMessage(\"Caught error with translation of: \" + Message);\r\n}\r\n\r\nexport function visualMessage(Message: string): void {\r\n\twindow.showInformationMessage(Message);\r\n}","import * as vscode from \"vscode\";\r\nimport { ModInfo } from \"./modinfo\";\r\nimport { _singleFile } from \"./singleFile\";\r\nimport { _multiFile } from \"./multiFile\";\r\n\r\nasync function testingStuff(_uri: vscode.Uri) {\r\n\tconsole.log(\"testingStuff\");\r\n\tconsole.log(\"uri\", _uri.fsPath);\r\n}\r\n\r\nasync function modInfo(uri: vscode.Uri) {\r\n\tconst jsonPath = (uri ?? vscode.window.activeTextEditor.document.uri).fsPath;\r\n\tawait ModInfo(jsonPath);\r\n}\r\n\r\nasync function singleFile(uri: vscode.Uri) {\r\n\tconst xmlPath = (uri ?? vscode.window.activeTextEditor.document.uri).fsPath;\r\n\tawait _singleFile(xmlPath);\r\n}\r\n\r\nasync function multiFile(uri: vscode.Uri) {\r\n\tconst xmlPath = (uri ?? vscode.window.activeTextEditor.document.uri).fsPath;\r\n\tawait _multiFile(xmlPath);\r\n}\r\n\r\nasync function Inplace() {\r\n\tconst mSel = vscode.window.activeTextEditor.selection;\r\n\tif (mSel) {\r\n\t\tconsole.log(vscode.window.activeTextEditor.document.getText(mSel));\r\n\t} else {\r\n\t\tvscode.window.showErrorMessage(\"Nothing selected to translate!\");\r\n\t}\r\n}\r\n\r\nexport { testingStuff, singleFile, multiFile, modInfo, Inplace };\r\n","import * as vscode from \"vscode\";\r\nimport { readFileSync, writeFile } from \"fs\";\r\nimport { singleTranslate } from \"../../lang/scripts/handleProvider\";\r\nimport aLn from \"../../lang/config/AnnoLanguages\";\r\n\r\nfunction readJson(filePath: string): any {\r\n\tif (filePath.endsWith(\".json\")) {\r\n\t\tconst loadedJSON = readFileSync(filePath, \"utf-8\");\r\n\t\treturn JSON.parse(loadedJSON);\r\n\t} else {\r\n\t\tconsole.error(\"Not a JSON you donkey!\");\r\n\t\treturn {};\r\n\t}\r\n}\r\n\r\nfunction writeJSON(filePath: string, pJson: any) {\r\n\tconst data = new Uint8Array(Buffer.from(JSON.stringify(pJson, null, \"\\t\")));\r\n\twriteFile(filePath, data, err => {\r\n\t\tif (err) throw err;\r\n\t\tvscode.window.showInformationMessage(\"File has been saved!\");\r\n\t});\r\n}\r\n\r\nexport async function ModInfo(filePath: string): Promise<any> {\r\n\tconst pJson = await readJson(filePath);\r\n\tconst modinfoCategory: string[] = [\"Category\", \"ModName\", \"Description\", \"KnownIssues\"];\r\n\t//console.log(pJson, modinfoCategory);\r\n\t// .Category .ModName .Description\r\n\tawait vscode.window.withProgress(\r\n\t\t{\r\n\t\t\tlocation: vscode.ProgressLocation.Notification,\r\n\t\t\ttitle: \"Translation in progress\",\r\n\t\t\tcancellable: false\r\n\t\t},\r\n\t\tasync (progress, token) => {\r\n\t\t\tvar i: number = 0;\r\n\t\t\tprogress.report({\r\n\t\t\t\tmessage: `${Math.trunc((i / 4) * 100)}%`,\r\n\t\t\t\tincrement: 0\r\n\t\t\t});\r\n\t\t\tfor (let jsonCat of modinfoCategory) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (const [key, value] of Object.entries(pJson[jsonCat])) {\r\n\t\t\t\t\t\tif (value !== null) {\r\n\t\t\t\t\t\t\tpJson[jsonCat][key] = await singleTranslate(value as string, aLn[key.toLowerCase()]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch {console.log(\"Category '\"+jsonCat+\"' not found, continue.\")}\r\n\t\t\t\ti++;\r\n\t\t\t\tprogress.report({\r\n\t\t\t\t\tmessage: `${Math.trunc((i / 4) * 100)}%`,\r\n\t\t\t\t\tincrement: 100 / 4\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\twriteJSON(filePath, pJson);\r\n\tvscode.window.showInformationMessage(\"modinfo.json translated, check new values manually\");\r\n}\r\n","import * as vscode from \"vscode\";\r\nimport { readXML, writeXML, readDir } from \"../../files/ioxml\";\r\nimport { getCurrentShorts, getMissingShorts } from \"../../lang/scripts/handleProvider\";\r\nimport aLn from \"../../lang/config/AnnoLanguages\";\r\n\r\nimport { TextsTranslation } from \"../../Component/modOp\";\r\n\r\nexport async function _multiFile(filePath: string): Promise<void> {\r\n\tlet _get: any;\r\n\tconst loca = filePath.match(\"texts_(.*).xml\")[1]; // current language\r\n\tif (typeof loca !== \"string\") {\r\n\t\tconsole.error(\"donkey\");\r\n\t\treturn;\r\n\t}\r\n\tconst pXML = await readXML(filePath);\r\n\r\n\tconst diffLang = await vscode.window\r\n\t\t.showInformationMessage(\"Do you want to recreate ALL other languages extept for \" + loca + \" ?\", \"Yes\", \"No\")\r\n\t\t.then(answer => {\r\n\t\t\tif (answer === \"Yes\") {\r\n\t\t\t\t// ignore all get full diff\r\n\t\t\t\treturn getMissingShorts([loca]);\r\n\t\t\t} else {\r\n\t\t\t\tvar _cLang: string[] = [];\r\n\t\t\t\tfor (const i of readDir(filePath)) {\r\n\t\t\t\t\t_cLang.push(i.match(\"texts_(.*).xml\")[1]);\r\n\t\t\t\t}\r\n\t\t\t\treturn getMissingShorts(_cLang);\r\n\t\t\t}\r\n\t\t});\r\n\tlet config = vscode.workspace.getConfiguration(\"anno-modding-translator.defaultComment\");\r\n\tawait vscode.window.withProgress(\r\n\t\t{\r\n\t\t\tlocation: vscode.ProgressLocation.Notification,\r\n\t\t\ttitle: \"Translation in progress...\",\r\n\t\t\tcancellable: false\r\n\t\t},\r\n\t\tasync (progress, token) => {\r\n\t\t\tif (config.enable) {\r\n\t\t\t\t_get = await TextsTranslation(\r\n\t\t\t\t\tpXML,\r\n\t\t\t\t\tdiffLang.map(_short => aLn[_short])\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\t_get = await TextsTranslation(\r\n\t\t\t\t\tpXML,\r\n\t\t\t\t\tdiffLang.map(_short => aLn[_short])\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tvscode.window.showWarningMessage(\"Translation complete, attempting to write file.\");\r\n\tdiffLang.forEach(_lang => {\r\n\t\twriteXML(filePath.substring(0, filePath.lastIndexOf(\"\\\\\") + 1) + \"texts_\" + _lang + \".xml\", _get[aLn[_lang]]);\r\n\t});\r\n}\r\n","import * as vscode from \"vscode\";\r\nimport { readXML, writeXML } from \"../../files/ioxml\";\r\nimport { getCurrentShorts, getMissingShorts } from \"../../lang/scripts/handleProvider\";\r\nimport aLn from \"../../lang/config/AnnoLanguages\";\r\n\r\nimport { TextsTranslation } from \"../../Component/modOp\";\r\n\r\nexport async function _singleFile(filePath: string): Promise<void> {\r\n\tlet _get: any;\r\n\tconst loca = filePath.match(\"texts_(.*).xml\")[1]; // current language\r\n\tif (typeof loca !== \"string\") {\r\n\t\tconsole.error(\"donkey\");\r\n\t\treturn;\r\n\t}\r\n\tconst pXML = await readXML(filePath);\r\n\r\n\tlet config = vscode.workspace.getConfiguration(\"anno-modding-translator.defaultComment\");\r\n\tawait vscode.window.withProgress(\r\n\t\t{\r\n\t\t\tlocation: vscode.ProgressLocation.Notification,\r\n\t\t\ttitle: \"Translation in progress...\",\r\n\t\t\tcancellable: false\r\n\t\t},\r\n\t\tasync (progress, token) => {\r\n\t\t\tif (config.enable) {\r\n\t\t\t\t_get = await TextsTranslation(pXML, [aLn[loca.toLowerCase()]]);\r\n\t\t\t} else {\r\n\t\t\t\t_get = await TextsTranslation(pXML, [aLn[loca.toLowerCase()]]);\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tvscode.window.showWarningMessage(\"Translation complete, attempting to write file.\");\r\n\twriteXML(filePath, _get[aLn[loca]]);\r\n}\r\n","import * as vscode from \"vscode\";\r\n\r\nimport * as HoverProvider from \"../lang/HoverProvider\";\r\n\r\ninterface CommandHandlers {\r\n\t[key: string]: (...args: any[]) => any;\r\n}\r\n\r\n// Import Commands and assert its type\r\nconst Commands: CommandHandlers = require(\"./Action/index\");\r\n\r\ninterface CommandContribution {\r\n\tcommand: string;\r\n\ttitle: string;\r\n}\r\n\r\nexport function activate(context: vscode.ExtensionContext): any {\r\n\tconst { commands } = vscode.extensions.getExtension(\"pnski.amt\").packageJSON.contributes;\r\n\tcommands.forEach(({ command, title }: CommandContribution) => {\r\n\t\t// Use plain JavaScript to get the last element of the split command\r\n\t\tconst commandName = command.split(\".\").pop() as string;\r\n\t\tconst handler = Commands[commandName];\r\n\t\tconst disposable = vscode.commands.registerCommand(command, args => handler(args));\r\n\t\tcontext.subscriptions.push(disposable);\r\n\t});\r\n\r\n\t//vscode.languages.registerHoverProvider(HoverProvider.Lan, HoverProvider.Provider);\r\n}\r\n\r\nexport function deactivate() {}\r\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","module.exports = require(\"vscode\");","module.exports = require(\"buffer\");","module.exports = require(\"dns\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"http2\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"node:fs\");","module.exports = require(\"os\");","module.exports = require(\"stream\");","module.exports = require(\"tls\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(6696);\n"],"names":["Object","defineProperty","exports","value","typedArrayTypeNames","objectTypeNames","primitiveTypeNames","isOfType","type","toString","prototype","getObjectType","objectTypeName","call","slice","test","is","domElement","name","includes","isObjectOfType","observable","array","buffer","tagType","String","Boolean","Number","TypeError","undefined","string","isNumberType","number","nan","bigint","function_","null_","class_","startsWith","boolean","symbol","numericString","emptyStringOrWhitespace","isNaN","assertion","Array","isArray","every","_a","_b","_c","_d","constructor","isBuffer","blob","nullOrUndefined","object","iterable","Symbol","iterator","asyncIterable","asyncIterator","generator","next","throw","asyncGenerator","nativePromise","promise","then","catch","hasPromiseAPI","generatorFunction","asyncGeneratorFunction","asyncFunction","boundFunction","hasOwnProperty","regExp","date","error","map","set","weakMap","weakSet","int8Array","uint8Array","uint8ClampedArray","int16Array","uint16Array","int32Array","uint32Array","float32Array","float64Array","bigInt64Array","bigUint64Array","arrayBuffer","sharedArrayBuffer","dataView","enumCase","targetEnum","values","directInstanceOf","instance","getPrototypeOf","urlInstance","urlString","URL","truthy","falsy","primitive","integer","isInteger","safeInteger","isSafeInteger","plainObject","typedArray","isTypedArrayName","arrayLike","isValidLength","length","inRange","range","Math","min","max","JSON","stringify","DOM_PROPERTIES_TO_CHECK","nodeType","nodeName","property","nodeStream","pipe","infinite","Infinity","isAbsoluteMod2","remainder","abs","evenInteger","oddInteger","emptyArray","nonEmptyArray","emptyString","isWhiteSpaceString","nonEmptyString","nonEmptyStringAndNotWhitespace","emptyObject","keys","nonEmptyObject","emptySet","size","nonEmptySet","emptyMap","nonEmptyMap","propertyKey","any","formData","urlSearchParams","predicateOnArray","method","predicate","some","singlePredicate","all","assertType","condition","description","options","multipleValues","valuesMessage","Set","singleValue","join","assert","forEach","defineProperties","class","function","null","module","defer_to_connect_1","util_1","nodejsMajorVersion","process","versions","node","split","timer","request","timings","start","Date","now","socket","lookup","connect","secureConnect","upload","response","end","abort","phases","wait","dns","tcp","tls","firstByte","download","total","handleError","origin","emit","bind","event","args","onAbort","prependOnceListener","onSocket","types","isProxy","lookupListener","default","removeListener","onUpload","writableFinished","finished","outputSize","writableLength","got","lang","config","TRANSLATE_API_ROOT","TRANSLATE_WEBSITE","websiteEndpoint","TRANSLATE_API","translateEndpoint","TRANSLATE_API_SPELL_CHECK","spellCheckEndpoint","globalConfig","globalConfigPromise","replaceSubdomain","url","subdomain","replace","async","fetchGlobalConfig","userAgent","proxyAgents","body","redirects","redirectUrl","headers","agent","retry","limit","methods","match","IG","IID","key","token","tokenExpiryInterval","parse","requiredFields","tokenTs","entries","field","Error","count","e","console","makeRequestURL","isSpellCheck","useEPT","makeRequestBody","text","fromLang","toLang","to","tryFetchingGenderDebiasedTranslations","wrapRequest","err","readableErrMsg","ShowCaptcha","StatusCode","statusCode","responseMsg","statusMessage","wrappedErr","stack","translate","from","correct","raw","trim","isTokenExpired","fromSupported","isSupported","toSupported","getLangCode","canUseEPT","maxEPTTextLen","eptLangs","maxTextLen","maxTextLenCN","requestURL","requestBody","requestHeaders","referer","retryConfig","post","form","responseType","translation","translations","detectedLang","detectedLanguage","res","userLang","language","score","correctLang","matcher","maxCorrectableTextLen","isCorrectable","correctedText","warn","MET","LANGS","correctableLangs","LANGS_CORRECTABLE","toLowerCase","supportedLangCodes","code","i","len","DEFAULT_USER_AGENT","authJWT","jwtPayload","Buffer","tokenExpiresAt","exp","toLocaleLowerCase","t","authenticationHeaders","gotOptions","assign","gotHeaders","requestPayload","txt","Text","searchParams","URLSearchParams","translateOptions","filter","_","val","json","Authorization","errMsg","RequestError","responseBody","message","V4MAPPED","ADDRCONFIG","ALL","promises","Resolver","AsyncResolver","dnsLookup","promisify","os","kCacheableLookupCreateConnection","kCacheableLookupInstance","kExpires","supportsALL","verifyAgent","createConnection","getIfaceInfo","has4","has6","device","networkInterfaces","iface","internal","family","ttl","CacheableLookup","cache","Map","maxTtl","fallbackDuration","errorTtl","resolver","this","_cache","_resolver","_dnsLookup","_resolve4","resolve4","_resolve6","resolve6","_iface","_pending","_nextRemovalTime","_hostnamesToFallback","_fallback","interval","setInterval","clear","unref","lookupAsync","servers","setServers","getServers","hostname","callback","result","address","expires","cached","query","filtered","entry","hints","map4to6","get","pending","newPromise","queryAndCache","_resolve","A","AAAA","Promise","wrap","aTtl","aaaaTtl","cacheTtl","_lookup","_set","data","cacheError","cause","_tick","has","add","ms","nextRemovalTime","clearTimeout","_removalTimeout","setTimeout","nextExpiry","delete","install","uninstall","updateInterfaceInfo","EventEmitter","urlLib","normalizeUrl","getStream","CachePolicy","Response","lowercaseKeys","cloneResponse","Keyv","CacheableRequest","cacheAdapter","uri","store","namespace","createCacheableRequest","opts","cb","normalizeUrlObject","pathname","searchParts","path","search","strictTtl","automaticFailover","urlObjectToRequestOptions","ee","normalizedUrlString","format","stripWWW","removeTrailingSlash","stripAuthentication","revalidate","madeRequest","makeRequest","requestErrorCallback","requestErrored","requestErrorPromise","resolve","handler","forceRefresh","status","revalidatedPolicy","fromObject","cachePolicy","modified","policy","responseHeaders","fromCache","clonedResponse","storable","bodyPromise","race","once","toObject","timeToLive","CacheError","req","cacheEntry","satisfiesWithoutRevalidation","revalidationHeaders","errorHandler","on","protocol","auth","host","port","super","PassThrough","mimicResponse","clone","Transform","zlib","contentEncoding","isBrotli","createBrotliDecompress","destroy","isEmpty","checker","transform","_encoding","flush","finalStream","autoDestroy","decompressStream","createUnzip","readable","knownProperties","fromStream","toStream","_readableState","fromProperties","concat","properties","enumerable","configurable","complete","deferToConnect","fn","listeners","hasConnectListener","hasSecureConnectListener","hasCloseListener","close","onConnect","encrypted","isTLSSocket","authorized","authorizationError","writable","connecting","destroyed","_hadError","noop","eos","stream","ws","_writableState","rs","cancelled","onlegacyfinish","onfinish","onend","onexit","exitCode","onerror","onclose","nextTick","onclosenexttick","ended","onrequest","setHeader","isRequest","stdio","isChildProcess","validator","XMLParser","XMLBuilder","XMLValidator","nameStartChar","nameRegexp","regexName","RegExp","isExist","v","isEmptyObject","obj","merge","target","a","arrayMode","getValue","isName","exec","getAllMatches","regex","matches","allmatches","startIndex","lastIndex","index","push","util","defaultOptions","allowBooleanAttributes","unpairedTags","isWhiteSpace","char","readPI","xmlData","tagname","substr","getErrorObject","getLineNumberForPosition","readCommentAndCDATA","angleBracketsCount","validate","tags","tagFound","reachedRoot","tagStartPos","closingTag","tagName","substring","msg","readAttributeStr","attrStr","attrStrStart","isValid","validateAttributeString","line","tagClosed","otg","pop","openPos","col","indexOf","afterAmp","validateAmpersand","doubleQuote","singleQuote","startChar","validAttrStrRegxp","attrNames","getPositionFromMatch","attrName","validateAttrName","re","validateNumberAmpersand","lineNumber","lines","buildFromOrderedJs","attributeNamePrefix","attributesGroupName","textNodeName","ignoreAttributes","cdataPropName","indentBy","suppressEmptyNode","suppressUnpairedNode","suppressBooleanAttributes","tagValueProcessor","attributeValueProcessor","preserveOrder","commentPropName","entities","processEntities","stopNodes","oneListGroup","Builder","isAttribute","attrPrefixLen","processTextOrObjNode","indentate","tagEndChar","newLine","level","j2x","buildTextValNode","buildObjectNode","repeat","build","jObj","arrayNodeName","attr","buildAttrPairStr","newval","replaceEntitiesValue","arrLen","listTagVal","j","item","Ks","L","closeTag","tagEndExp","piClosingChar","textValue","entity","arrToStr","arr","jPath","indentation","xmlStr","isPreviousElementTag","tagObj","propName","newJPath","tagText","isStopNode","attStr","attr_to_str","tempInd","piTextNodeName","newIdentation","tagStart","tagValue","endsWith","attrMap","attrVal","lastIndexOf","jArray","readEntityExp","entityName","isComment","isEntity","isElement","isAttlist","isNotation","validateEntityName","hasBody","comment","regx","removeNSPrefix","parseTagValue","parseAttributeValue","trimValues","numberParseOptions","hex","leadingZeros","eNotation","alwaysCreateTextNode","htmlEntities","ignoreDeclaration","ignorePiTags","transformTagName","transformAttributeName","updateTag","attrs","buildOptions","xmlNode","readDocType","toNumber","addExternalEntities","externalEntities","entKeys","ent","lastEntities","parseTextData","dontTrim","hasAttributes","isLeafNode","escapeEntities","parseValue","resolveNameSpace","prefix","charAt","attrsRegx","buildAttributesMap","oldVal","aName","newVal","attrCollection","parseXml","xmlObj","currentNode","textData","closeIndex","findClosingIndex","colonIndex","saveTextToParentTag","lastTagName","propIndex","tagsNodeStack","tagData","readTagExp","childNode","tagExp","attrExpPresent","addChild","endIndex","docTypeEntities","rawTagName","lastTag","isItStopNode","tagContent","readStopNodeData","child","ampEntity","currentTagName","allNodesExp","stopNodePath","stopNodeExp","str","closingIndex","closingChar","attrBoundary","ch","tagExpWithClosingIndex","separatorIndex","trimStart","openTagCount","shouldParse","fromCharCode","parseInt","OrderedObjParser","prettify","validationOption","orderedObjParser","orderedResult","addEntity","compress","compressedObj","newJpath","isLeaf","isLeafTag","assignAttributes","jpath","atrrName","propCount","PassThroughStream","encoding","objectMode","setEncoding","chunks","chunk","getBufferedValue","getBufferedLength","constants","BufferConstants","pump","bufferStream","MaxBufferError","inputStream","reject","maxBuffer","rejectPromise","MAX_LENGTH","bufferedData","types_1","beforeErrorGroups","hooks","hook","error_","returnPromise","__createBinding","create","o","m","k","k2","__exportStar","p","events_1","is_1","PCancelable","parse_body_1","core_1","proxy_events_1","get_buffer_1","is_response_ok_1","proxiedRequestEvents","asPromise","normalizedOptions","globalRequest","globalResponse","emitter","onCancel","retryCount","_noPipe","shouldReject","CancelError","aborted","rawBody","_isAboutToError","isCompressed","decompress","parseJson","isResponseOk","_beforeError","afterResponse","updatedOptions","typedOptions","normalizeArguments","calculateDelay","throwHttpErrors","resolveBodyOnly","beforeRetry","cancel","HTTPError","onError","isCanceled","previousBody","newRetryCount","shortcut","getOwnPropertyDescriptors","accept","defaults","methodRewriting","isStream","retryObject","computedValue","statusCodes","errorCodes","maxRetryAfter","toUpperCase","timeout","pagination","shouldContinue","paginate","ParseError","retryAfterStatusCodes","attemptCount","retryOptions","retryAfter","hasMethod","hasErrorCode","hasStatusCode","random","UnsupportedProtocolError","ReadError","TimeoutError","UploadError","MaxRedirectsError","setNonEnumerableProperties","knownHookEvents","withoutBody","kIsNormalizedAlready","stream_1","fs_1","url_1","http","http_1","https","http_timer_1","cacheable_lookup_1","decompressResponse","http2wrapper","get_body_size_1","is_form_data_1","timed_out_1","url_to_options_1","options_to_url_1","weakable_map_1","dns_ip_version_1","deprecation_warning_1","normalize_arguments_1","calculate_retry_delay_1","globalDnsCache","kRequest","kResponse","kResponseSize","kDownloadedSize","kBodySize","kUploadedSize","kServerResponsesPiped","kUnproxyEvents","kIsFromCache","kCancelTimeouts","kStartedReading","kStopReading","kTriggerRead","kBody","kJobs","kOriginalResponse","kRetryTimeout","supportsBrotli","brotli","cacheableStore","redirectCodes","nonEnumerableProperties","sources","source","self","captureStackTrace","Request","indexOfMessage","thisStackTrace","reverse","errorStackTrace","shift","maxRedirects","Duplex","highWaterMark","requestInitialized","_progressCallbacks","unlockWrite","_unlockWrite","lockWrite","_lockWrite","prependListener","off","IncomingMessage","ReadStream","file","waitForOpenFile","normalizedURL","requestUrl","decodeURI","_finalizeBody","_makeRequest","job","_e","rawOptions","dnsCache","prefixUrl","cookieJar","context","ignoreInvalidCookies","followRedirect","http2","allowGetBody","localAddress","isDnsLookupIpVersion","dnsLookupIpVersion","rejectUnauthorized","checkServerIdentity","certificateAuthority","certificate","passphrase","pfx","cacheOptions","searchParameters","validateSearchParameters","append","username","password","href","setCookie","getCookieString","requestOptions","areHooksDefault","onLockedWrite","write","isForm","isJSON","isBody","hasPayload","cannotHaveBody","_cannotHaveBody","isTrue","Readable","noContentType","getBoundary","stringifyJson","uploadBodySize","_onResponseBase","typedResponse","STATUS_CODES","redirectUrls","isFromCache","ip","downloadProgress","rawCookies","rawCookie","location","resume","redirectBuffer","redirectString","isUnixSocketURL","cookie","authorization","beforeRedirect","_read","pause","destination","headersSent","isAllowed","_onResponse","_onRequest","responseEventName","removeAllListeners","uploadProgress","currentRequest","_writeRequest","_createCacheableRequest","cacheRequest","requestOrPromise","cookieString","beforeRequest","groups","socketPath","isHttps","fallbackFn","auto","realFn","shared","cacheHeuristic","immutableMinTimeToLive","ignoreCargoCult","dnsLookupIpVersionToFamily","_f","ca","cert","requestOrResponse","clientRequest","_error","beforeError","typedError","listenerCount","backoff","readableLength","read","progress","percent","_write","byteLength","_final","endRequest","_destroy","remoteAddress","transferred","ServerResponse","unpipe","conversionTable","ipv4","ipv6","statAsync","stat","getLength","limitStatusCode","searchIndex","events","fns","net","unhandle_1","reentry","threshold","delays","cancelers","unhandleAll","addTimeout","delay","timeoutHandler","cancelTimeouts","socketTimeoutHandler","hasPath","isIP","cancelTimeout","timeConnect","send","timeRequest","handlers","hash","WeakMap","defaultHandler","as_promise_1","create_rejection_1","deep_freeze_1","errors","mergeOptions","mergedOptions","getPromiseOrStream","isGotInstance","aliases","callInitHooks","_rawHandlers","root","newOptions","typedResult","promiseThen","promiseCatch","finally","promiseFianlly","setPrototypeOf","_defaults","iteration","iterateHandlers","initHookError","init","extend","instancesOrOptions","optionsArray","isMutableDefaults","mutableDefaults","paginateEach","countLimit","numberOfRequests","requestLimit","parsed","current","stackAllItems","optionsToMerge","results","each","create_1","Reflect","items","link","__esModule","deepFreeze","freeze","alreadyWarned","emitWarning","statusCodeCacheableByDefault","understoodStatuses","errorStatusCodes","hopByHopHeaders","connection","te","trailer","upgrade","excludedFromRevalidationUpdate","toNumberOrZero","s","n","isFinite","parseCacheControl","header","cc","parts","part","formatCacheControl","_fromObject","_assertRequestHasHeaders","_responseTime","_isShared","_cacheHeuristic","_immutableMinTtl","_status","_resHeaders","_rescc","_method","_url","_host","_noAuthorization","_reqHeaders","vary","_reqcc","pragma","_hasExplicitExpiration","private","_allowsStoringAuthenticated","public","requestCC","age","stale","maxAge","_requestMatches","allowHeadMethod","_varyMatches","fields","_copyWithoutHopByHopHeaders","inHeaders","tokens","warning","warnings","round","toUTCString","serverDate","_ageValue","immutable","defaultMinTtl","lastModified","staleIfErrorAge","staleWhileRevalidateAge","_useStaleIfError","useStaleWhileRevalidate","sh","imm","st","resh","rescc","u","h","reqh","reqcc","incomingReq","etag","etags","isErrorResponse","newResponse","QuickLRU","kCurrentStreamsCount","kOriginSet","kGracefullyClosing","nameKeys","compareSessions","b","remoteSettings","maxConcurrentStreams","closeCoveredSessions","where","session","coveredSession","gracefullyClose","getSessions","isFree","sessions","Agent","maxSessions","maxFreeSessions","maxCachedTlsSessions","queue","_freeSessionsCount","_sessionsCount","settings","enablePush","tlsSessionCache","maxSize","normalizeOrigin","servername","normalizeOptions","normalized","_tryToCreateNewSession","normalizedOrigin","completed","getSession","optimalSession","currentStreamsCount","sessionMaxConcurrentStreams","sessionCurrentStreamsCount","removeFromQueue","receivedSettings","wasFree","tlsSession","splice","processListeners","originSet","ref","listener","compare","low","high","mid","getSortedIndex","streamOptions","closed","closeSessionIfCovered","ALPNProtocols","closeFreeSessions","reason","entriesOfAuthority","freeSessions","busySessions","globalAgent","resolveALPN","Http2ClientRequest","calculateServerName","urlToOptions","installSocket","_httpMessage","shouldKeepAlive","onFree","onClose","removeSocket","onRemove","input","resolveSocket","_defaultAgent","agents","addRequest","sort","alpnProtocol","resultPromise","defaultCreateConnection","resolveProtocol","protocolCache","Writable","proxyEvents","isRequestPseudoHeader","ERR_INVALID_ARG_TYPE","ERR_INVALID_PROTOCOL","ERR_HTTP_HEADERS_SENT","ERR_INVALID_HTTP_TOKEN","ERR_HTTP_INVALID_HEADER_VALUE","ERR_INVALID_CHAR","HTTP2_HEADER_STATUS","HTTP2_HEADER_METHOD","HTTP2_HEADER_PATH","HTTP2_METHOD_CONNECT","kHeaders","kOrigin","kSession","kOptions","kFlushedHeaders","isValidHttpToken","isInvalidHeaderValue","hasInput","h2session","defaultPort","reusedSocket","_mustNotHaveABody","flushHeaders","callWrite","_request","callEnd","_dump","isConnectMethod","onStream","waitForEnd","flags","rawHeaders","readableHighWaterMark","alloc","_dumped","trailers","rawTrailers","getHeader","removeHeader","setNoDelay","setSocketKeepAlive","applyTimeout","maxHeadersCount","localSettings","maxHeaderListSize","_value","httpVersion","httpVersionMajor","httpVersionMinor","ClientRequest","hostHeader","makeError","Base","getMessage","valid","isManyTypes","toJSON","first","ignore","JSONB","iterableAdapters","emitErrors","serialize","deserialize","adapterOptions","adapters","redis","rediss","mongodb","mongo","sqlite","postgresql","postgres","mysql","etcd","offline","tiered","adapter","loadStore","compression","generateIterator","_getKeyUnprefix","_checkIterableAdaptar","dialect","findIndex","element","_getKeyPrefix","_getKeyPrefixArray","keyPrefixed","getMany","allSettled","row","deleteMany","x","disconnect","webpackEmptyContext","id","knownProps","fromProps","prop","testParameter","filters","defaultProtocol","normalizeProtocol","forceHttp","forceHttps","stripHash","stripTextFragment","removeQueryParameters","removeSingleSlash","removeDirectoryIndex","sortQueryParameters","mediaType","isBase64","mimeType","normalizedMediaType","attribute","unshift","normalizeDataURL","hasRelativeProtocol","urlObj","pathComponents","lastComponent","oldUrlString","stripProtocol","wrappy","f","called","apply","arguments","onceStrict","onceError","strict","proto","Function","userFn","arguments_","executor","_cancelHandlers","_isPending","_isCanceled","_rejectOnCancel","_promise","_reject","onFulfilled","onRejected","onFinally","fs","ancient","version","isFn","streams","destroys","reading","writing","WriteStream","isFS","destroyer","reduce","onEviction","oldCache","_size","peek","deleted","oldCacheSize","socketPromise","onTimeout","hexRegex","numRegex","window","parseFloat","consider","decimalPoint","trimmedStr","skipLike","sign","numTrimmedByZeros","numStr","num","vscode","workspace","getConfiguration","addComments","CommentObject","_Text","enable","sourceString","onDidChangeConfiguration","affectsConfiguration","pXML","loca","_pXML","el","structuredClone","ModOps","ModOp","log","_get","multiTranslate","_key","_var","_TextIndex","parserOptions","replaceAll","filePath","parser","loadedXML","readFileSync","parsedXML","builderOptions","xmlOutput","writeFileSync","readdirSync","chinese","english","french","german","italian","japanese","korean","polish","russian","spanish","taiwanese","textType","TranslateText","TranslateTo","TranslateFrom","bt","showErrorMessage","_text","Lang","visual","visualError","_URL","fetch","q","translatedText","Provider","bingTranslate","singleTranslate","libreTranslate","Languages","aLn_List","_res","Message","showWarningMessage","showInformationMessage","testingStuff","_uri","fsPath","modInfo","jsonPath","activeTextEditor","document","ModInfo","singleFile","xmlPath","_singleFile","multiFile","_multiFile","Inplace","mSel","selection","getText","pJson","loadedJSON","readJson","modinfoCategory","withProgress","ProgressLocation","Notification","title","cancellable","report","trunc","increment","jsonCat","Uint8Array","writeFile","writeJSON","readXML","diffLang","answer","getMissingShorts","_cLang","readDir","TextsTranslation","_short","_lang","writeXML","Commands","commands","extensions","getExtension","packageJSON","contributes","command","commandName","disposable","registerCommand","subscriptions","wrapper","ret","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__webpack_exports__"],"sourceRoot":""}